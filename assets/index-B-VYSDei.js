var w1=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var hO=w1((mO,Nu)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ap(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var om={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function b1(){if(g_)return Hl;g_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=t,Hl.jsx=n,Hl.jsxs=n,Hl}var y_;function S1(){return y_||(y_=1,om.exports=b1()),om.exports}var it=S1(),lm={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function A1(){if(v_)return Vt;v_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function R(w){return w===null||typeof w!="object"?null:(w=T&&w[T]||w["@@iterator"],typeof w=="function"?w:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Z={};function k(w,A,W){this.props=w,this.context=A,this.refs=Z,this.updater=W||x}k.prototype.isReactComponent={},k.prototype.setState=function(w,A){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,A,"setState")},k.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function U(){}U.prototype=k.prototype;function X(w,A,W){this.props=w,this.context=A,this.refs=Z,this.updater=W||x}var nt=X.prototype=new U;nt.constructor=X,H(nt,k.prototype),nt.isPureReactComponent=!0;var dt=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function V(w,A,W,B,et,ot){return W=ot.ref,{$$typeof:r,type:w,key:A,ref:W!==void 0?W:null,props:ot}}function I(w,A){return V(w.type,A,void 0,void 0,void 0,w.props)}function C(w){return typeof w=="object"&&w!==null&&w.$$typeof===r}function O(w){var A={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(W){return A[W]})}var P=/\/+/g;function L(w,A){return typeof w=="object"&&w!==null&&w.key!=null?O(""+w.key):A.toString(36)}function N(){}function me(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(N,N):(w.status="pending",w.then(function(A){w.status==="pending"&&(w.status="fulfilled",w.value=A)},function(A){w.status==="pending"&&(w.status="rejected",w.reason=A)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Wt(w,A,W,B,et){var ot=typeof w;(ot==="undefined"||ot==="boolean")&&(w=null);var ut=!1;if(w===null)ut=!0;else switch(ot){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(w.$$typeof){case r:case t:ut=!0;break;case E:return ut=w._init,Wt(ut(w._payload),A,W,B,et)}}if(ut)return et=et(w),ut=B===""?"."+L(w,0):B,dt(et)?(W="",ut!=null&&(W=ut.replace(P,"$&/")+"/"),Wt(et,A,W,"",function(xt){return xt})):et!=null&&(C(et)&&(et=I(et,W+(et.key==null||w&&w.key===et.key?"":(""+et.key).replace(P,"$&/")+"/")+ut)),A.push(et)),1;ut=0;var mt=B===""?".":B+":";if(dt(w))for(var ct=0;ct<w.length;ct++)B=w[ct],ot=mt+L(B,ct),ut+=Wt(B,A,W,ot,et);else if(ct=R(w),typeof ct=="function")for(w=ct.call(w),ct=0;!(B=w.next()).done;)B=B.value,ot=mt+L(B,ct++),ut+=Wt(B,A,W,ot,et);else if(ot==="object"){if(typeof w.then=="function")return Wt(me(w),A,W,B,et);throw A=String(w),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return ut}function Y(w,A,W){if(w==null)return w;var B=[],et=0;return Wt(w,B,"","",function(ot){return A.call(W,ot,et++)}),B}function lt(w){if(w._status===-1){var A=w._result;A=A(),A.then(function(W){(w._status===0||w._status===-1)&&(w._status=1,w._result=W)},function(W){(w._status===0||w._status===-1)&&(w._status=2,w._result=W)}),w._status===-1&&(w._status=0,w._result=A)}if(w._status===1)return w._result.default;throw w._result}var yt=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Mt(){}return Vt.Children={map:Y,forEach:function(w,A,W){Y(w,function(){A.apply(this,arguments)},W)},count:function(w){var A=0;return Y(w,function(){A++}),A},toArray:function(w){return Y(w,function(A){return A})||[]},only:function(w){if(!C(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Vt.Component=k,Vt.Fragment=n,Vt.Profiler=o,Vt.PureComponent=X,Vt.StrictMode=s,Vt.Suspense=p,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return gt.H.useMemoCache(w)}},Vt.cache=function(w){return function(){return w.apply(null,arguments)}},Vt.cloneElement=function(w,A,W){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var B=H({},w.props),et=w.key,ot=void 0;if(A!=null)for(ut in A.ref!==void 0&&(ot=void 0),A.key!==void 0&&(et=""+A.key),A)!bt.call(A,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&A.ref===void 0||(B[ut]=A[ut]);var ut=arguments.length-2;if(ut===1)B.children=W;else if(1<ut){for(var mt=Array(ut),ct=0;ct<ut;ct++)mt[ct]=arguments[ct+2];B.children=mt}return V(w.type,et,void 0,void 0,ot,B)},Vt.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},Vt.createElement=function(w,A,W){var B,et={},ot=null;if(A!=null)for(B in A.key!==void 0&&(ot=""+A.key),A)bt.call(A,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(et[B]=A[B]);var ut=arguments.length-2;if(ut===1)et.children=W;else if(1<ut){for(var mt=Array(ut),ct=0;ct<ut;ct++)mt[ct]=arguments[ct+2];et.children=mt}if(w&&w.defaultProps)for(B in ut=w.defaultProps,ut)et[B]===void 0&&(et[B]=ut[B]);return V(w,ot,void 0,void 0,null,et)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(w){return{$$typeof:m,render:w}},Vt.isValidElement=C,Vt.lazy=function(w){return{$$typeof:E,_payload:{_status:-1,_result:w},_init:lt}},Vt.memo=function(w,A){return{$$typeof:g,type:w,compare:A===void 0?null:A}},Vt.startTransition=function(w){var A=gt.T,W={};gt.T=W;try{var B=w(),et=gt.S;et!==null&&et(W,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(Mt,yt)}catch(ot){yt(ot)}finally{gt.T=A}},Vt.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},Vt.use=function(w){return gt.H.use(w)},Vt.useActionState=function(w,A,W){return gt.H.useActionState(w,A,W)},Vt.useCallback=function(w,A){return gt.H.useCallback(w,A)},Vt.useContext=function(w){return gt.H.useContext(w)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(w,A){return gt.H.useDeferredValue(w,A)},Vt.useEffect=function(w,A,W){var B=gt.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return B.useEffect(w,A)},Vt.useId=function(){return gt.H.useId()},Vt.useImperativeHandle=function(w,A,W){return gt.H.useImperativeHandle(w,A,W)},Vt.useInsertionEffect=function(w,A){return gt.H.useInsertionEffect(w,A)},Vt.useLayoutEffect=function(w,A){return gt.H.useLayoutEffect(w,A)},Vt.useMemo=function(w,A){return gt.H.useMemo(w,A)},Vt.useOptimistic=function(w,A){return gt.H.useOptimistic(w,A)},Vt.useReducer=function(w,A,W){return gt.H.useReducer(w,A,W)},Vt.useRef=function(w){return gt.H.useRef(w)},Vt.useState=function(w){return gt.H.useState(w)},Vt.useSyncExternalStore=function(w,A,W){return gt.H.useSyncExternalStore(w,A,W)},Vt.useTransition=function(){return gt.H.useTransition()},Vt.version="19.1.1",Vt}var __;function op(){return __||(__=1,lm.exports=A1()),lm.exports}var G=op();const ft=ap(G);var um={exports:{}},ql={},cm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function R1(){return E_||(E_=1,(function(r){function t(Y,lt){var yt=Y.length;Y.push(lt);t:for(;0<yt;){var Mt=yt-1>>>1,w=Y[Mt];if(0<o(w,lt))Y[Mt]=lt,Y[yt]=w,yt=Mt;else break t}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var lt=Y[0],yt=Y.pop();if(yt!==lt){Y[0]=yt;t:for(var Mt=0,w=Y.length,A=w>>>1;Mt<A;){var W=2*(Mt+1)-1,B=Y[W],et=W+1,ot=Y[et];if(0>o(B,yt))et<w&&0>o(ot,B)?(Y[Mt]=ot,Y[et]=yt,Mt=et):(Y[Mt]=B,Y[W]=yt,Mt=W);else if(et<w&&0>o(ot,yt))Y[Mt]=ot,Y[et]=yt,Mt=et;else break t}}return lt}function o(Y,lt){var yt=Y.sortIndex-lt.sortIndex;return yt!==0?yt:Y.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,R=3,x=!1,H=!1,Z=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function dt(Y){for(var lt=n(g);lt!==null;){if(lt.callback===null)s(g);else if(lt.startTime<=Y)s(g),lt.sortIndex=lt.expirationTime,t(p,lt);else break;lt=n(g)}}function gt(Y){if(Z=!1,dt(Y),!H)if(n(p)!==null)H=!0,bt||(bt=!0,L());else{var lt=n(g);lt!==null&&Wt(gt,lt.startTime-Y)}}var bt=!1,V=-1,I=5,C=-1;function O(){return k?!0:!(r.unstable_now()-C<I)}function P(){if(k=!1,bt){var Y=r.unstable_now();C=Y;var lt=!0;try{t:{H=!1,Z&&(Z=!1,X(V),V=-1),x=!0;var yt=R;try{e:{for(dt(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&O());){var Mt=T.callback;if(typeof Mt=="function"){T.callback=null,R=T.priorityLevel;var w=Mt(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof w=="function"){T.callback=w,dt(Y),lt=!0;break e}T===n(p)&&s(p),dt(Y)}else s(p);T=n(p)}if(T!==null)lt=!0;else{var A=n(g);A!==null&&Wt(gt,A.startTime-Y),lt=!1}}break t}finally{T=null,R=yt,x=!1}lt=void 0}}finally{lt?L():bt=!1}}}var L;if(typeof nt=="function")L=function(){nt(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,me=N.port2;N.port1.onmessage=P,L=function(){me.postMessage(null)}}else L=function(){U(P,0)};function Wt(Y,lt){V=U(function(){Y(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(Y){switch(R){case 1:case 2:case 3:var lt=3;break;default:lt=R}var yt=R;R=lt;try{return Y()}finally{R=yt}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(Y,lt){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var yt=R;R=Y;try{return lt()}finally{R=yt}},r.unstable_scheduleCallback=function(Y,lt,yt){var Mt=r.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Mt+yt:Mt):yt=Mt,Y){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=yt+w,Y={id:E++,callback:lt,priorityLevel:Y,startTime:yt,expirationTime:w,sortIndex:-1},yt>Mt?(Y.sortIndex=yt,t(g,Y),n(p)===null&&Y===n(g)&&(Z?(X(V),V=-1):Z=!0,Wt(gt,yt-Mt))):(Y.sortIndex=w,t(p,Y),H||x||(H=!0,bt||(bt=!0,L()))),Y},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Y){var lt=R;return function(){var yt=R;R=lt;try{return Y.apply(this,arguments)}finally{R=yt}}}})(hm)),hm}var T_;function I1(){return T_||(T_=1,cm.exports=R1()),cm.exports}var fm={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function C1(){if(w_)return vn;w_=1;var r=op();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,vn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},vn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},vn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},vn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},vn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},vn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},vn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},vn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},vn.requestFormReset=function(p){s.d.r(p)},vn.unstable_batchedUpdates=function(p,g){return p(g)},vn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},vn.useFormStatus=function(){return f.H.useHostTransitionStatus()},vn.version="19.1.1",vn}var b_;function lE(){if(b_)return fm.exports;b_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),fm.exports=C1(),fm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function N1(){if(S_)return ql;S_=1;var r=I1(),t=op(),n=lE();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case k:return"Profiler";case Z:return"StrictMode";case gt:return"Suspense";case bt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case nt:return(e.displayName||"Context")+".Provider";case X:return(e._context.displayName||"Context")+".Consumer";case dt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:me(e.type)||"Memo";case I:i=e._payload,e=e._init;try{return me(e(i))}catch{}}return null}var Wt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Mt=[],w=-1;function A(e){return{current:e}}function W(e){0>w||(e.current=Mt[w],Mt[w]=null,w--)}function B(e,i){w++,Mt[w]=e.current,e.current=i}var et=A(null),ot=A(null),ut=A(null),mt=A(null);function ct(e,i){switch(B(ut,i),B(ot,e),B(et,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Fv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Fv(i),e=Gv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(et),B(et,e)}function xt(){W(et),W(ot),W(ut)}function Ht(e){e.memoizedState!==null&&B(mt,e);var i=et.current,a=Gv(i,e.type);i!==a&&(B(ot,e),B(et,a))}function Pt(e){ot.current===e&&(W(et),W(ot)),mt.current===e&&(W(mt),Ll._currentValue=yt)}var Ut=Object.prototype.hasOwnProperty,he=r.unstable_scheduleCallback,Nt=r.unstable_cancelCallback,Ie=r.unstable_shouldYield,He=r.unstable_requestPaint,ee=r.unstable_now,pn=r.unstable_getCurrentPriorityLevel,be=r.unstable_ImmediatePriority,qe=r.unstable_UserBlockingPriority,ui=r.unstable_NormalPriority,Fe=r.unstable_LowPriority,bn=r.unstable_IdlePriority,wi=r.log,Ur=r.unstable_setDisableYieldValue,ne=null,$t=null;function We(e){if(typeof wi=="function"&&Ur(e),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(ne,e)}catch{}}var Se=Math.clz32?Math.clz32:gn,Cn=Math.log,bi=Math.LN2;function gn(e){return e>>>=0,e===0?32:31-(Cn(e)/bi|0)|0}var ci=256,Zi=4194304;function Nn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ji(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Nn(l):(_&=b,_!==0?h=Nn(_):a||(a=b&~e,a!==0&&(h=Nn(a))))):(b=l&~d,b!==0?h=Nn(b):_!==0?h=Nn(_):a||(a=l&~e,a!==0&&(h=Nn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function tr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function er(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dn(){var e=ci;return ci<<=1,(ci&4194048)===0&&(ci=256),e}function Ps(){var e=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),e}function hi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Qn(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zr(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,D=e.expirationTimes,F=e.hiddenUpdates;for(a=_&~a;0<a;){var J=31-Se(a),rt=1<<J;b[J]=0,D[J]=-1;var K=F[J];if(K!==null)for(F[J]=null,J=0;J<K.length;J++){var Q=K[J];Q!==null&&(Q.lane&=-536870913)}a&=~rt}l!==0&&wt(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function wt(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Se(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function ve(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Se(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function pe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ln(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function Ce(e,i){var a=lt.p;try{return lt.p=e,i()}finally{lt.p=a}}var zt=Math.random().toString(36).slice(2),_e="__reactFiber$"+zt,Zt="__reactProps$"+zt,Ee="__reactContainer$"+zt,Br="__reactEvents$"+zt,fi="__reactListeners$"+zt,nr="__reactHandles$"+zt,Du="__reactResources$"+zt,ks="__reactMarker$"+zt;function jr(e){delete e[_e],delete e[Zt],delete e[Br],delete e[fi],delete e[nr]}function ir(e){var i=e[_e];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ee]||a[_e]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Xv(e);e!==null;){if(a=e[_e])return a;e=Xv(e)}return i}e=a,a=e.parentNode}return null}function Si(e){if(e=e[_e]||e[Ee]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Ai(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Sn(e){var i=e[Du];return i||(i=e[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xe(e){e[ks]=!0}var qo=new Set,Aa={};function di(e,i){rr(e,i),rr(e+"Capture",i)}function rr(e,i){for(Aa[e]=i,e=0;e<i.length;e++)qo.add(i[e])}var xu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ou={},Ls={};function Mu(e){return Ut.call(Ls,e)?!0:Ut.call(Ou,e)?!1:xu.test(e)?Ls[e]=!0:(Ou[e]=!0,!1)}function Hr(e,i,a){if(Mu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Ri(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function sn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var Us,Vu;function sr(e){if(Us===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Us=i&&i[1]||"",Vu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Us+e+Vu}var Ra=!1;function Ia(e,i){if(!e||Ra)return"";Ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(Q){var K=Q}Reflect.construct(e,[],rt)}else{try{rt.call()}catch(Q){K=Q}e.call(rt.prototype)}}else{try{throw Error()}catch(Q){K=Q}(rt=e())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var D=_.split(`
`),F=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===F.length)for(l=D.length-1,h=F.length-1;1<=l&&0<=h&&D[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==F[h]){var J=`
`+D[l].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=l&&0<=h);break}}}finally{Ra=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?sr(a):""}function Fo(e){switch(e.tag){case 26:case 27:case 5:return sr(e.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 15:return Ia(e.type,!1);case 11:return Ia(e.type.render,!1);case 1:return Ia(e.type,!0);case 31:return sr("Activity");default:return""}}function Ca(e){try{var i="";do i+=Fo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function An(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Go(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hf(e){var i=Go(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Na(e){e._valueTracker||(e._valueTracker=hf(e))}function Yo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Go(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ff=/[\n"\\]/g;function ke(e){return e.replace(ff,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Un(e,i,a,l,h,d,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+An(i)):e.value!==""+An(i)&&(e.value=""+An(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?qr(e,_,An(i)):a!=null?qr(e,_,An(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+An(b):e.removeAttribute("name")}function Bs(e,i,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+An(a):"",i=i!=null?""+An(i):a,b||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function qr(e,i,a){i==="number"&&zs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ar(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+An(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function oe(e,i,a){if(i!=null&&(i=""+An(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+An(a):""}function js(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Wt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=An(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Xn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Hs.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ko(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Pu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Pu(e,d,i[d])}function Qo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(e){return mf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var or=null;function $n(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,ur=null;function Xo(e){var i=Si(e);if(i&&(e=i.stateNode)){var a=e[Zt]||null;t:switch(e=i.stateNode,i.type){case"input":if(Un(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ke(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Zt]||null;if(!h)throw Error(s(90));Un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Yo(l)}break t;case"textarea":oe(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&ar(e,!!a.multiple,i,!1)}}}var Ii=!1;function ku(e,i,a){if(Ii)return e(i,a);Ii=!0;try{var l=e(i);return l}finally{if(Ii=!1,(lr!==null||ur!==null)&&(Nc(),lr&&(i=lr,e=ur,ur=lr=null,Xo(i),e)))for(i=0;i<e.length;i++)Xo(e[i])}}function qs(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Zt]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(mi)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Wn=!1}var Ci=null,Fr=null,cr=null;function $o(){if(cr)return cr;var e,i=Fr,a=i.length,l,h="value"in Ci?Ci.value:Ci.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return cr=h.slice(e,1<l?1-l:void 0)}function Ni(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Wo(){return!1}function Ze(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Di:Wo,this.isPropagationStopped=Wo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),i}var ie={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Ze(ie),Gs=E({},ie,{view:0,detail:0}),Lu=Ze(Gs),Oa,Ma,xi,Ys=E({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(Oa=e.screenX-xi.screenX,Ma=e.screenY-xi.screenY):Ma=Oa=0,xi=e),Oa)},movementY:function(e){return"movementY"in e?e.movementY:Ma}}),Zn=Ze(Ys),Uu=E({},Ys,{dataTransfer:0}),pf=Ze(Uu),Ks=E({},Gs,{relatedTarget:0}),Va=Ze(Ks),Zo=E({},ie,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=Ze(Zo),zu=E({},ie,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ka=Ze(zu),gf=E({},ie,{data:0}),Jo=Ze(gf),Qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ju[e])?!!i[e]:!1}function Xs(){return tl}var Hu=E({},Gs,{key:function(e){if(e.key){var i=Qs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(e){return e.type==="keypress"?Ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),La=Ze(Hu),qu=E({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Ze(qu),hr=E({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),Fu=Ze(hr),Gu=E({},ie,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yu=Ze(Gu),Ku=E({},Ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=Ze(Ku),Rn=E({},ie,{newState:0,oldState:0}),Qu=Ze(Rn),Xu=[9,13,27,32],Oi=mi&&"CompositionEvent"in window,c=null;mi&&"documentMode"in document&&(c=document.documentMode);var y=mi&&"TextEvent"in window&&!c,v=mi&&(!Oi||c&&8<c&&11>=c),S=" ",j=!1;function $(e,i){switch(e){case"keyup":return Xu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ht(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yt=!1;function Ge(e,i){switch(e){case"compositionend":return ht(i);case"keypress":return i.which!==32?null:(j=!0,S);case"textInput":return e=i.data,e===S&&j?null:e;default:return null}}function Kt(e,i){if(Yt)return e==="compositionend"||!Oi&&$(e,i)?(e=$o(),cr=Fr=Ci=null,Yt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ye(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Je[e.type]:i==="textarea"}function fr(e,i,a,l){lr?ur?ur.push(l):ur=[l]:lr=l,i=Pc(i,"onChange"),0<i.length&&(a=new xa("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var an=null,Mi=null;function nl(e){zv(e,0)}function $u(e){var i=Ai(e);if(Yo(i))return e}function ag(e,i){if(e==="change")return i}var og=!1;if(mi){var yf;if(mi){var vf="oninput"in document;if(!vf){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),vf=typeof lg.oninput=="function"}yf=vf}else yf=!1;og=yf&&(!document.documentMode||9<document.documentMode)}function ug(){an&&(an.detachEvent("onpropertychange",cg),Mi=an=null)}function cg(e){if(e.propertyName==="value"&&$u(Mi)){var i=[];fr(i,Mi,e,$n(e)),ku(nl,i)}}function Zw(e,i,a){e==="focusin"?(ug(),an=i,Mi=a,an.attachEvent("onpropertychange",cg)):e==="focusout"&&ug()}function Jw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $u(Mi)}function tb(e,i){if(e==="click")return $u(i)}function eb(e,i){if(e==="input"||e==="change")return $u(i)}function nb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var zn=typeof Object.is=="function"?Object.is:nb;function il(e,i){if(zn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ut.call(i,h)||!zn(e[h],i[h]))return!1}return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fg(e,i){var a=hg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=hg(a)}}function dg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?dg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=zs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=zs(e.document)}return i}function _f(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var ib=mi&&"documentMode"in document&&11>=document.documentMode,za=null,Ef=null,rl=null,Tf=!1;function pg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||za==null||za!==zs(l)||(l=za,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Pc(Ef,"onSelect"),0<l.length&&(i=new xa("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=za)))}function $s(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ba={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},wf={},gg={};mi&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Ws(e){if(wf[e])return wf[e];if(!Ba[e])return e;var i=Ba[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in gg)return wf[e]=i[a];return e}var yg=Ws("animationend"),vg=Ws("animationiteration"),_g=Ws("animationstart"),rb=Ws("transitionrun"),sb=Ws("transitionstart"),ab=Ws("transitioncancel"),Eg=Ws("transitionend"),Tg=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function pi(e,i){Tg.set(e,i),di(i,[e])}var wg=new WeakMap;function Jn(e,i){if(typeof e=="object"&&e!==null){var a=wg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ca(i)},wg.set(e,i),i)}return{value:e,source:i,stack:Ca(i)}}var ti=[],ja=0,Sf=0;function Wu(){for(var e=ja,i=Sf=ja=0;i<e;){var a=ti[i];ti[i++]=null;var l=ti[i];ti[i++]=null;var h=ti[i];ti[i++]=null;var d=ti[i];if(ti[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&bg(a,h,d)}}function Zu(e,i,a,l){ti[ja++]=e,ti[ja++]=i,ti[ja++]=a,ti[ja++]=l,Sf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Af(e,i,a,l){return Zu(e,i,a,l),Ju(e)}function Ha(e,i){return Zu(e,null,null,i),Ju(e)}function bg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Se(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ju(e){if(50<Nl)throw Nl=0,xd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var qa={};function ob(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,i,a,l){return new ob(e,i,a,l)}function Rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dr(e,i){var a=e.alternate;return a===null?(a=Bn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Sg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function tc(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Rf(e)&&(_=1);else if(typeof e=="string")_=u1(e,a,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Bn(31,a,i,h),e.elementType=C,e.lanes=d,e;case H:return Zs(a.children,h,d,i);case Z:_=8,h|=24;break;case k:return e=Bn(12,a,i,h|2),e.elementType=k,e.lanes=d,e;case gt:return e=Bn(13,a,i,h),e.elementType=gt,e.lanes=d,e;case bt:return e=Bn(19,a,i,h),e.elementType=bt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:case nt:_=10;break t;case X:_=9;break t;case dt:_=11;break t;case V:_=14;break t;case I:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Bn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Zs(e,i,a,l){return e=Bn(7,e,l,i),e.lanes=a,e}function If(e,i,a){return e=Bn(6,e,null,i),e.lanes=a,e}function Cf(e,i,a){return i=Bn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Fa=[],Ga=0,ec=null,nc=0,ei=[],ni=0,Js=null,mr=1,pr="";function ta(e,i){Fa[Ga++]=nc,Fa[Ga++]=ec,ec=e,nc=i}function Ag(e,i,a){ei[ni++]=mr,ei[ni++]=pr,ei[ni++]=Js,Js=e;var l=mr;e=pr;var h=32-Se(l)-1;l&=~(1<<h),a+=1;var d=32-Se(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,mr=1<<32-Se(i)+h|a<<h|l,pr=d+e}else mr=1<<d|a<<h|l,pr=e}function Nf(e){e.return!==null&&(ta(e,1),Ag(e,1,0))}function Df(e){for(;e===ec;)ec=Fa[--Ga],Fa[Ga]=null,nc=Fa[--Ga],Fa[Ga]=null;for(;e===Js;)Js=ei[--ni],ei[ni]=null,pr=ei[--ni],ei[ni]=null,mr=ei[--ni],ei[ni]=null}var In=null,Ne=null,te=!1,ea=null,Vi=!1,xf=Error(s(519));function na(e){var i=Error(s(418,""));throw ol(Jn(i,e)),xf}function Rg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[_e]=e,i[Zt]=l,a){case"dialog":jt("cancel",i),jt("close",i);break;case"iframe":case"object":case"embed":jt("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)jt(xl[a],i);break;case"source":jt("error",i);break;case"img":case"image":case"link":jt("error",i),jt("load",i);break;case"details":jt("toggle",i);break;case"input":jt("invalid",i),Bs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Na(i);break;case"select":jt("invalid",i);break;case"textarea":jt("invalid",i),js(i,l.value,l.defaultValue,l.children),Na(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||qv(i.textContent,a)?(l.popover!=null&&(jt("beforetoggle",i),jt("toggle",i)),l.onScroll!=null&&jt("scroll",i),l.onScrollEnd!=null&&jt("scrollend",i),l.onClick!=null&&(i.onclick=kc),i=!0):i=!1,i||na(e)}function Ig(e){for(In=e.return;In;)switch(In.tag){case 5:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:In=In.return}}function sl(e){if(e!==In)return!1;if(!te)return Ig(e),te=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Kd(e.type,e.memoizedProps)),a=!a),a&&Ne&&na(e),Ig(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Ne=yi(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Ne=null}}else i===27?(i=Ne,as(e.type)?(e=Wd,Wd=null,Ne=e):Ne=i):Ne=In?yi(e.stateNode.nextSibling):null;return!0}function al(){Ne=In=null,te=!1}function Cg(){var e=ea;return e!==null&&(Mn===null?Mn=e:Mn.push.apply(Mn,e),ea=null),e}function ol(e){ea===null?ea=[e]:ea.push(e)}var Of=A(null),ia=null,gr=null;function Gr(e,i,a){B(Of,i._currentValue),i._currentValue=a}function yr(e){e._currentValue=Of.current,W(Of)}function Mf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Vf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=h;for(var D=0;D<i.length;D++)if(b.context===i[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Mf(d.return,a,e),l||(_=null);break t}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Mf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ll(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;zn(h.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(h===mt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ll):e=[Ll])}h=h.return}e!==null&&Vf(i,e,a,l),i.flags|=262144}function ic(e){for(e=e.firstContext;e!==null;){if(!zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ra(e){ia=e,gr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yn(e){return Ng(ia,e)}function rc(e,i){return ia===null&&ra(e),Ng(e,i)}function Ng(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},gr===null){if(e===null)throw Error(s(308));gr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else gr=gr.next=i;return a}var lb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},ub=r.unstable_scheduleCallback,cb=r.unstable_NormalPriority,Ke={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new lb,data:new Map,refCount:0}}function ul(e){e.refCount--,e.refCount===0&&ub(cb,function(){e.controller.abort()})}var cl=null,kf=0,Ya=0,Ka=null;function hb(e,i){if(cl===null){var a=cl=[];kf=0,Ya=Ud(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return kf++,i.then(Dg,Dg),i}function Dg(){if(--kf===0&&cl!==null){Ka!==null&&(Ka.status="fulfilled");var e=cl;cl=null,Ya=0,Ka=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function fb(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xg=Y.S;Y.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&hb(e,i),xg!==null&&xg(e,i)};var sa=A(null);function Lf(){var e=sa.current;return e!==null?e:de.pooledCache}function sc(e,i){i===null?B(sa,sa.current):B(sa,i.pool)}function Og(){var e=Lf();return e===null?null:{parent:Ke._currentValue,pool:e}}var hl=Error(s(460)),Mg=Error(s(474)),ac=Error(s(542)),Uf={then:function(){}};function Vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function oc(){}function Pg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(oc,oc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Lg(e),e;default:if(typeof i.status=="string")i.then(oc,oc);else{if(e=de,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Lg(e),e}throw fl=i,hl}}var fl=null;function kg(){if(fl===null)throw Error(s(459));var e=fl;return fl=null,e}function Lg(e){if(e===hl||e===ac)throw Error(s(483))}var Yr=!1;function zf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(se&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ju(e),bg(e,null,a),i}return Zu(e,l,i,a),Ju(e)}function dl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ve(e,a)}}function jf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Hf=!1;function ml(){if(Hf){var e=Ka;if(e!==null)throw e}}function pl(e,i,a,l){Hf=!1;var h=e.updateQueue;Yr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,F=D.next;D.next=null,_===null?d=F:_.next=F,_=D;var J=e.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==_&&(b===null?J.firstBaseUpdate=F:b.next=F,J.lastBaseUpdate=D))}if(d!==null){var rt=h.baseState;_=0,J=F=D=null,b=d;do{var K=b.lane&-536870913,Q=K!==b.lane;if(Q?(Qt&K)===K:(l&K)===K){K!==0&&K===Ya&&(Hf=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var Ct=e,St=b;K=i;var ce=a;switch(St.tag){case 1:if(Ct=St.payload,typeof Ct=="function"){rt=Ct.call(ce,rt,K);break t}rt=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=St.payload,K=typeof Ct=="function"?Ct.call(ce,rt,K):Ct,K==null)break t;rt=E({},rt,K);break t;case 2:Yr=!0}}K=b.callback,K!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(F=J=Q,D=rt):J=J.next=Q,_|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);J===null&&(D=rt),h.baseState=D,h.firstBaseUpdate=F,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),ns|=_,e.lanes=_,e.memoizedState=rt}}function Ug(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function zg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ug(a[e],i)}var Qa=A(null),lc=A(0);function Bg(e,i){e=Sr,B(lc,e),B(Qa,i),Sr=e|i.baseLanes}function qf(){B(lc,Sr),B(Qa,Qa.current)}function Ff(){Sr=lc.current,W(Qa),W(lc)}var Xr=0,kt=null,le=null,Le=null,uc=!1,Xa=!1,aa=!1,cc=0,gl=0,$a=null,db=0;function Oe(){throw Error(s(321))}function Gf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!zn(e[a],i[a]))return!1;return!0}function Yf(e,i,a,l,h,d){return Xr=d,kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=e===null||e.memoizedState===null?by:Sy,aa=!1,d=a(l,h),aa=!1,Xa&&(d=Hg(i,a,l,h)),jg(e),d}function jg(e){Y.H=gc;var i=le!==null&&le.next!==null;if(Xr=0,Le=le=kt=null,uc=!1,gl=0,$a=null,i)throw Error(s(300));e===null||tn||(e=e.dependencies,e!==null&&ic(e)&&(tn=!0))}function Hg(e,i,a,l){kt=e;var h=0;do{if(Xa&&($a=null),gl=0,Xa=!1,25<=h)throw Error(s(301));if(h+=1,Le=le=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Eb,d=i(a,l)}while(Xa);return d}function mb(){var e=Y.H,i=e.useState()[0];return i=typeof i.then=="function"?yl(i):i,e=e.useState()[0],(le!==null?le.memoizedState:null)!==e&&(kt.flags|=1024),i}function Kf(){var e=cc!==0;return cc=0,e}function Qf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Xf(e){if(uc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}uc=!1}Xr=0,Le=le=kt=null,Xa=!1,gl=cc=0,$a=null}function xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?kt.memoizedState=Le=e:Le=Le.next=e,Le}function Ue(){if(le===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var i=Le===null?kt.memoizedState:Le.next;if(i!==null)Le=i,le=e;else{if(e===null)throw kt.alternate===null?Error(s(467)):Error(s(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},Le===null?kt.memoizedState=Le=e:Le=Le.next=e}return Le}function $f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(e){var i=gl;return gl+=1,$a===null&&($a=[]),e=Pg($a,e,i),i=kt,(Le===null?i.memoizedState:Le.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?by:Sy),e}function hc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return yl(e);if(e.$$typeof===nt)return yn(e)}throw Error(s(438,String(e)))}function Wf(e){var i=null,a=kt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=kt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=$f(),kt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function vr(e,i){return typeof i=="function"?i(e):i}function fc(e){var i=Ue();return Zf(i,le,e)}function Zf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var b=_=null,D=null,F=i,J=!1;do{var rt=F.lane&-536870913;if(rt!==F.lane?(Qt&rt)===rt:(Xr&rt)===rt){var K=F.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),rt===Ya&&(J=!0);else if((Xr&K)===K){F=F.next,K===Ya&&(J=!0);continue}else rt={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(b=D=rt,_=d):D=D.next=rt,kt.lanes|=K,ns|=K;rt=F.action,aa&&a(d,rt),d=F.hasEagerState?F.eagerState:a(d,rt)}else K={lane:rt,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(b=D=K,_=d):D=D.next=K,kt.lanes|=rt,ns|=rt;F=F.next}while(F!==null&&F!==i);if(D===null?_=d:D.next=b,!zn(d,e.memoizedState)&&(tn=!0,J&&(a=Ka,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Jf(e){var i=Ue(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);zn(d,i.memoizedState)||(tn=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function qg(e,i,a){var l=kt,h=Ue(),d=te;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!zn((le||h).memoizedState,a);_&&(h.memoizedState=a,tn=!0),h=h.queue;var b=Yg.bind(null,l,h,e);if(vl(2048,8,b,[e]),h.getSnapshot!==i||_||Le!==null&&Le.memoizedState.tag&1){if(l.flags|=2048,Wa(9,dc(),Gg.bind(null,l,h,a,i),null),de===null)throw Error(s(349));d||(Xr&124)!==0||Fg(l,i,a)}return a}function Fg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=kt.updateQueue,i===null?(i=$f(),kt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Gg(e,i,a,l){i.value=a,i.getSnapshot=l,Kg(i)&&Qg(e)}function Yg(e,i,a){return a(function(){Kg(i)&&Qg(e)})}function Kg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!zn(e,a)}catch{return!0}}function Qg(e){var i=Ha(e,2);i!==null&&Gn(i,e,2)}function td(e){var i=xn();if(typeof e=="function"){var a=e;if(e=a(),aa){We(!0);try{a()}finally{We(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:e},i}function Xg(e,i,a,l){return e.baseState=a,Zf(e,le,typeof l=="function"?l:vr)}function pb(e,i,a,l,h){if(pc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,$g(i,d)):(d.next=a.next,i.pending=a.next=d)}}function $g(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var b=a(h,l),D=Y.S;D!==null&&D(_,b),Wg(e,i,b)}catch(F){ed(e,i,F)}finally{Y.T=d}}else try{d=a(h,l),Wg(e,i,d)}catch(F){ed(e,i,F)}}function Wg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Zg(e,i,l)},function(l){return ed(e,i,l)}):Zg(e,i,a)}function Zg(e,i,a){i.status="fulfilled",i.value=a,Jg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,$g(e,a)))}function ed(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Jg(i),i=i.next;while(i!==l)}e.action=null}function Jg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function ty(e,i){return i}function ey(e,i){if(te){var a=de.formState;if(a!==null){t:{var l=kt;if(te){if(Ne){e:{for(var h=Ne,d=Vi;h.nodeType!==8;){if(!d){h=null;break e}if(h=yi(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ne=yi(h.nextSibling),l=h.data==="F!";break t}}na(l)}l=!1}l&&(i=a[0])}}return a=xn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ty,lastRenderedState:i},a.queue=l,a=Ey.bind(null,kt,l),l.dispatch=a,l=td(!1),d=ad.bind(null,kt,!1,l.queue),l=xn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=pb.bind(null,kt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function ny(e){var i=Ue();return iy(i,le,e)}function iy(e,i,a){if(i=Zf(e,i,ty)[0],e=fc(vr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(_){throw _===hl?ac:_}else l=i;i=Ue();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(kt.flags|=2048,Wa(9,dc(),gb.bind(null,h,a),null)),[l,d,e]}function gb(e,i){e.action=i}function ry(e){var i=Ue(),a=le;if(a!==null)return iy(i,a,e);Ue(),i=i.memoizedState,a=Ue();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Wa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=kt.updateQueue,i===null&&(i=$f(),kt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function dc(){return{destroy:void 0,resource:void 0}}function sy(){return Ue().memoizedState}function mc(e,i,a,l){var h=xn();l=l===void 0?null:l,kt.flags|=e,h.memoizedState=Wa(1|i,dc(),a,l)}function vl(e,i,a,l){var h=Ue();l=l===void 0?null:l;var d=h.memoizedState.inst;le!==null&&l!==null&&Gf(l,le.memoizedState.deps)?h.memoizedState=Wa(i,d,a,l):(kt.flags|=e,h.memoizedState=Wa(1|i,d,a,l))}function ay(e,i){mc(8390656,8,e,i)}function oy(e,i){vl(2048,8,e,i)}function ly(e,i){return vl(4,2,e,i)}function uy(e,i){return vl(4,4,e,i)}function cy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function hy(e,i,a){a=a!=null?a.concat([e]):null,vl(4,4,cy.bind(null,i,e),a)}function nd(){}function fy(e,i){var a=Ue();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Gf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function dy(e,i){var a=Ue();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Gf(i,l[1]))return l[0];if(l=e(),aa){We(!0);try{e()}finally{We(!1)}}return a.memoizedState=[l,i],l}function id(e,i,a){return a===void 0||(Xr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=gv(),kt.lanes|=e,ns|=e,a)}function my(e,i,a,l){return zn(a,i)?a:Qa.current!==null?(e=id(e,a,l),zn(e,i)||(tn=!0),e):(Xr&42)===0?(tn=!0,e.memoizedState=a):(e=gv(),kt.lanes|=e,ns|=e,i)}function py(e,i,a,l,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var _=Y.T,b={};Y.T=b,ad(e,!1,i,a);try{var D=h(),F=Y.S;if(F!==null&&F(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=fb(D,l);_l(e,i,J,Fn(e))}else _l(e,i,l,Fn(e))}catch(rt){_l(e,i,{then:function(){},status:"rejected",reason:rt},Fn())}finally{lt.p=d,Y.T=_}}function yb(){}function rd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=gy(e).queue;py(e,h,i,yt,a===null?yb:function(){return yy(e),a(l)})}function gy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:yt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function yy(e){var i=gy(e).next.queue;_l(e,i,{},Fn())}function sd(){return yn(Ll)}function vy(){return Ue().memoizedState}function _y(){return Ue().memoizedState}function vb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Fn();e=Kr(a);var l=Qr(i,e,a);l!==null&&(Gn(l,i,a),dl(l,i,a)),i={cache:Pf()},e.payload=i;return}i=i.return}}function _b(e,i,a){var l=Fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pc(e)?Ty(i,a):(a=Af(e,i,a,l),a!==null&&(Gn(a,e,l),wy(a,i,l)))}function Ey(e,i,a){var l=Fn();_l(e,i,a,l)}function _l(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(e))Ty(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,zn(b,_))return Zu(e,i,h,0),de===null&&Wu(),!1}catch{}finally{}if(a=Af(e,i,h,l),a!==null)return Gn(a,e,l),wy(a,i,l),!0}return!1}function ad(e,i,a,l){if(l={lane:2,revertLane:Ud(),action:l,hasEagerState:!1,eagerState:null,next:null},pc(e)){if(i)throw Error(s(479))}else i=Af(e,a,l,2),i!==null&&Gn(i,e,2)}function pc(e){var i=e.alternate;return e===kt||i!==null&&i===kt}function Ty(e,i){Xa=uc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function wy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ve(e,a)}}var gc={readContext:yn,use:hc,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe},by={readContext:yn,use:hc,useCallback:function(e,i){return xn().memoizedState=[e,i===void 0?null:i],e},useContext:yn,useEffect:ay,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,mc(4194308,4,cy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return mc(4194308,4,e,i)},useInsertionEffect:function(e,i){mc(4,2,e,i)},useMemo:function(e,i){var a=xn();i=i===void 0?null:i;var l=e();if(aa){We(!0);try{e()}finally{We(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=xn();if(a!==void 0){var h=a(i);if(aa){We(!0);try{a(i)}finally{We(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=_b.bind(null,kt,e),[l.memoizedState,e]},useRef:function(e){var i=xn();return e={current:e},i.memoizedState=e},useState:function(e){e=td(e);var i=e.queue,a=Ey.bind(null,kt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:nd,useDeferredValue:function(e,i){var a=xn();return id(a,e,i)},useTransition:function(){var e=td(!1);return e=py.bind(null,kt,e.queue,!0,!1),xn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=kt,h=xn();if(te){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),de===null)throw Error(s(349));(Qt&124)!==0||Fg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ay(Yg.bind(null,l,d,e),[e]),l.flags|=2048,Wa(9,dc(),Gg.bind(null,l,d,a,i),null),a},useId:function(){var e=xn(),i=de.identifierPrefix;if(te){var a=pr,l=mr;a=(l&~(1<<32-Se(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=cc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=db++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:sd,useFormState:ey,useActionState:ey,useOptimistic:function(e){var i=xn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ad.bind(null,kt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Wf,useCacheRefresh:function(){return xn().memoizedState=vb.bind(null,kt)}},Sy={readContext:yn,use:hc,useCallback:fy,useContext:yn,useEffect:oy,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:dy,useReducer:fc,useRef:sy,useState:function(){return fc(vr)},useDebugValue:nd,useDeferredValue:function(e,i){var a=Ue();return my(a,le.memoizedState,e,i)},useTransition:function(){var e=fc(vr)[0],i=Ue().memoizedState;return[typeof e=="boolean"?e:yl(e),i]},useSyncExternalStore:qg,useId:vy,useHostTransitionStatus:sd,useFormState:ny,useActionState:ny,useOptimistic:function(e,i){var a=Ue();return Xg(a,le,e,i)},useMemoCache:Wf,useCacheRefresh:_y},Eb={readContext:yn,use:hc,useCallback:fy,useContext:yn,useEffect:oy,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:dy,useReducer:Jf,useRef:sy,useState:function(){return Jf(vr)},useDebugValue:nd,useDeferredValue:function(e,i){var a=Ue();return le===null?id(a,e,i):my(a,le.memoizedState,e,i)},useTransition:function(){var e=Jf(vr)[0],i=Ue().memoizedState;return[typeof e=="boolean"?e:yl(e),i]},useSyncExternalStore:qg,useId:vy,useHostTransitionStatus:sd,useFormState:ry,useActionState:ry,useOptimistic:function(e,i){var a=Ue();return le!==null?Xg(a,le,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:_y},Za=null,El=0;function yc(e){var i=El;return El+=1,Za===null&&(Za=[]),Pg(Za,e,i)}function Tl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function vc(e,i){throw i.$$typeof===T?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ay(e){var i=e._init;return i(e._payload)}function Ry(e){function i(z,M){if(e){var q=z.deletions;q===null?(z.deletions=[M],z.flags|=16):q.push(M)}}function a(z,M){if(!e)return null;for(;M!==null;)i(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function h(z,M){return z=dr(z,M),z.index=0,z.sibling=null,z}function d(z,M,q){return z.index=q,e?(q=z.alternate,q!==null?(q=q.index,q<M?(z.flags|=67108866,M):q):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function _(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function b(z,M,q,tt){return M===null||M.tag!==6?(M=If(q,z.mode,tt),M.return=z,M):(M=h(M,q),M.return=z,M)}function D(z,M,q,tt){var vt=q.type;return vt===H?J(z,M,q.props.children,tt,q.key):M!==null&&(M.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===I&&Ay(vt)===M.type)?(M=h(M,q.props),Tl(M,q),M.return=z,M):(M=tc(q.type,q.key,q.props,null,z.mode,tt),Tl(M,q),M.return=z,M)}function F(z,M,q,tt){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Cf(q,z.mode,tt),M.return=z,M):(M=h(M,q.children||[]),M.return=z,M)}function J(z,M,q,tt,vt){return M===null||M.tag!==7?(M=Zs(q,z.mode,tt,vt),M.return=z,M):(M=h(M,q),M.return=z,M)}function rt(z,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=If(""+M,z.mode,q),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case R:return q=tc(M.type,M.key,M.props,null,z.mode,q),Tl(q,M),q.return=z,q;case x:return M=Cf(M,z.mode,q),M.return=z,M;case I:var tt=M._init;return M=tt(M._payload),rt(z,M,q)}if(Wt(M)||L(M))return M=Zs(M,z.mode,q,null),M.return=z,M;if(typeof M.then=="function")return rt(z,yc(M),q);if(M.$$typeof===nt)return rt(z,rc(z,M),q);vc(z,M)}return null}function K(z,M,q,tt){var vt=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return vt!==null?null:b(z,M,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return q.key===vt?D(z,M,q,tt):null;case x:return q.key===vt?F(z,M,q,tt):null;case I:return vt=q._init,q=vt(q._payload),K(z,M,q,tt)}if(Wt(q)||L(q))return vt!==null?null:J(z,M,q,tt,null);if(typeof q.then=="function")return K(z,M,yc(q),tt);if(q.$$typeof===nt)return K(z,M,rc(z,q),tt);vc(z,q)}return null}function Q(z,M,q,tt,vt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return z=z.get(q)||null,b(M,z,""+tt,vt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case R:return z=z.get(tt.key===null?q:tt.key)||null,D(M,z,tt,vt);case x:return z=z.get(tt.key===null?q:tt.key)||null,F(M,z,tt,vt);case I:var Lt=tt._init;return tt=Lt(tt._payload),Q(z,M,q,tt,vt)}if(Wt(tt)||L(tt))return z=z.get(q)||null,J(M,z,tt,vt,null);if(typeof tt.then=="function")return Q(z,M,q,yc(tt),vt);if(tt.$$typeof===nt)return Q(z,M,q,rc(M,tt),vt);vc(M,tt)}return null}function Ct(z,M,q,tt){for(var vt=null,Lt=null,Et=M,At=M=0,nn=null;Et!==null&&At<q.length;At++){Et.index>At?(nn=Et,Et=null):nn=Et.sibling;var Jt=K(z,Et,q[At],tt);if(Jt===null){Et===null&&(Et=nn);break}e&&Et&&Jt.alternate===null&&i(z,Et),M=d(Jt,M,At),Lt===null?vt=Jt:Lt.sibling=Jt,Lt=Jt,Et=nn}if(At===q.length)return a(z,Et),te&&ta(z,At),vt;if(Et===null){for(;At<q.length;At++)Et=rt(z,q[At],tt),Et!==null&&(M=d(Et,M,At),Lt===null?vt=Et:Lt.sibling=Et,Lt=Et);return te&&ta(z,At),vt}for(Et=l(Et);At<q.length;At++)nn=Q(Et,z,At,q[At],tt),nn!==null&&(e&&nn.alternate!==null&&Et.delete(nn.key===null?At:nn.key),M=d(nn,M,At),Lt===null?vt=nn:Lt.sibling=nn,Lt=nn);return e&&Et.forEach(function(hs){return i(z,hs)}),te&&ta(z,At),vt}function St(z,M,q,tt){if(q==null)throw Error(s(151));for(var vt=null,Lt=null,Et=M,At=M=0,nn=null,Jt=q.next();Et!==null&&!Jt.done;At++,Jt=q.next()){Et.index>At?(nn=Et,Et=null):nn=Et.sibling;var hs=K(z,Et,Jt.value,tt);if(hs===null){Et===null&&(Et=nn);break}e&&Et&&hs.alternate===null&&i(z,Et),M=d(hs,M,At),Lt===null?vt=hs:Lt.sibling=hs,Lt=hs,Et=nn}if(Jt.done)return a(z,Et),te&&ta(z,At),vt;if(Et===null){for(;!Jt.done;At++,Jt=q.next())Jt=rt(z,Jt.value,tt),Jt!==null&&(M=d(Jt,M,At),Lt===null?vt=Jt:Lt.sibling=Jt,Lt=Jt);return te&&ta(z,At),vt}for(Et=l(Et);!Jt.done;At++,Jt=q.next())Jt=Q(Et,z,At,Jt.value,tt),Jt!==null&&(e&&Jt.alternate!==null&&Et.delete(Jt.key===null?At:Jt.key),M=d(Jt,M,At),Lt===null?vt=Jt:Lt.sibling=Jt,Lt=Jt);return e&&Et.forEach(function(T1){return i(z,T1)}),te&&ta(z,At),vt}function ce(z,M,q,tt){if(typeof q=="object"&&q!==null&&q.type===H&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case R:t:{for(var vt=q.key;M!==null;){if(M.key===vt){if(vt=q.type,vt===H){if(M.tag===7){a(z,M.sibling),tt=h(M,q.props.children),tt.return=z,z=tt;break t}}else if(M.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===I&&Ay(vt)===M.type){a(z,M.sibling),tt=h(M,q.props),Tl(tt,q),tt.return=z,z=tt;break t}a(z,M);break}else i(z,M);M=M.sibling}q.type===H?(tt=Zs(q.props.children,z.mode,tt,q.key),tt.return=z,z=tt):(tt=tc(q.type,q.key,q.props,null,z.mode,tt),Tl(tt,q),tt.return=z,z=tt)}return _(z);case x:t:{for(vt=q.key;M!==null;){if(M.key===vt)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(z,M.sibling),tt=h(M,q.children||[]),tt.return=z,z=tt;break t}else{a(z,M);break}else i(z,M);M=M.sibling}tt=Cf(q,z.mode,tt),tt.return=z,z=tt}return _(z);case I:return vt=q._init,q=vt(q._payload),ce(z,M,q,tt)}if(Wt(q))return Ct(z,M,q,tt);if(L(q)){if(vt=L(q),typeof vt!="function")throw Error(s(150));return q=vt.call(q),St(z,M,q,tt)}if(typeof q.then=="function")return ce(z,M,yc(q),tt);if(q.$$typeof===nt)return ce(z,M,rc(z,q),tt);vc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(z,M.sibling),tt=h(M,q),tt.return=z,z=tt):(a(z,M),tt=If(q,z.mode,tt),tt.return=z,z=tt),_(z)):a(z,M)}return function(z,M,q,tt){try{El=0;var vt=ce(z,M,q,tt);return Za=null,vt}catch(Et){if(Et===hl||Et===ac)throw Et;var Lt=Bn(29,Et,null,z.mode);return Lt.lanes=tt,Lt.return=z,Lt}finally{}}}var Ja=Ry(!0),Iy=Ry(!1),ii=A(null),Pi=null;function $r(e){var i=e.alternate;B(Qe,Qe.current&1),B(ii,e),Pi===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(Pi=e)}function Cy(e){if(e.tag===22){if(B(Qe,Qe.current),B(ii,e),Pi===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Pi=e)}}else Wr()}function Wr(){B(Qe,Qe.current),B(ii,ii.current)}function _r(e){W(ii),Pi===e&&(Pi=null),W(Qe)}var Qe=A(0);function _c(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$d(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function od(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ld={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Fn(),h=Kr(l);h.payload=i,a!=null&&(h.callback=a),i=Qr(e,h,l),i!==null&&(Gn(i,e,l),dl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Fn(),h=Kr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Qr(e,h,l),i!==null&&(Gn(i,e,l),dl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Fn(),l=Kr(a);l.tag=2,i!=null&&(l.callback=i),i=Qr(e,l,a),i!==null&&(Gn(i,e,a),dl(i,e,a))}};function Ny(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(h,d):!0}function Dy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&ld.enqueueReplaceState(i,i.state,null)}function oa(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Ec=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xy(e){Ec(e)}function Oy(e){console.error(e)}function My(e){Ec(e)}function Tc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Vy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ud(e,i,a){return a=Kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(e,i)},a}function Py(e){return e=Kr(e),e.tag=3,e}function ky(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Vy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Vy(i,a,l),typeof h!="function"&&(is===null?is=new Set([this]):is.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Tb(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ll(i,a,h,!0),a=ii.current,a!==null){switch(a.tag){case 13:return Pi===null?Md():a.alternate===null&&De===0&&(De=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Uf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Pd(e,l,h)),!1;case 22:return a.flags|=65536,l===Uf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Pd(e,l,h)),!1}throw Error(s(435,a.tag))}return Pd(e,l,h),Md(),!1}if(te)return i=ii.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==xf&&(e=Error(s(422),{cause:l}),ol(Jn(e,a)))):(l!==xf&&(i=Error(s(423),{cause:l}),ol(Jn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Jn(l,a),h=ud(e.stateNode,l,h),jf(e,h),De!==4&&(De=2)),!1;var d=Error(s(520),{cause:l});if(d=Jn(d,a),Cl===null?Cl=[d]:Cl.push(d),De!==4&&(De=2),i===null)return!0;l=Jn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=ud(a.stateNode,l,e),jf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(is===null||!is.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Py(h),ky(h,e,a,l),jf(a,h),!1}a=a.return}while(a!==null);return!1}var Ly=Error(s(461)),tn=!1;function on(e,i,a,l){i.child=e===null?Iy(i,null,a,l):Ja(i,e.child,a,l)}function Uy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return ra(i),l=Yf(e,i,a,_,d,h),b=Kf(),e!==null&&!tn?(Qf(e,i,h),Er(e,i,h)):(te&&b&&Nf(i),i.flags|=1,on(e,i,l,h),i.child)}function zy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,By(e,i,d,l,h)):(e=tc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!yd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(_,l)&&e.ref===i.ref)return Er(e,i,h)}return i.flags|=1,e=dr(d,l),e.ref=i.ref,e.return=i,i.child=e}function By(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(il(d,l)&&e.ref===i.ref)if(tn=!1,i.pendingProps=l=d,yd(e,h))(e.flags&131072)!==0&&(tn=!0);else return i.lanes=e.lanes,Er(e,i,h)}return cd(e,i,a,l,h)}function jy(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Hy(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&sc(i,d!==null?d.cachePool:null),d!==null?Bg(i,d):qf(),Cy(i);else return i.lanes=i.childLanes=536870912,Hy(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(sc(i,d.cachePool),Bg(i,d),Wr(),i.memoizedState=null):(e!==null&&sc(i,null),qf(),Wr());return on(e,i,h,a),i.child}function Hy(e,i,a,l){var h=Lf();return h=h===null?null:{parent:Ke._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&sc(i,null),qf(),Cy(i),e!==null&&ll(e,i,l,!0),null}function wc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function cd(e,i,a,l,h){return ra(i),a=Yf(e,i,a,l,void 0,h),l=Kf(),e!==null&&!tn?(Qf(e,i,h),Er(e,i,h)):(te&&l&&Nf(i),i.flags|=1,on(e,i,a,h),i.child)}function qy(e,i,a,l,h,d){return ra(i),i.updateQueue=null,a=Hg(i,l,a,h),jg(e),l=Kf(),e!==null&&!tn?(Qf(e,i,d),Er(e,i,d)):(te&&l&&Nf(i),i.flags|=1,on(e,i,a,d),i.child)}function Fy(e,i,a,l,h){if(ra(i),i.stateNode===null){var d=qa,_=a.contextType;typeof _=="object"&&_!==null&&(d=yn(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ld,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},zf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?yn(_):qa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(od(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&ld.enqueueReplaceState(d,d.state,null),pl(i,l,d,h),ml(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var b=i.memoizedProps,D=oa(a,b);d.props=D;var F=d.context,J=a.contextType;_=qa,typeof J=="object"&&J!==null&&(_=yn(J));var rt=a.getDerivedStateFromProps;J=typeof rt=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==_)&&Dy(i,d,l,_),Yr=!1;var K=i.memoizedState;d.state=K,pl(i,l,d,h),ml(),F=i.memoizedState,b||K!==F||Yr?(typeof rt=="function"&&(od(i,a,rt,l),F=i.memoizedState),(D=Yr||Ny(i,a,D,l,K,F,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Bf(e,i),_=i.memoizedProps,J=oa(a,_),d.props=J,rt=i.pendingProps,K=d.context,F=a.contextType,D=qa,typeof F=="object"&&F!==null&&(D=yn(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==rt||K!==D)&&Dy(i,d,l,D),Yr=!1,K=i.memoizedState,d.state=K,pl(i,l,d,h),ml();var Q=i.memoizedState;_!==rt||K!==Q||Yr||e!==null&&e.dependencies!==null&&ic(e.dependencies)?(typeof b=="function"&&(od(i,a,b,l),Q=i.memoizedState),(J=Yr||Ny(i,a,J,l,K,Q,D)||e!==null&&e.dependencies!==null&&ic(e.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=J):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&K===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,wc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ja(i,e.child,null,h),i.child=Ja(i,null,a,h)):on(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Er(e,i,h),e}function Gy(e,i,a,l){return al(),i.flags|=256,on(e,i,a,l),i.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(e){return{baseLanes:e,cachePool:Og()}}function dd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=ri),e}function Yy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(te){if(h?$r(i):Wr(),te){var b=Ne,D;if(D=b){t:{for(D=b,b=Vi;D.nodeType!==8;){if(!b){b=null;break t}if(D=yi(D.nextSibling),D===null){b=null;break t}}b=D}b!==null?(i.memoizedState={dehydrated:b,treeContext:Js!==null?{id:mr,overflow:pr}:null,retryLane:536870912,hydrationErrors:null},D=Bn(18,null,null,0),D.stateNode=b,D.return=i,i.child=D,In=i,Ne=null,D=!0):D=!1}D||na(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return $d(b)?i.lanes=32:i.lanes=536870912,null;_r(i)}return b=l.children,l=l.fallback,h?(Wr(),h=i.mode,b=bc({mode:"hidden",children:b},h),l=Zs(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,h=i.child,h.memoizedState=fd(a),h.childLanes=dd(e,_,a),i.memoizedState=hd,l):($r(i),md(i,b))}if(D=e.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(d)i.flags&256?($r(i),i.flags&=-257,i=pd(e,i,a)):i.memoizedState!==null?(Wr(),i.child=e.child,i.flags|=128,i=null):(Wr(),h=l.fallback,b=i.mode,l=bc({mode:"visible",children:l.children},b),h=Zs(h,b,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ja(i,e.child,null,a),l=i.child,l.memoizedState=fd(a),l.childLanes=dd(e,_,a),i.memoizedState=hd,i=h);else if($r(i),$d(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,ol({value:l,source:null,stack:null}),i=pd(e,i,a)}else if(tn||ll(e,i,a,!1),_=(a&e.childLanes)!==0,tn||_){if(_=de,_!==null&&(l=a&-a,l=(l&42)!==0?1:pe(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Ha(e,l),Gn(_,e,l),Ly;b.data==="$?"||Md(),i=pd(e,i,a)}else b.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,Ne=yi(b.nextSibling),In=i,te=!0,ea=null,Vi=!1,e!==null&&(ei[ni++]=mr,ei[ni++]=pr,ei[ni++]=Js,mr=e.id,pr=e.overflow,Js=i),i=md(i,l.children),i.flags|=4096);return i}return h?(Wr(),h=l.fallback,b=i.mode,D=e.child,F=D.sibling,l=dr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?h=dr(F,h):(h=Zs(h,b,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,b=e.child.memoizedState,b===null?b=fd(a):(D=b.cachePool,D!==null?(F=Ke._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=Og(),b={baseLanes:b.baseLanes|a,cachePool:D}),h.memoizedState=b,h.childLanes=dd(e,_,a),i.memoizedState=hd,l):($r(i),a=e.child,e=a.sibling,a=dr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function md(e,i){return i=bc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function bc(e,i){return e=Bn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function pd(e,i,a){return Ja(i,e.child,null,a),e=md(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ky(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Mf(e.return,i,a)}function gd(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Qy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(on(e,i,l.children,a),l=Qe.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ky(e,a,i);else if(e.tag===19)Ky(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(B(Qe,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&_c(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),gd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&_c(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}gd(i,!0,a,null,d);break;case"together":gd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Er(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),ns|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(ll(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=dr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=dr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function yd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ic(e)))}function wb(e,i,a){switch(i.tag){case 3:ct(i,i.stateNode.containerInfo),Gr(i,Ke,e.memoizedState.cache),al();break;case 27:case 5:Ht(i);break;case 4:ct(i,i.stateNode.containerInfo);break;case 10:Gr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?($r(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Yy(e,i,a):($r(i),e=Er(e,i,a),e!==null?e.sibling:null);$r(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ll(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Qy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),B(Qe,Qe.current),l)break;return null;case 22:case 23:return i.lanes=0,jy(e,i,a);case 24:Gr(i,Ke,e.memoizedState.cache)}return Er(e,i,a)}function Xy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)tn=!0;else{if(!yd(e,a)&&(i.flags&128)===0)return tn=!1,wb(e,i,a);tn=(e.flags&131072)!==0}else tn=!1,te&&(i.flags&1048576)!==0&&Ag(i,nc,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Rf(l)?(e=oa(l,e),i.tag=1,i=Fy(null,i,l,e,a)):(i.tag=0,i=cd(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===dt){i.tag=11,i=Uy(null,i,l,e,a);break t}else if(h===V){i.tag=14,i=zy(null,i,l,e,a);break t}}throw i=me(l)||l,Error(s(306,i,""))}}return i;case 0:return cd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=oa(l,i.pendingProps),Fy(e,i,l,h,a);case 3:t:{if(ct(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Bf(e,i),pl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Gr(i,Ke,l),l!==d.cache&&Vf(i,[Ke],a,!0),ml(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Gy(e,i,l,a);break t}else if(l!==h){h=Jn(Error(s(424)),i),ol(h),i=Gy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ne=yi(e.firstChild),In=i,te=!0,ea=null,Vi=!0,a=Iy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(al(),l===h){i=Er(e,i,a);break t}on(e,i,l,a)}i=i.child}return i;case 26:return wc(e,i),e===null?(a=Jv(i.type,null,i.pendingProps,null))?i.memoizedState=a:te||(a=i.type,e=i.pendingProps,l=Lc(ut.current).createElement(a),l[_e]=i,l[Zt]=e,un(l,a,e),xe(l),i.stateNode=l):i.memoizedState=Jv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ht(i),e===null&&te&&(l=i.stateNode=$v(i.type,i.pendingProps,ut.current),In=i,Vi=!0,h=Ne,as(i.type)?(Wd=h,Ne=yi(l.firstChild)):Ne=h),on(e,i,i.pendingProps.children,a),wc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&te&&((h=l=Ne)&&(l=$b(l,i.type,i.pendingProps,Vi),l!==null?(i.stateNode=l,In=i,Ne=yi(l.firstChild),Vi=!1,h=!0):h=!1),h||na(i)),Ht(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Kd(h,d)?l=null:_!==null&&Kd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Yf(e,i,mb,null,null,a),Ll._currentValue=h),wc(e,i),on(e,i,l,a),i.child;case 6:return e===null&&te&&((e=a=Ne)&&(a=Wb(a,i.pendingProps,Vi),a!==null?(i.stateNode=a,In=i,Ne=null,e=!0):e=!1),e||na(i)),null;case 13:return Yy(e,i,a);case 4:return ct(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ja(i,null,l,a):on(e,i,l,a),i.child;case 11:return Uy(e,i,i.type,i.pendingProps,a);case 7:return on(e,i,i.pendingProps,a),i.child;case 8:return on(e,i,i.pendingProps.children,a),i.child;case 12:return on(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Gr(i,i.type,l.value),on(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ra(i),h=yn(h),l=l(h),i.flags|=1,on(e,i,l,a),i.child;case 14:return zy(e,i,i.type,i.pendingProps,a);case 15:return By(e,i,i.type,i.pendingProps,a);case 19:return Qy(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=bc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=dr(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return jy(e,i,a);case 24:return ra(i),l=yn(Ke),e===null?(h=Lf(),h===null&&(h=de,d=Pf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},zf(i),Gr(i,Ke,h)):((e.lanes&a)!==0&&(Bf(e,i),pl(i,null,null,a),ml()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Gr(i,Ke,l)):(l=d.cache,Gr(i,Ke,l),l!==h.cache&&Vf(i,[Ke],a,!0))),on(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Tr(e){e.flags|=4}function $y(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r_(i)){if(i=ii.current,i!==null&&((Qt&4194048)===Qt?Pi!==null:(Qt&62914560)!==Qt&&(Qt&536870912)===0||i!==Pi))throw fl=Uf,Mg;e.flags|=8192}}function Sc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ps():536870912,e.lanes|=i,io|=i)}function wl(e,i){if(!te)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ae(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function bb(e,i,a){var l=i.pendingProps;switch(Df(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(i),null;case 1:return Ae(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),yr(Ke),xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(sl(i)?Tr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cg())),Ae(i),null;case 26:return a=i.memoizedState,e===null?(Tr(i),a!==null?(Ae(i),$y(i,a)):(Ae(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Tr(i),Ae(i),$y(i,a)):(Ae(i),i.flags&=-16777217):(e.memoizedProps!==l&&Tr(i),Ae(i),i.flags&=-16777217),null;case 27:Pt(i),a=ut.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Tr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Ae(i),null}e=et.current,sl(i)?Rg(i):(e=$v(h,l,a),i.stateNode=e,Tr(i))}return Ae(i),null;case 5:if(Pt(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Tr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Ae(i),null}if(e=et.current,sl(i))Rg(i);else{switch(h=Lc(ut.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[_e]=i,e[Zt]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(un(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Tr(i)}}return Ae(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Tr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=ut.current,sl(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=In,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[_e]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qv(e.nodeValue,a)),e||na(i)}else e=Lc(e).createTextNode(l),e[_e]=i,i.stateNode=e}return Ae(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=sl(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_e]=i}else al(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ae(i),h=!1}else h=Cg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_r(i),i):(_r(i),null)}if(_r(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Sc(i,i.updateQueue),Ae(i),null;case 4:return xt(),e===null&&Hd(i.stateNode.containerInfo),Ae(i),null;case 10:return yr(i.type),Ae(i),null;case 19:if(W(Qe),h=i.memoizedState,h===null)return Ae(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)wl(h,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=_c(e),d!==null){for(i.flags|=128,wl(h,!1),e=d.updateQueue,i.updateQueue=e,Sc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Sg(a,e),a=a.sibling;return B(Qe,Qe.current&1|2),i.child}e=e.sibling}h.tail!==null&&ee()>Ic&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304)}else{if(!l)if(e=_c(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Sc(i,e),wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!te)return Ae(i),null}else 2*ee()-h.renderingStartTime>Ic&&a!==536870912&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=ee(),i.sibling=null,e=Qe.current,B(Qe,l?e&1|2:e&1),i):(Ae(i),null);case 22:case 23:return _r(i),Ff(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Ae(i),i.subtreeFlags&6&&(i.flags|=8192)):Ae(i),a=i.updateQueue,a!==null&&Sc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&W(sa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),yr(Ke),Ae(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Sb(e,i){switch(Df(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return yr(Ke),xt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Pt(i),null;case 13:if(_r(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));al()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return W(Qe),null;case 4:return xt(),null;case 10:return yr(i.type),null;case 22:case 23:return _r(i),Ff(),e!==null&&W(sa),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return yr(Ke),null;case 25:return null;default:return null}}function Wy(e,i){switch(Df(i),i.tag){case 3:yr(Ke),xt();break;case 26:case 27:case 5:Pt(i);break;case 4:xt();break;case 13:_r(i);break;case 19:W(Qe);break;case 10:yr(i.type);break;case 22:case 23:_r(i),Ff(),e!==null&&W(sa);break;case 24:yr(Ke)}}function bl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){fe(i,i.return,b)}}function Zr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var D=a,F=b;try{F()}catch(J){fe(h,D,J)}}}l=l.next}while(l!==d)}}catch(J){fe(i,i.return,J)}}function Zy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{zg(i,a)}catch(l){fe(e,e.return,l)}}}function Jy(e,i,a){a.props=oa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){fe(e,i,l)}}function Sl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){fe(e,i,h)}}function ki(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){fe(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){fe(e,i,h)}else a.current=null}function tv(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){fe(e,e.return,h)}}function vd(e,i,a){try{var l=e.stateNode;Gb(l,e.type,a,i),l[Zt]=i}catch(h){fe(e,e.return,h)}}function ev(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&as(e.type)||e.tag===4}function _d(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ev(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&as(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ed(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=kc));else if(l!==4&&(l===27&&as(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Ed(e,i,a),e=e.sibling;e!==null;)Ed(e,i,a),e=e.sibling}function Ac(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&as(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ac(e,i,a),e=e.sibling;e!==null;)Ac(e,i,a),e=e.sibling}function nv(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);un(i,l,a),i[_e]=e,i[Zt]=a}catch(d){fe(e,e.return,d)}}var wr=!1,Me=!1,Td=!1,iv=typeof WeakSet=="function"?WeakSet:Set,en=null;function Ab(e,i){if(e=e.containerInfo,Gd=qc,e=mg(e),_f(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,b=-1,D=-1,F=0,J=0,rt=e,K=null;e:for(;;){for(var Q;rt!==a||h!==0&&rt.nodeType!==3||(b=_+h),rt!==d||l!==0&&rt.nodeType!==3||(D=_+l),rt.nodeType===3&&(_+=rt.nodeValue.length),(Q=rt.firstChild)!==null;)K=rt,rt=Q;for(;;){if(rt===e)break e;if(K===a&&++F===h&&(b=_),K===d&&++J===l&&(D=_),(Q=rt.nextSibling)!==null)break;rt=K,K=rt.parentNode}rt=Q}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:e,selectionRange:a},qc=!1,en=i;en!==null;)if(i=en,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,en=e;else for(;en!==null;){switch(i=en,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ct=oa(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(St){fe(a,a.return,St)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Xd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,en=e;break}en=i.return}}function rv(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Jr(e,a),l&4&&bl(5,a);break;case 1:if(Jr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){fe(a,a.return,_)}else{var h=oa(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){fe(a,a.return,_)}}l&64&&Zy(a),l&512&&Sl(a,a.return);break;case 3:if(Jr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{zg(e,i)}catch(_){fe(a,a.return,_)}}break;case 27:i===null&&l&4&&nv(a);case 26:case 5:Jr(e,a),i===null&&l&4&&tv(a),l&512&&Sl(a,a.return);break;case 12:Jr(e,a);break;case 13:Jr(e,a),l&4&&ov(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Vb.bind(null,a),Zb(e,a))));break;case 22:if(l=a.memoizedState!==null||wr,!l){i=i!==null&&i.memoizedState!==null||Me,h=wr;var d=Me;wr=l,(Me=i)&&!d?ts(e,a,(a.subtreeFlags&8772)!==0):Jr(e,a),wr=h,Me=d}break;case 30:break;default:Jr(e,a)}}function sv(e){var i=e.alternate;i!==null&&(e.alternate=null,sv(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&jr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Te=null,On=!1;function br(e,i,a){for(a=a.child;a!==null;)av(e,i,a),a=a.sibling}function av(e,i,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(ne,a)}catch{}switch(a.tag){case 26:Me||ki(a,i),br(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Me||ki(a,i);var l=Te,h=On;as(a.type)&&(Te=a.stateNode,On=!1),br(e,i,a),Ml(a.stateNode),Te=l,On=h;break;case 5:Me||ki(a,i);case 6:if(l=Te,h=On,Te=null,br(e,i,a),Te=l,On=h,Te!==null)if(On)try{(Te.nodeType===9?Te.body:Te.nodeName==="HTML"?Te.ownerDocument.body:Te).removeChild(a.stateNode)}catch(d){fe(a,i,d)}else try{Te.removeChild(a.stateNode)}catch(d){fe(a,i,d)}break;case 18:Te!==null&&(On?(e=Te,Qv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),jl(e)):Qv(Te,a.stateNode));break;case 4:l=Te,h=On,Te=a.stateNode.containerInfo,On=!0,br(e,i,a),Te=l,On=h;break;case 0:case 11:case 14:case 15:Me||Zr(2,a,i),Me||Zr(4,a,i),br(e,i,a);break;case 1:Me||(ki(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jy(a,i,l)),br(e,i,a);break;case 21:br(e,i,a);break;case 22:Me=(l=Me)||a.memoizedState!==null,br(e,i,a),Me=l;break;default:br(e,i,a)}}function ov(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jl(e)}catch(a){fe(i,i.return,a)}}function Rb(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new iv),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new iv),i;default:throw Error(s(435,e.tag))}}function wd(e,i){var a=Rb(e);i.forEach(function(l){var h=Pb.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function jn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(as(b.type)){Te=b.stateNode,On=!1;break t}break;case 5:Te=b.stateNode,On=!1;break t;case 3:case 4:Te=b.stateNode.containerInfo,On=!0;break t}b=b.return}if(Te===null)throw Error(s(160));av(d,_,h),Te=null,On=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)lv(i,e),i=i.sibling}var gi=null;function lv(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jn(i,e),Hn(e),l&4&&(Zr(3,e,e.return),bl(3,e),Zr(5,e,e.return));break;case 1:jn(i,e),Hn(e),l&512&&(Me||a===null||ki(a,a.return)),l&64&&wr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=gi;if(jn(i,e),Hn(e),l&512&&(Me||a===null||ki(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ks]||d[_e]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),un(d,l,a),d[_e]=e,xe(d),l=d;break t;case"link":var _=n_("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break e}}d=h.createElement(l),un(d,l,a),h.head.appendChild(d);break;case"meta":if(_=n_("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break e}}d=h.createElement(l),un(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[_e]=e,xe(d),l=d}e.stateNode=l}else i_(h,e.type,e.stateNode);else e.stateNode=e_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?i_(h,e.type,e.stateNode):e_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&vd(e,e.memoizedProps,a.memoizedProps)}break;case 27:jn(i,e),Hn(e),l&512&&(Me||a===null||ki(a,a.return)),a!==null&&l&4&&vd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(jn(i,e),Hn(e),l&512&&(Me||a===null||ki(a,a.return)),e.flags&32){h=e.stateNode;try{Xn(h,"")}catch(Q){fe(e,e.return,Q)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,vd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Td=!0);break;case 6:if(jn(i,e),Hn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Q){fe(e,e.return,Q)}}break;case 3:if(Bc=null,h=gi,gi=Uc(i.containerInfo),jn(i,e),gi=h,Hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(i.containerInfo)}catch(Q){fe(e,e.return,Q)}Td&&(Td=!1,uv(e));break;case 4:l=gi,gi=Uc(e.stateNode.containerInfo),jn(i,e),Hn(e),gi=l;break;case 12:jn(i,e),Hn(e);break;case 13:jn(i,e),Hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cd=ee()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wd(e,l)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=wr,J=Me;if(wr=F||h,Me=J||D,jn(i,e),Me=J,wr=F,Hn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||wr||Me||la(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=D.stateNode;var rt=D.memoizedProps.style,K=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){fe(D,D.return,Q)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(Q){fe(D,D.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wd(e,a))));break;case 19:jn(i,e),Hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wd(e,l)));break;case 30:break;case 21:break;default:jn(i,e),Hn(e)}}function Hn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(ev(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(e);Ac(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Xn(_,""),a.flags&=-33);var b=_d(e);Ac(e,b,_);break;case 3:case 4:var D=a.stateNode.containerInfo,F=_d(e);Ed(e,F,D);break;default:throw Error(s(161))}}catch(J){fe(e,e.return,J)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function uv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;uv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Jr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)rv(e,i.alternate,i),i=i.sibling}function la(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Zr(4,i,i.return),la(i);break;case 1:ki(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Jy(i,i.return,a),la(i);break;case 27:Ml(i.stateNode);case 26:case 5:ki(i,i.return),la(i);break;case 22:i.memoizedState===null&&la(i);break;case 30:la(i);break;default:la(i)}e=e.sibling}}function ts(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ts(h,d,a),bl(4,d);break;case 1:if(ts(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){fe(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Ug(D[h],b)}catch(F){fe(l,l.return,F)}}a&&_&64&&Zy(d),Sl(d,d.return);break;case 27:nv(d);case 26:case 5:ts(h,d,a),a&&l===null&&_&4&&tv(d),Sl(d,d.return);break;case 12:ts(h,d,a);break;case 13:ts(h,d,a),a&&_&4&&ov(h,d);break;case 22:d.memoizedState===null&&ts(h,d,a),Sl(d,d.return);break;case 30:break;default:ts(h,d,a)}i=i.sibling}}function bd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ul(a))}function Sd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ul(e))}function Li(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cv(e,i,a,l),i=i.sibling}function cv(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Li(e,i,a,l),h&2048&&bl(9,i);break;case 1:Li(e,i,a,l);break;case 3:Li(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ul(e)));break;case 12:if(h&2048){Li(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){fe(i,i.return,D)}}else Li(e,i,a,l);break;case 13:Li(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Li(e,i,a,l):Al(e,i):d._visibility&2?Li(e,i,a,l):(d._visibility|=2,to(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&bd(_,i);break;case 24:Li(e,i,a,l),h&2048&&Sd(i.alternate,i);break;default:Li(e,i,a,l)}}function to(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,_=i,b=a,D=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:to(d,_,b,D,h),bl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?to(d,_,b,D,h):Al(d,_):(J._visibility|=2,to(d,_,b,D,h)),h&&F&2048&&bd(_.alternate,_);break;case 24:to(d,_,b,D,h),h&&F&2048&&Sd(_.alternate,_);break;default:to(d,_,b,D,h)}i=i.sibling}}function Al(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Al(a,l),h&2048&&bd(l.alternate,l);break;case 24:Al(a,l),h&2048&&Sd(l.alternate,l);break;default:Al(a,l)}i=i.sibling}}var Rl=8192;function eo(e){if(e.subtreeFlags&Rl)for(e=e.child;e!==null;)hv(e),e=e.sibling}function hv(e){switch(e.tag){case 26:eo(e),e.flags&Rl&&e.memoizedState!==null&&h1(gi,e.memoizedState,e.memoizedProps);break;case 5:eo(e);break;case 3:case 4:var i=gi;gi=Uc(e.stateNode.containerInfo),eo(e),gi=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Rl,Rl=16777216,eo(e),Rl=i):eo(e));break;default:eo(e)}}function fv(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Il(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];en=l,mv(l,e)}fv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dv(e),e=e.sibling}function dv(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&Zr(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Rc(e)):Il(e);break;default:Il(e)}}function Rc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];en=l,mv(l,e)}fv(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Zr(8,i,i.return),Rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(i));break;default:Rc(i)}e=e.sibling}}function mv(e,i){for(;en!==null;){var a=en;switch(a.tag){case 0:case 11:case 15:Zr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,en=l;else t:for(a=e;en!==null;){l=en;var h=l.sibling,d=l.return;if(sv(l),l===a){en=null;break t}if(h!==null){h.return=d,en=h;break t}en=d}}}var Ib={getCacheForType:function(e){var i=yn(Ke),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},Cb=typeof WeakMap=="function"?WeakMap:Map,se=0,de=null,Bt=null,Qt=0,ae=0,qn=null,es=!1,no=!1,Ad=!1,Sr=0,De=0,ns=0,ua=0,Rd=0,ri=0,io=0,Cl=null,Mn=null,Id=!1,Cd=0,Ic=1/0,Cc=null,is=null,ln=0,rs=null,ro=null,so=0,Nd=0,Dd=null,pv=null,Nl=0,xd=null;function Fn(){if((se&2)!==0&&Qt!==0)return Qt&-Qt;if(Y.T!==null){var e=Ya;return e!==0?e:Ud()}return Ln()}function gv(){ri===0&&(ri=(Qt&536870912)===0||te?Dn():536870912);var e=ii.current;return e!==null&&(e.flags|=32),ri}function Gn(e,i,a){(e===de&&(ae===2||ae===9)||e.cancelPendingCommit!==null)&&(ao(e,0),ss(e,Qt,ri,!1)),Qn(e,a),((se&2)===0||e!==de)&&(e===de&&((se&2)===0&&(ua|=a),De===4&&ss(e,Qt,ri,!1)),Ui(e))}function yv(e,i,a){if((se&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||tr(e,i),h=l?xb(e,i):Vd(e,i,!0),d=l;do{if(h===0){no&&!l&&ss(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!Nb(a)){h=Vd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var b=e;h=Cl;var D=b.current.memoizedState.isDehydrated;if(D&&(ao(b,_).flags|=256),_=Vd(b,_,!1),_!==2){if(Ad&&!D){b.errorRecoveryDisabledLanes|=d,ua|=d,h=4;break t}d=Mn,Mn=h,d!==null&&(Mn===null?Mn=d:Mn.push.apply(Mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ao(e,0),ss(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ss(l,i,ri,!es);break t;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Cd+300-ee(),10<h)){if(ss(l,i,ri,!es),Ji(l,0,!0)!==0)break t;l.timeoutHandle=Yv(vv.bind(null,l,a,Mn,Cc,Id,i,ri,ua,io,es,d,2,-0,0),h);break t}vv(l,a,Mn,Cc,Id,i,ri,ua,io,es,d,0,-0,0)}}break}while(!0);Ui(e)}function vv(e,i,a,l,h,d,_,b,D,F,J,rt,K,Q){if(e.timeoutHandle=-1,rt=i.subtreeFlags,(rt&8192||(rt&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:c1},hv(i),rt=f1(),rt!==null)){e.cancelPendingCommit=rt(Av.bind(null,e,i,d,a,l,h,_,b,D,J,1,K,Q)),ss(e,d,_,!F);return}Av(e,i,d,a,l,h,_,b,D)}function Nb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!zn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ss(e,i,a,l){i&=~Rd,i&=~ua,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Se(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&wt(e,a,i)}function Nc(){return(se&6)===0?(Dl(0),!1):!0}function Od(){if(Bt!==null){if(ae===0)var e=Bt.return;else e=Bt,gr=ia=null,Xf(e),Za=null,El=0,e=Bt;for(;e!==null;)Wy(e.alternate,e),e=e.return;Bt=null}}function ao(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Kb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Od(),de=e,Bt=a=dr(e.current,null),Qt=i,ae=0,qn=null,es=!1,no=tr(e,i),Ad=!1,io=ri=Rd=ua=ns=De=0,Mn=Cl=null,Id=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Se(l),d=1<<h;i|=e[h],l&=~d}return Sr=i,Wu(),a}function _v(e,i){kt=null,Y.H=gc,i===hl||i===ac?(i=kg(),ae=3):i===Mg?(i=kg(),ae=4):ae=i===Ly?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,qn=i,Bt===null&&(De=1,Tc(e,Jn(i,e.current)))}function Ev(){var e=Y.H;return Y.H=gc,e===null?gc:e}function Tv(){var e=Y.A;return Y.A=Ib,e}function Md(){De=4,es||(Qt&4194048)!==Qt&&ii.current!==null||(no=!0),(ns&134217727)===0&&(ua&134217727)===0||de===null||ss(de,Qt,ri,!1)}function Vd(e,i,a){var l=se;se|=2;var h=Ev(),d=Tv();(de!==e||Qt!==i)&&(Cc=null,ao(e,i)),i=!1;var _=De;t:do try{if(ae!==0&&Bt!==null){var b=Bt,D=qn;switch(ae){case 8:Od(),_=6;break t;case 3:case 2:case 9:case 6:ii.current===null&&(i=!0);var F=ae;if(ae=0,qn=null,oo(e,b,D,F),a&&no){_=0;break t}break;default:F=ae,ae=0,qn=null,oo(e,b,D,F)}}Db(),_=De;break}catch(J){_v(e,J)}while(!0);return i&&e.shellSuspendCounter++,gr=ia=null,se=l,Y.H=h,Y.A=d,Bt===null&&(de=null,Qt=0,Wu()),_}function Db(){for(;Bt!==null;)wv(Bt)}function xb(e,i){var a=se;se|=2;var l=Ev(),h=Tv();de!==e||Qt!==i?(Cc=null,Ic=ee()+500,ao(e,i)):no=tr(e,i);t:do try{if(ae!==0&&Bt!==null){i=Bt;var d=qn;e:switch(ae){case 1:ae=0,qn=null,oo(e,i,d,1);break;case 2:case 9:if(Vg(d)){ae=0,qn=null,bv(i);break}i=function(){ae!==2&&ae!==9||de!==e||(ae=7),Ui(e)},d.then(i,i);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:Vg(d)?(ae=0,qn=null,bv(i)):(ae=0,qn=null,oo(e,i,d,7));break;case 5:var _=null;switch(Bt.tag){case 26:_=Bt.memoizedState;case 5:case 27:var b=Bt;if(!_||r_(_)){ae=0,qn=null;var D=b.sibling;if(D!==null)Bt=D;else{var F=b.return;F!==null?(Bt=F,Dc(F)):Bt=null}break e}}ae=0,qn=null,oo(e,i,d,5);break;case 6:ae=0,qn=null,oo(e,i,d,6);break;case 8:Od(),De=6;break t;default:throw Error(s(462))}}Ob();break}catch(J){_v(e,J)}while(!0);return gr=ia=null,Y.H=l,Y.A=h,se=a,Bt!==null?0:(de=null,Qt=0,Wu(),De)}function Ob(){for(;Bt!==null&&!Ie();)wv(Bt)}function wv(e){var i=Xy(e.alternate,e,Sr);e.memoizedProps=e.pendingProps,i===null?Dc(e):Bt=i}function bv(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=qy(a,i,i.pendingProps,i.type,void 0,Qt);break;case 11:i=qy(a,i,i.pendingProps,i.type.render,i.ref,Qt);break;case 5:Xf(i);default:Wy(a,i),i=Bt=Sg(i,Sr),i=Xy(a,i,Sr)}e.memoizedProps=e.pendingProps,i===null?Dc(e):Bt=i}function oo(e,i,a,l){gr=ia=null,Xf(i),Za=null,El=0;var h=i.return;try{if(Tb(e,h,i,a,Qt)){De=1,Tc(e,Jn(a,e.current)),Bt=null;return}}catch(d){if(h!==null)throw Bt=h,d;De=1,Tc(e,Jn(a,e.current)),Bt=null;return}i.flags&32768?(te||l===1?e=!0:no||(Qt&536870912)!==0?e=!1:(es=e=!0,(l===2||l===9||l===3||l===6)&&(l=ii.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sv(i,e)):Dc(i)}function Dc(e){var i=e;do{if((i.flags&32768)!==0){Sv(i,es);return}e=i.return;var a=bb(i.alternate,i,Sr);if(a!==null){Bt=a;return}if(i=i.sibling,i!==null){Bt=i;return}Bt=i=e}while(i!==null);De===0&&(De=5)}function Sv(e,i){do{var a=Sb(e.alternate,e);if(a!==null){a.flags&=32767,Bt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Bt=e;return}Bt=e=a}while(e!==null);De=6,Bt=null}function Av(e,i,a,l,h,d,_,b,D){e.cancelPendingCommit=null;do xc();while(ln!==0);if((se&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Sf,zr(e,a,d,_,b,D),e===de&&(Bt=de=null,Qt=0),ro=i,rs=e,so=a,Nd=d,Dd=h,pv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kb(ui,function(){return Dv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=lt.p,lt.p=2,_=se,se|=4;try{Ab(e,i,a)}finally{se=_,lt.p=h,Y.T=l}}ln=1,Rv(),Iv(),Cv()}}function Rv(){if(ln===1){ln=0;var e=rs,i=ro,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=lt.p;lt.p=2;var h=se;se|=4;try{lv(i,e);var d=Yd,_=mg(e.containerInfo),b=d.focusedElem,D=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&dg(b.ownerDocument.documentElement,b)){if(D!==null&&_f(b)){var F=D.start,J=D.end;if(J===void 0&&(J=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(J,b.value.length);else{var rt=b.ownerDocument||document,K=rt&&rt.defaultView||window;if(K.getSelection){var Q=K.getSelection(),Ct=b.textContent.length,St=Math.min(D.start,Ct),ce=D.end===void 0?St:Math.min(D.end,Ct);!Q.extend&&St>ce&&(_=ce,ce=St,St=_);var z=fg(b,St),M=fg(b,ce);if(z&&M&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var q=rt.createRange();q.setStart(z.node,z.offset),Q.removeAllRanges(),St>ce?(Q.addRange(q),Q.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),Q.addRange(q))}}}}for(rt=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&rt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<rt.length;b++){var tt=rt[b];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}qc=!!Gd,Yd=Gd=null}finally{se=h,lt.p=l,Y.T=a}}e.current=i,ln=2}}function Iv(){if(ln===2){ln=0;var e=rs,i=ro,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=lt.p;lt.p=2;var h=se;se|=4;try{rv(e,i.alternate,i)}finally{se=h,lt.p=l,Y.T=a}}ln=3}}function Cv(){if(ln===4||ln===3){ln=0,He();var e=rs,i=ro,a=so,l=pv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ln=5:(ln=0,ro=rs=null,Nv(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(is=null),Pe(a),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(ne,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=lt.p,lt.p=2,Y.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Y.T=i,lt.p=h}}(so&3)!==0&&xc(),Ui(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===xd?Nl++:(Nl=0,xd=e):Nl=0,Dl(0)}}function Nv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ul(i)))}function xc(e){return Rv(),Iv(),Cv(),Dv()}function Dv(){if(ln!==5)return!1;var e=rs,i=Nd;Nd=0;var a=Pe(so),l=Y.T,h=lt.p;try{lt.p=32>a?32:a,Y.T=null,a=Dd,Dd=null;var d=rs,_=so;if(ln=0,ro=rs=null,so=0,(se&6)!==0)throw Error(s(331));var b=se;if(se|=4,dv(d.current),cv(d,d.current,_,a),se=b,Dl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(ne,d)}catch{}return!0}finally{lt.p=h,Y.T=l,Nv(e,i)}}function xv(e,i,a){i=Jn(a,i),i=ud(e.stateNode,i,2),e=Qr(e,i,2),e!==null&&(Qn(e,2),Ui(e))}function fe(e,i,a){if(e.tag===3)xv(e,e,a);else for(;i!==null;){if(i.tag===3){xv(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(is===null||!is.has(l))){e=Jn(a,e),a=Py(2),l=Qr(i,a,2),l!==null&&(ky(a,l,i,e),Qn(l,2),Ui(l));break}}i=i.return}}function Pd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Cb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ad=!0,h.add(a),e=Mb.bind(null,e,i,a),i.then(e,e))}function Mb(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,de===e&&(Qt&a)===a&&(De===4||De===3&&(Qt&62914560)===Qt&&300>ee()-Cd?(se&2)===0&&ao(e,0):Rd|=a,io===Qt&&(io=0)),Ui(e)}function Ov(e,i){i===0&&(i=Ps()),e=Ha(e,i),e!==null&&(Qn(e,i),Ui(e))}function Vb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Ov(e,a)}function Pb(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Ov(e,a)}function kb(e,i){return he(e,i)}var Oc=null,lo=null,kd=!1,Mc=!1,Ld=!1,ca=0;function Ui(e){e!==lo&&e.next===null&&(lo===null?Oc=lo=e:lo=lo.next=e),Mc=!0,kd||(kd=!0,Ub())}function Dl(e,i){if(!Ld&&Mc){Ld=!0;do for(var a=!1,l=Oc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Se(42|e)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,kv(l,d))}else d=Qt,d=Ji(l,l===de?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||tr(l,d)||(a=!0,kv(l,d));l=l.next}while(a);Ld=!1}}function Lb(){Mv()}function Mv(){Mc=kd=!1;var e=0;ca!==0&&(Yb()&&(e=ca),ca=0);for(var i=ee(),a=null,l=Oc;l!==null;){var h=l.next,d=Vv(l,i);d===0?(l.next=null,a===null?Oc=h:a.next=h,h===null&&(lo=a)):(a=l,(e!==0||(d&3)!==0)&&(Mc=!0)),l=h}Dl(e)}function Vv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Se(d),b=1<<_,D=h[_];D===-1?((b&a)===0||(b&l)!==0)&&(h[_]=er(b,i)):D<=i&&(e.expiredLanes|=b),d&=~b}if(i=de,a=Qt,a=Ji(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(ae===2||ae===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Nt(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||tr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Nt(l),Pe(a)){case 2:case 8:a=qe;break;case 32:a=ui;break;case 268435456:a=bn;break;default:a=ui}return l=Pv.bind(null,e),a=he(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Nt(l),e.callbackPriority=2,e.callbackNode=null,2}function Pv(e,i){if(ln!==0&&ln!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(xc()&&e.callbackNode!==a)return null;var l=Qt;return l=Ji(e,e===de?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yv(e,l,i),Vv(e,ee()),e.callbackNode!=null&&e.callbackNode===a?Pv.bind(null,e):null)}function kv(e,i){if(xc())return null;yv(e,i,!0)}function Ub(){Qb(function(){(se&6)!==0?he(be,Lb):Mv()})}function Ud(){return ca===0&&(ca=Dn()),ca}function Lv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Da(""+e)}function Uv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function zb(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Lv((h[Zt]||null).action),_=l.submitter;_&&(i=(i=_[Zt]||null)?Lv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new xa("action","action",null,l,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var D=_?Uv(h,_):new FormData(h);rd(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=_?Uv(h,_):new FormData(h),rd(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var zd=0;zd<bf.length;zd++){var Bd=bf[zd],Bb=Bd.toLowerCase(),jb=Bd[0].toUpperCase()+Bd.slice(1);pi(Bb,"on"+jb)}pi(yg,"onAnimationEnd"),pi(vg,"onAnimationIteration"),pi(_g,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(rb,"onTransitionRun"),pi(sb,"onTransitionStart"),pi(ab,"onTransitionCancel"),pi(Eg,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function zv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],D=b.instance,F=b.currentTarget;if(b=b.listener,D!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=F;try{d(h)}catch(J){Ec(J)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(b=l[_],D=b.instance,F=b.currentTarget,b=b.listener,D!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=F;try{d(h)}catch(J){Ec(J)}h.currentTarget=null,d=D}}}}function jt(e,i){var a=i[Br];a===void 0&&(a=i[Br]=new Set);var l=e+"__bubble";a.has(l)||(Bv(i,e,2,!1),a.add(l))}function jd(e,i,a){var l=0;i&&(l|=4),Bv(a,e,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Hd(e){if(!e[Vc]){e[Vc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(Hb.has(a)||jd(a,!1,e),jd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,jd("selectionchange",!1,i))}}function Bv(e,i,a,l){switch(c_(i)){case 2:var h=p1;break;case 8:h=g1;break;default:h=nm}a=h.bind(null,i,a,e),h=void 0,!Wn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function qd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=ir(b),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}b=b.parentNode}}l=l.return}ku(function(){var F=d,J=$n(a),rt=[];t:{var K=Tg.get(e);if(K!==void 0){var Q=xa,Ct=e;switch(e){case"keypress":if(Ni(a)===0)break t;case"keydown":case"keyup":Q=La;break;case"focusin":Ct="focus",Q=Va;break;case"focusout":Ct="blur",Q=Va;break;case"beforeblur":case"afterblur":Q=Va;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Fu;break;case yg:case vg:case _g:Q=Pa;break;case Eg:Q=Yu;break;case"scroll":case"scrollend":Q=Lu;break;case"wheel":Q=Ua;break;case"copy":case"cut":case"paste":Q=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=el;break;case"toggle":case"beforetoggle":Q=Qu}var St=(i&4)!==0,ce=!St&&(e==="scroll"||e==="scrollend"),z=St?K!==null?K+"Capture":null:K;St=[];for(var M=F,q;M!==null;){var tt=M;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||z===null||(tt=qs(M,z),tt!=null&&St.push(Ol(M,tt,q))),ce)break;M=M.return}0<St.length&&(K=new Q(K,Ct,null,a,J),rt.push({event:K,listeners:St}))}}if((i&7)===0){t:{if(K=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",K&&a!==or&&(Ct=a.relatedTarget||a.fromElement)&&(ir(Ct)||Ct[Ee]))break t;if((Q||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(Ct=a.relatedTarget||a.toElement,Q=F,Ct=Ct?ir(Ct):null,Ct!==null&&(ce=u(Ct),St=Ct.tag,Ct!==ce||St!==5&&St!==27&&St!==6)&&(Ct=null)):(Q=null,Ct=F),Q!==Ct)){if(St=Zn,tt="onMouseLeave",z="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(St=el,tt="onPointerLeave",z="onPointerEnter",M="pointer"),ce=Q==null?K:Ai(Q),q=Ct==null?K:Ai(Ct),K=new St(tt,M+"leave",Q,a,J),K.target=ce,K.relatedTarget=q,tt=null,ir(J)===F&&(St=new St(z,M+"enter",Ct,a,J),St.target=q,St.relatedTarget=ce,tt=St),ce=tt,Q&&Ct)e:{for(St=Q,z=Ct,M=0,q=St;q;q=uo(q))M++;for(q=0,tt=z;tt;tt=uo(tt))q++;for(;0<M-q;)St=uo(St),M--;for(;0<q-M;)z=uo(z),q--;for(;M--;){if(St===z||z!==null&&St===z.alternate)break e;St=uo(St),z=uo(z)}St=null}else St=null;Q!==null&&jv(rt,K,Q,St,!1),Ct!==null&&ce!==null&&jv(rt,ce,Ct,St,!0)}}t:{if(K=F?Ai(F):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var vt=ag;else if(Ye(K))if(og)vt=eb;else{vt=Jw;var Lt=Zw}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&Qo(F.elementType)&&(vt=ag):vt=tb;if(vt&&(vt=vt(e,F))){fr(rt,vt,a,J);break t}Lt&&Lt(e,K,F),e==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&qr(K,"number",K.value)}switch(Lt=F?Ai(F):window,e){case"focusin":(Ye(Lt)||Lt.contentEditable==="true")&&(za=Lt,Ef=F,rl=null);break;case"focusout":rl=Ef=za=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,pg(rt,a,J);break;case"selectionchange":if(ib)break;case"keydown":case"keyup":pg(rt,a,J)}var Et;if(Oi)t:{switch(e){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Yt?$(e,a)&&(At="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(At="onCompositionStart");At&&(v&&a.locale!=="ko"&&(Yt||At!=="onCompositionStart"?At==="onCompositionEnd"&&Yt&&(Et=$o()):(Ci=J,Fr="value"in Ci?Ci.value:Ci.textContent,Yt=!0)),Lt=Pc(F,At),0<Lt.length&&(At=new Jo(At,e,null,a,J),rt.push({event:At,listeners:Lt}),Et?At.data=Et:(Et=ht(a),Et!==null&&(At.data=Et)))),(Et=y?Ge(e,a):Kt(e,a))&&(At=Pc(F,"onBeforeInput"),0<At.length&&(Lt=new Jo("onBeforeInput","beforeinput",null,a,J),rt.push({event:Lt,listeners:At}),Lt.data=Et)),zb(rt,e,F,a,J)}zv(rt,i)})}function Ol(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Pc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=qs(e,a),h!=null&&l.unshift(Ol(e,h,d)),h=qs(e,i),h!=null&&l.push(Ol(e,h,d))),e.tag===3)return l;e=e.return}return[]}function uo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jv(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,D=b.alternate,F=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||F===null||(D=F,h?(F=qs(a,d),F!=null&&_.unshift(Ol(a,F,D))):h||(F=qs(a,d),F!=null&&_.push(Ol(a,F,D)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var qb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function Hv(e){return(typeof e=="string"?e:""+e).replace(qb,`
`).replace(Fb,"")}function qv(e,i){return i=Hv(i),Hv(e)===i}function kc(){}function ue(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Xn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Xn(e,""+l);break;case"className":Ri(e,"class",l);break;case"tabIndex":Ri(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(e,a,l);break;case"style":Ko(e,l,d);break;case"data":if(i!=="object"){Ri(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Da(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ue(e,i,"name",h.name,h,null),ue(e,i,"formEncType",h.formEncType,h,null),ue(e,i,"formMethod",h.formMethod,h,null),ue(e,i,"formTarget",h.formTarget,h,null)):(ue(e,i,"encType",h.encType,h,null),ue(e,i,"method",h.method,h,null),ue(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Da(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=kc);break;case"onScroll":l!=null&&jt("scroll",e);break;case"onScrollEnd":l!=null&&jt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Da(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":jt("beforetoggle",e),jt("toggle",e),Hr(e,"popover",l);break;case"xlinkActuate":sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=df.get(a)||a,Hr(e,a,l))}}function Fd(e,i,a,l,h,d){switch(a){case"style":Ko(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Xn(e,l):(typeof l=="number"||typeof l=="bigint")&&Xn(e,""+l);break;case"onScroll":l!=null&&jt("scroll",e);break;case"onScrollEnd":l!=null&&jt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Zt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Hr(e,a,l)}}}function un(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",e),jt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ue(e,i,d,_,a,null)}}h&&ue(e,i,"srcSet",a.srcSet,a,null),l&&ue(e,i,"src",a.src,a,null);return;case"input":jt("invalid",e);var b=d=_=h=null,D=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":D=J;break;case"defaultChecked":F=J;break;case"value":d=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:ue(e,i,l,J,a,null)}}Bs(e,d,b,D,F,_,h,!1),Na(e);return;case"select":jt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:ue(e,i,h,b,a,null)}i=d,a=_,e.multiple=!!l,i!=null?ar(e,!!l,i,!1):a!=null&&ar(e,!!l,a,!0);return;case"textarea":jt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ue(e,i,_,b,a,null)}js(e,l,h,d),Na(e);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ue(e,i,D,l,a,null)}return;case"dialog":jt("beforetoggle",e),jt("toggle",e),jt("cancel",e),jt("close",e);break;case"iframe":case"object":jt("load",e);break;case"video":case"audio":for(l=0;l<xl.length;l++)jt(xl[l],e);break;case"image":jt("error",e),jt("load",e);break;case"details":jt("toggle",e);break;case"embed":case"source":case"link":jt("error",e),jt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ue(e,i,F,l,a,null)}return;default:if(Qo(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Fd(e,i,J,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&ue(e,i,b,l,a,null))}function Gb(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,D=null,F=null,J=null;for(Q in a){var rt=a[Q];if(a.hasOwnProperty(Q)&&rt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=rt;default:l.hasOwnProperty(Q)||ue(e,i,Q,null,l,rt)}}for(var K in l){var Q=l[K];if(rt=a[K],l.hasOwnProperty(K)&&(Q!=null||rt!=null))switch(K){case"type":d=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":J=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==rt&&ue(e,i,K,Q,l,rt)}}Un(e,_,b,D,F,J,d,h);return;case"select":Q=_=b=K=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||ue(e,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==D&&ue(e,i,h,d,l,D)}i=b,a=_,l=Q,K!=null?ar(e,!!a,K,!1):!!l!=!!a&&(i!=null?ar(e,!!a,i,!0):ar(e,!!a,a?[]:"",!1));return;case"textarea":Q=K=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ue(e,i,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":K=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ue(e,i,_,h,l,d)}oe(e,K,Q);return;case"option":for(var Ct in a)if(K=a[Ct],a.hasOwnProperty(Ct)&&K!=null&&!l.hasOwnProperty(Ct))switch(Ct){case"selected":e.selected=!1;break;default:ue(e,i,Ct,null,l,K)}for(D in l)if(K=l[D],Q=a[D],l.hasOwnProperty(D)&&K!==Q&&(K!=null||Q!=null))switch(D){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ue(e,i,D,K,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)K=a[St],a.hasOwnProperty(St)&&K!=null&&!l.hasOwnProperty(St)&&ue(e,i,St,null,l,K);for(F in l)if(K=l[F],Q=a[F],l.hasOwnProperty(F)&&K!==Q&&(K!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:ue(e,i,F,K,l,Q)}return;default:if(Qo(i)){for(var ce in a)K=a[ce],a.hasOwnProperty(ce)&&K!==void 0&&!l.hasOwnProperty(ce)&&Fd(e,i,ce,void 0,l,K);for(J in l)K=l[J],Q=a[J],!l.hasOwnProperty(J)||K===Q||K===void 0&&Q===void 0||Fd(e,i,J,K,l,Q);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&ue(e,i,z,null,l,K);for(rt in l)K=l[rt],Q=a[rt],!l.hasOwnProperty(rt)||K===Q||K==null&&Q==null||ue(e,i,rt,K,l,Q)}var Gd=null,Yd=null;function Lc(e){return e.nodeType===9?e:e.ownerDocument}function Fv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Kd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qd=null;function Yb(){var e=window.event;return e&&e.type==="popstate"?e===Qd?!1:(Qd=e,!0):(Qd=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,Kb=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,Qb=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(e){return Kv.resolve(null).then(e).catch(Xb)}:Yv;function Xb(e){setTimeout(function(){throw e})}function as(e){return e==="head"}function Qv(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=e.ownerDocument;if(a&1&&Ml(_.documentElement),a&2&&Ml(_.body),a&4)for(a=_.head,Ml(a),_=a.firstChild;_;){var b=_.nextSibling,D=_.nodeName;_[ks]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=b}}if(h===0){e.removeChild(d),jl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);jl(i)}function Xd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xd(a),jr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function $b(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ks])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=yi(e.nextSibling),e===null)break}return null}function Wb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=yi(e.nextSibling),e===null))return null;return e}function $d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Zb(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function yi(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Wd=null;function Xv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function $v(e,i,a){switch(i=Lc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ml(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);jr(e)}var si=new Map,Wv=new Set;function Uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ar=lt.d;lt.d={f:Jb,r:t1,D:e1,C:n1,L:i1,m:r1,X:a1,S:s1,M:o1};function Jb(){var e=Ar.f(),i=Nc();return e||i}function t1(e){var i=Si(e);i!==null&&i.tag===5&&i.type==="form"?yy(i):Ar.r(e)}var co=typeof document>"u"?null:document;function Zv(e,i,a){var l=co;if(l&&typeof i=="string"&&i){var h=ke(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Wv.has(h)||(Wv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),un(i,"link",e),xe(i),l.head.appendChild(i)))}}function e1(e){Ar.D(e),Zv("dns-prefetch",e,null)}function n1(e,i){Ar.C(e,i),Zv("preconnect",e,i)}function i1(e,i,a){Ar.L(e,i,a);var l=co;if(l&&e&&i){var h='link[rel="preload"][as="'+ke(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ke(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ke(a.imageSizes)+'"]')):h+='[href="'+ke(e)+'"]';var d=h;switch(i){case"style":d=ho(e);break;case"script":d=fo(e)}si.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),si.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Vl(d))||i==="script"&&l.querySelector(Pl(d))||(i=l.createElement("link"),un(i,"link",e),xe(i),l.head.appendChild(i)))}}function r1(e,i){Ar.m(e,i);var a=co;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ke(l)+'"][href="'+ke(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fo(e)}if(!si.has(d)&&(e=E({rel:"modulepreload",href:e},i),si.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),un(l,"link",e),xe(l),a.head.appendChild(l)}}}function s1(e,i,a){Ar.S(e,i,a);var l=co;if(l&&e){var h=Sn(l).hoistableStyles,d=ho(e);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Vl(d)))b.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=si.get(d))&&Zd(e,a);var D=_=l.createElement("link");xe(D),un(D,"link",e),D._p=new Promise(function(F,J){D.onload=F,D.onerror=J}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,zc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function a1(e,i){Ar.X(e,i);var a=co;if(a&&e){var l=Sn(a).hoistableScripts,h=fo(e),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(e=E({src:e,async:!0},i),(i=si.get(h))&&Jd(e,i),d=a.createElement("script"),xe(d),un(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function o1(e,i){Ar.M(e,i);var a=co;if(a&&e){var l=Sn(a).hoistableScripts,h=fo(e),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=si.get(h))&&Jd(e,i),d=a.createElement("script"),xe(d),un(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Jv(e,i,a,l){var h=(h=ut.current)?Uc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ho(a.href),a=Sn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ho(a.href);var d=Sn(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Vl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),si.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},si.set(e,a),d||l1(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fo(a),a=Sn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ho(e){return'href="'+ke(e)+'"'}function Vl(e){return'link[rel="stylesheet"]['+e+"]"}function t_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function l1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),un(i,"link",a),xe(i),e.head.appendChild(i))}function fo(e){return'[src="'+ke(e)+'"]'}function Pl(e){return"script[async]"+e}function e_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ke(a.href)+'"]');if(l)return i.instance=l,xe(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),xe(l),un(l,"style",h),zc(l,a.precedence,e),i.instance=l;case"stylesheet":h=ho(a.href);var d=e.querySelector(Vl(h));if(d)return i.state.loading|=4,i.instance=d,xe(d),d;l=t_(a),(h=si.get(h))&&Zd(l,h),d=(e.ownerDocument||e).createElement("link"),xe(d);var _=d;return _._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),un(d,"link",l),i.state.loading|=4,zc(d,a.precedence,e),i.instance=d;case"script":return d=fo(a.src),(h=e.querySelector(Pl(d)))?(i.instance=h,xe(h),h):(l=a,(h=si.get(d))&&(l=E({},a),Jd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),xe(h),un(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,e));return i.instance}function zc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Zd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Jd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Bc=null;function n_(e,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ks]||d[_e]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function i_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function u1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function r_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var kl=null;function c1(){}function h1(e,i,a){if(kl===null)throw Error(s(475));var l=kl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ho(a.href),d=e.querySelector(Vl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=jc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,xe(d);return}d=e.ownerDocument||e,a=t_(a),(h=si.get(h))&&Zd(a,h),d=d.createElement("link"),xe(d);var _=d;_._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),un(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=jc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function f1(){if(kl===null)throw Error(s(475));var e=kl;return e.stylesheets&&e.count===0&&tm(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&tm(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function jc(){if(this.count--,this.count===0){if(this.stylesheets)tm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Hc=null;function tm(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Hc=new Map,i.forEach(d1,e),Hc=null,jc.call(e))}function d1(e,i){if(!(i.state.loading&4)){var a=Hc.get(e);if(a)var l=a.get(null);else{a=new Map,Hc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=jc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Ll={$$typeof:nt,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function m1(e,i,a,l,h,d,_,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function s_(e,i,a,l,h,d,_,b,D,F,J,rt){return e=new m1(e,i,a,_,b,D,F,rt),i=1,d===!0&&(i|=24),d=Bn(3,null,null,i),e.current=d,d.stateNode=e,i=Pf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},zf(d),e}function a_(e){return e?(e=qa,e):qa}function o_(e,i,a,l,h,d){h=a_(h),l.context===null?l.context=h:l.pendingContext=h,l=Kr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Qr(e,l,i),a!==null&&(Gn(a,e,i),dl(a,e,i))}function l_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function em(e,i){l_(e,i),(e=e.alternate)&&l_(e,i)}function u_(e){if(e.tag===13){var i=Ha(e,67108864);i!==null&&Gn(i,e,67108864),em(e,67108864)}}var qc=!0;function p1(e,i,a,l){var h=Y.T;Y.T=null;var d=lt.p;try{lt.p=2,nm(e,i,a,l)}finally{lt.p=d,Y.T=h}}function g1(e,i,a,l){var h=Y.T;Y.T=null;var d=lt.p;try{lt.p=8,nm(e,i,a,l)}finally{lt.p=d,Y.T=h}}function nm(e,i,a,l){if(qc){var h=im(l);if(h===null)qd(e,i,l,Fc,a),h_(e,l);else if(v1(h,e,i,a,l))l.stopPropagation();else if(h_(e,l),i&4&&-1<y1.indexOf(e)){for(;h!==null;){var d=Si(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Nn(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var D=1<<31-Se(_);b.entanglements[1]|=D,_&=~D}Ui(d),(se&6)===0&&(Ic=ee()+500,Dl(0))}}break;case 13:b=Ha(d,2),b!==null&&Gn(b,d,2),Nc(),em(d,2)}if(d=im(l),d===null&&qd(e,i,l,Fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else qd(e,i,l,null,a)}}function im(e){return e=$n(e),rm(e)}var Fc=null;function rm(e){if(Fc=null,e=ir(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Fc=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pn()){case be:return 2;case qe:return 8;case ui:case Fe:return 32;case bn:return 268435456;default:return 32}default:return 32}}var sm=!1,os=null,ls=null,us=null,Ul=new Map,zl=new Map,cs=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(e,i){switch(e){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function Bl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Si(i),i!==null&&u_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function v1(e,i,a,l,h){switch(i){case"focusin":return os=Bl(os,e,i,a,l,h),!0;case"dragenter":return ls=Bl(ls,e,i,a,l,h),!0;case"mouseover":return us=Bl(us,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ul.set(d,Bl(Ul.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,zl.set(d,Bl(zl.get(d)||null,e,i,a,l,h)),!0}return!1}function f_(e){var i=ir(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Ce(e.priority,function(){if(a.tag===13){var l=Fn();l=pe(l);var h=Ha(a,l);h!==null&&Gn(h,a,l),em(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=im(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);or=l,a.target.dispatchEvent(l),or=null}else return i=Si(a),i!==null&&u_(i),e.blockedOn=a,!1;i.shift()}return!0}function d_(e,i,a){Gc(e)&&a.delete(i)}function _1(){sm=!1,os!==null&&Gc(os)&&(os=null),ls!==null&&Gc(ls)&&(ls=null),us!==null&&Gc(us)&&(us=null),Ul.forEach(d_),zl.forEach(d_)}function Yc(e,i){e.blockedOn===i&&(e.blockedOn=null,sm||(sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_1)))}var Kc=null;function m_(e){Kc!==e&&(Kc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kc===e&&(Kc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var d=Si(a);d!==null&&(e.splice(i,3),i-=3,rd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function jl(e){function i(D){return Yc(D,e)}os!==null&&Yc(os,e),ls!==null&&Yc(ls,e),us!==null&&Yc(us,e),Ul.forEach(i),zl.forEach(i);for(var a=0;a<cs.length;a++){var l=cs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<cs.length&&(a=cs[0],a.blockedOn===null);)f_(a),a.blockedOn===null&&cs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Zt]||null;if(typeof d=="function")_||m_(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Zt]||null)b=_.formAction;else if(rm(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),m_(a)}}}function am(e){this._internalRoot=e}Qc.prototype.render=am.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Fn();o_(a,l,e,i,null,null)},Qc.prototype.unmount=am.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;o_(e.current,2,null,e,null,null),Nc(),i[Ee]=null}};function Qc(e){this._internalRoot=e}Qc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ln();e={blockedOn:null,target:e,priority:i};for(var a=0;a<cs.length&&i!==0&&i<cs[a].priority;a++);cs.splice(a,0,e),a===0&&f_(e)}};var p_=t.version;if(p_!=="19.1.1")throw Error(s(527,p_,"19.1.1"));lt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var E1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{ne=Xc.inject(E1),$t=Xc}catch{}}return ql.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=xy,d=Oy,_=My,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=s_(e,1,!1,null,null,a,l,h,d,_,b,null),e[Ee]=i.current,Hd(e),new am(i)},ql.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=xy,_=Oy,b=My,D=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=s_(e,1,!0,i,a??null,l,h,d,_,b,D,F),i.context=a_(null),a=i.current,l=Fn(),l=pe(l),h=Kr(l),h.callback=null,Qr(a,h,l),a=l,i.current.lanes=a,Qn(i,a),Ui(i),e[Ee]=i.current,Hd(e),new Qc(i)},ql.version="19.1.1",ql}var A_;function D1(){if(A_)return um.exports;A_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),um.exports=N1(),um.exports}var x1=D1();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R_="popstate";function O1(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=Ta(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),xm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:au(u))}function s(o,u){li(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return V1(t,n,s,r)}function we(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function li(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function M1(){return Math.random().toString(36).substring(2,10)}function I_(r,t){return{usr:r.state,key:r.key,idx:t}}function xm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ta(t):t,state:n,key:t&&t.key||s||M1()}}function au({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ta(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function V1(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let k=E(),U=k==null?null:k-g;g=k,p&&p({action:m,location:Z.location,delta:U})}function R(k,U){m="PUSH";let X=xm(Z.location,k,U);n&&n(X,k),g=E()+1;let nt=I_(X,g),dt=Z.createHref(X);try{f.pushState(nt,"",dt)}catch(gt){if(gt instanceof DOMException&&gt.name==="DataCloneError")throw gt;o.location.assign(dt)}u&&p&&p({action:m,location:Z.location,delta:1})}function x(k,U){m="REPLACE";let X=xm(Z.location,k,U);n&&n(X,k),g=E();let nt=I_(X,g),dt=Z.createHref(X);f.replaceState(nt,"",dt),u&&p&&p({action:m,location:Z.location,delta:0})}function H(k){return P1(k)}let Z={get action(){return m},get location(){return r(o,f)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(R_,T),p=k,()=>{o.removeEventListener(R_,T),p=null}},createHref(k){return t(o,k)},createURL:H,encodeLocation(k){let U=H(k);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:R,replace:x,go(k){return f.go(k)}};return Z}function P1(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),we(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:au(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function uE(r,t,n="/"){return k1(r,t,n,!1)}function k1(r,t,n,s){let o=typeof t=="string"?Ta(t):t,u=Or(o.pathname||"/",n);if(u==null)return null;let f=cE(r);L1(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Q1(u);m=Y1(f[p],g,s)}return m}function cE(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;we(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=Nr([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(we(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),cE(f.children,t,R,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:F1(T,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of hE(f.path))u(f,m,!0,p)}),t}function hE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=hE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function L1(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:G1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var U1=/^:[\w-]+$/,z1=3,B1=2,j1=1,H1=10,q1=-2,C_=r=>r==="*";function F1(r,t){let n=r.split("/"),s=n.length;return n.some(C_)&&(s+=q1),t&&(s+=B1),n.filter(o=>!C_(o)).reduce((o,u)=>o+(U1.test(u)?z1:u===""?j1:H1),s)}function G1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Y1(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Nr([u,T.pathname]),pathnameBase:Z1(Nr([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=Nr([u,T.pathnameBase]))}return f}function vh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=K1(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},R)=>{if(E==="*"){let H=m[R]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const x=m[R];return T&&!x?g[E]=void 0:g[E]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function K1(r,t=!1,n=!0){li(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Q1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return li(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Or(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function X1(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ta(r):r;return{pathname:n?n.startsWith("/")?n:$1(n,t):t,search:J1(s),hash:tS(o)}}function $1(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lp(r){let t=W1(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function up(r,t,n,s=!1){let o;typeof r=="string"?o=Ta(r):(o={...r},we(!o.pathname||!o.pathname.includes("?"),dm("?","pathname","search",o)),we(!o.pathname||!o.pathname.includes("#"),dm("#","pathname","hash",o)),we(!o.search||!o.search.includes("#"),dm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}m=T>=0?t[T]:"/"}let p=X1(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Nr=r=>r.join("/").replace(/\/\/+/g,"/"),Z1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),J1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function eS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var fE=["POST","PUT","PATCH","DELETE"];new Set(fE);var nS=["GET",...fE];new Set(nS);var Oo=G.createContext(null);Oo.displayName="DataRouter";var Bh=G.createContext(null);Bh.displayName="DataRouterState";G.createContext(!1);var dE=G.createContext({isTransitioning:!1});dE.displayName="ViewTransition";var iS=G.createContext(new Map);iS.displayName="Fetchers";var rS=G.createContext(null);rS.displayName="Await";var Ti=G.createContext(null);Ti.displayName="Navigation";var gu=G.createContext(null);gu.displayName="Location";var Wi=G.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var cp=G.createContext(null);cp.displayName="RouteError";function sS(r,{relative:t}={}){we(Mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Ti),{hash:o,pathname:u,search:f}=yu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Nr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Mo(){return G.useContext(gu)!=null}function Ds(){return we(Mo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(gu).location}var mE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pE(r){G.useContext(Ti).static||G.useLayoutEffect(r)}function hp(){let{isDataRoute:r}=G.useContext(Wi);return r?vS():aS()}function aS(){we(Mo(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Oo),{basename:t,navigator:n}=G.useContext(Ti),{matches:s}=G.useContext(Wi),{pathname:o}=Ds(),u=JSON.stringify(lp(s)),f=G.useRef(!1);return pE(()=>{f.current=!0}),G.useCallback((p,g={})=>{if(li(f.current,mE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=up(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Nr([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}G.createContext(null);function yu(r,{relative:t}={}){let{matches:n}=G.useContext(Wi),{pathname:s}=Ds(),o=JSON.stringify(lp(n));return G.useMemo(()=>up(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function oS(r,t){return gE(r,t)}function gE(r,t,n,s,o){we(Mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(Ti),{matches:f}=G.useContext(Wi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let X=T&&T.path||"";yE(g,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=Ds(),x;if(t){let X=typeof t=="string"?Ta(t):t;we(E==="/"||X.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),x=X}else x=R;let H=x.pathname||"/",Z=H;if(E!=="/"){let X=E.replace(/^\//,"").split("/");Z="/"+H.replace(/^\//,"").split("/").slice(X.length).join("/")}let k=uE(r,{pathname:Z});li(T||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),li(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=fS(k&&k.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Nr([E,u.encodeLocation?u.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:Nr([E,u.encodeLocation?u.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),f,n,s,o);return t&&U?G.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},U):U}function lS(){let r=yS(),t=eS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:o},n):null,f)}var uS=G.createElement(lS,null),cS=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?G.createElement(Wi.Provider,{value:this.props.routeContext},G.createElement(cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hS({routeContext:r,match:t,children:n}){let s=G.useContext(Oo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Wi.Provider,{value:r},n)}function fS(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let g=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);we(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:T,errors:R}=n,x=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||x){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,T)=>{let R,x=!1,H=null,Z=null;n&&(R=f&&E.route.id?f[E.route.id]:void 0,H=E.route.errorElement||uS,m&&(p<0&&T===0?(yE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,Z=null):p===T&&(x=!0,Z=E.route.hydrateFallbackElement||null)));let k=t.concat(u.slice(0,T+1)),U=()=>{let X;return R?X=H:x?X=Z:E.route.Component?X=G.createElement(E.route.Component,null):E.route.element?X=E.route.element:X=g,G.createElement(hS,{match:E,routeContext:{outlet:g,matches:k,isDataRoute:n!=null},children:X})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?G.createElement(cS,{location:n.location,revalidation:n.revalidation,component:H,error:R,children:U(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:s}):U()},null)}function fp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dS(r){let t=G.useContext(Oo);return we(t,fp(r)),t}function mS(r){let t=G.useContext(Bh);return we(t,fp(r)),t}function pS(r){let t=G.useContext(Wi);return we(t,fp(r)),t}function dp(r){let t=pS(r),n=t.matches[t.matches.length-1];return we(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function gS(){return dp("useRouteId")}function yS(){let r=G.useContext(cp),t=mS("useRouteError"),n=dp("useRouteError");return r!==void 0?r:t.errors?.[n]}function vS(){let{router:r}=dS("useNavigate"),t=dp("useNavigate"),n=G.useRef(!1);return pE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{li(n.current,mE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var N_={};function yE(r,t,n){!t&&!N_[r]&&(N_[r]=!0,li(!1,n))}G.memo(_S);function _S({routes:r,future:t,state:n,unstable_onError:s}){return gE(r,void 0,n,s,t)}function ES({to:r,replace:t,state:n,relative:s}){we(Mo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(Ti);li(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(Wi),{pathname:f}=Ds(),m=hp(),p=up(r,lp(u),f,s==="path"),g=JSON.stringify(p);return G.useEffect(()=>{m(JSON.parse(g),{replace:t,state:n,relative:s})},[m,g,s,t,n]),null}function Gl(r){we(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TS({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){we(!Mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ta(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:R="default"}=n,x=G.useMemo(()=>{let H=Or(p,f);return H==null?null:{location:{pathname:H,search:g,hash:E,state:T,key:R},navigationType:s}},[f,p,g,E,T,R,s]);return li(x!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:G.createElement(Ti.Provider,{value:m},G.createElement(gu.Provider,{children:t,value:x}))}function wS({children:r,location:t}){return oS(Om(r),t)}function Om(r,t=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...t,o];if(s.type===G.Fragment){n.push.apply(n,Om(s.props.children,u));return}we(s.type===Gl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),we(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Om(s.props.children,u)),n.push(f)}),n}var sh="get",ah="application/x-www-form-urlencoded";function jh(r){return r!=null&&typeof r.tagName=="string"}function bS(r){return jh(r)&&r.tagName.toLowerCase()==="button"}function SS(r){return jh(r)&&r.tagName.toLowerCase()==="form"}function AS(r){return jh(r)&&r.tagName.toLowerCase()==="input"}function RS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function IS(r,t){return r.button===0&&(!t||t==="_self")&&!RS(r)}var $c=null;function CS(){if($c===null)try{new FormData(document.createElement("form"),0),$c=!1}catch{$c=!0}return $c}var NS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(r){return r!=null&&!NS.has(r)?(li(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):r}function DS(r,t){let n,s,o,u,f;if(SS(r)){let m=r.getAttribute("action");s=m?Or(m,t):null,n=r.getAttribute("method")||sh,o=mm(r.getAttribute("enctype"))||ah,u=new FormData(r)}else if(bS(r)||AS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Or(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||sh,o=mm(r.getAttribute("formenctype"))||mm(m.getAttribute("enctype"))||ah,u=new FormData(m,r),!CS()){let{name:g,type:E,value:T}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,T)}}else{if(jh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,o=ah,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function xS(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Or(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function OS(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function VS(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await OS(u,n);return f.links?f.links():[]}return[]}));return US(s.flat(1).filter(MS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function D_(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function PS(r,t,{includeHydrateFallback:n}={}){return kS(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function kS(r){return[...new Set(r)]}function LS(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function US(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(LS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function vE(){let r=G.useContext(Oo);return mp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function zS(){let r=G.useContext(Bh);return mp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var pp=G.createContext(void 0);pp.displayName="FrameworkContext";function _E(){let r=G.useContext(pp);return mp(r,"You must render this element inside a <HydratedRouter> element"),r}function BS(r,t){let n=G.useContext(pp),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=t,R=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=U=>{U.forEach(X=>{f(X.isIntersecting)})},k=new IntersectionObserver(Z,{threshold:.5});return R.current&&k.observe(R.current),()=>{k.disconnect()}}},[r]),G.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let x=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Fl(m,x),onBlur:Fl(p,H),onMouseEnter:Fl(g,x),onMouseLeave:Fl(E,H),onTouchStart:Fl(T,x)}]:[!1,R,{}]}function Fl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function jS({page:r,...t}){let{router:n}=vE(),s=G.useMemo(()=>uE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(qS,{page:r,matches:s,...t}):null}function HS(r){let{manifest:t,routeModules:n}=_E(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return VS(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function qS({page:r,matches:t,...n}){let s=Ds(),{manifest:o,routeModules:u}=_E(),{basename:f}=vE(),{loaderData:m,matches:p}=zS(),g=G.useMemo(()=>D_(r,t,p,o,s,"data"),[r,t,p,o,s]),E=G.useMemo(()=>D_(r,t,p,o,s,"assets"),[r,t,p,o,s]),T=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,Z=!1;if(t.forEach(U=>{let X=o.routes[U.route.id];!X||!X.hasLoader||(!g.some(nt=>nt.route.id===U.route.id)&&U.route.id in m&&u[U.route.id]?.shouldRevalidate||X.hasClientLoader?Z=!0:H.add(U.route.id))}),H.size===0)return[];let k=xS(r,f,"data");return Z&&H.size>0&&k.searchParams.set("_routes",t.filter(U=>H.has(U.route.id)).map(U=>U.route.id).join(",")),[k.pathname+k.search]},[f,m,s,o,g,t,r,u]),R=G.useMemo(()=>PS(E,o),[E,o]),x=HS(E);return G.createElement(G.Fragment,null,T.map(H=>G.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),R.map(H=>G.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),x.map(({key:H,link:Z})=>G.createElement("link",{key:H,nonce:n.nonce,...Z})))}function FS(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var EE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{EE&&(window.__reactRouterVersion="7.9.1")}catch{}function GS({basename:r,children:t,window:n}){let s=G.useRef();s.current==null&&(s.current=O1({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(TS,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var TE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wE=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...R},x){let{basename:H}=G.useContext(Ti),Z=typeof g=="string"&&TE.test(g),k,U=!1;if(typeof g=="string"&&Z&&(k=g,EE))try{let C=new URL(window.location.href),O=g.startsWith("//")?new URL(C.protocol+g):new URL(g),P=Or(O.pathname,H);O.origin===C.origin&&P!=null?g=P+O.search+O.hash:U=!0}catch{li(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=sS(g,{relative:o}),[nt,dt,gt]=BS(s,R),bt=XS(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function V(C){t&&t(C),C.defaultPrevented||bt(C)}let I=G.createElement("a",{...R,...gt,href:k||X,onClick:U||u?t:V,ref:FS(x,dt),target:p,"data-discover":!Z&&n==="render"?"true":void 0});return nt&&!Z?G.createElement(G.Fragment,null,I,G.createElement(jS,{page:X})):I});wE.displayName="Link";var YS=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=yu(f,{relative:g.relative}),R=Ds(),x=G.useContext(Bh),{navigator:H,basename:Z}=G.useContext(Ti),k=x!=null&&tA(T)&&m===!0,U=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,X=R.pathname,nt=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(X=X.toLowerCase(),nt=nt?nt.toLowerCase():null,U=U.toLowerCase()),nt&&Z&&(nt=Or(nt,Z)||nt);const dt=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let gt=X===U||!o&&X.startsWith(U)&&X.charAt(dt)==="/",bt=nt!=null&&(nt===U||!o&&nt.startsWith(U)&&nt.charAt(U.length)==="/"),V={isActive:gt,isPending:bt,isTransitioning:k},I=gt?t:void 0,C;typeof s=="function"?C=s(V):C=[s,gt?"active":null,bt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(V):u;return G.createElement(wE,{...g,"aria-current":I,className:C,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(V):p)});YS.displayName="NavLink";var KS=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=sh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...R},x)=>{let H=ZS(),Z=JS(m,{relative:g}),k=f.toLowerCase()==="get"?"get":"post",U=typeof m=="string"&&TE.test(m),X=nt=>{if(p&&p(nt),nt.defaultPrevented)return;nt.preventDefault();let dt=nt.nativeEvent.submitter,gt=dt?.getAttribute("formmethod")||f;H(dt||nt.currentTarget,{fetcherKey:t,method:gt,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return G.createElement("form",{ref:x,method:k,action:Z,onSubmit:s?p:X,...R,"data-discover":!U&&r==="render"?"true":void 0})});KS.displayName="Form";function QS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bE(r){let t=G.useContext(Oo);return we(t,QS(r)),t}function XS(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=hp(),p=Ds(),g=yu(r,{relative:u});return G.useCallback(E=>{if(IS(E,t)){E.preventDefault();let T=n!==void 0?n:au(p)===au(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,r,o,u,f])}var $S=0,WS=()=>`__${String(++$S)}__`;function ZS(){let{router:r}=bE("useSubmit"),{basename:t}=G.useContext(Ti),n=gS();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=DS(s,t);if(o.navigate===!1){let E=o.fetcherKey||WS();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function JS(r,{relative:t}={}){let{basename:n}=G.useContext(Ti),s=G.useContext(Wi);we(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...yu(r||".",{relative:t})},f=Ds();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Nr([n,u.pathname])),au(u)}function tA(r,{relative:t}={}){let n=G.useContext(dE);we(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bE("useViewTransitionState"),o=yu(r,{relative:t});if(!n.isTransitioning)return!1;let u=Or(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Or(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vh(o.pathname,f)!=null||vh(o.pathname,u)!=null}var eA=lE();const nA=ap(eA),iA=()=>{};var x_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},rA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},AE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,x=g&63;p||(x=64,f||(R=64)),s.push(n[E],n[T],n[R],n[x])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(SE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):rA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new sA;const R=u<<2|m>>4;if(s.push(R),g!==64){const x=m<<4&240|g>>2;if(s.push(x),T!==64){const H=g<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aA=function(r){const t=SE(r);return AE.encodeByteArray(t,!0)},_h=function(r){return aA(r).replace(/\./g,"")},RE=function(r){try{return AE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=()=>oA().__FIREBASE_DEFAULTS__,uA=()=>{if(typeof process>"u"||typeof x_>"u")return;const r=x_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&RE(r[1]);return t&&JSON.parse(t)},Hh=()=>{try{return iA()||lA()||uA()||cA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},IE=r=>Hh()?.emulatorHosts?.[r],hA=r=>{const t=IE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},CE=()=>Hh()?.config,NE=r=>Hh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[_h(JSON.stringify(n)),_h(JSON.stringify(f)),""].join(".")}const tu={};function mA(){const r={prod:[],emulator:[]};for(const t of Object.keys(tu))tu[t]?r.emulator.push(t):r.prod.push(t);return r}function pA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let O_=!1;function xE(r,t){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||tu[r]===t||tu[r]||O_)return;tu[r]=t;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=mA().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,x){R.setAttribute("width","24"),R.setAttribute("id",x),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{O_=!0,f()},R}function E(R,x){R.setAttribute("id",x),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=pA(s),x=n("text"),H=document.getElementById(x)||document.createElement("span"),Z=n("learnmore"),k=document.getElementById(Z)||document.createElement("a"),U=n("preprendIcon"),X=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const nt=R.element;m(nt),E(k,Z);const dt=g();p(X,U),nt.append(X,H,k,dt),document.body.appendChild(nt)}u?(H.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function yA(){const r=Hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _A(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TA(){const r=wn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function wA(){return!yA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bA(){try{return typeof indexedDB=="object"}catch{return!1}}function SA(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="FirebaseError";class Lr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=AA,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?RA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Lr(o,m,s)}}function RA(r,t){return r.replace(IA,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const IA=/\{\$([^}]+)}/g;function CA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function pa(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(M_(u)&&M_(f)){if(!pa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function M_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Yl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Kl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function NA(r,t){const n=new DA(r,t);return n.subscribe.bind(n)}class DA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");xA(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=pm),o.error===void 0&&(o.error=pm),o.complete===void 0&&(o.complete=pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xA(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(r){return r&&r._delegate?r._delegate:r}class ga{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new fA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VA(t))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ha){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ha){return this.instances.has(t)}getOptions(t=ha){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ha){return this.component?this.component.multipleInstances?t:ha:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MA(r){return r===ha?void 0:r}function VA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new OA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qt||(qt={}));const kA={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},LA=qt.INFO,UA={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},zA=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=UA[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gp{constructor(t){this.name=t,this._logLevel=LA,this._logHandler=zA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const BA=(r,t)=>t.some(n=>r instanceof n);let V_,P_;function jA(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HA(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OE=new WeakMap,Mm=new WeakMap,ME=new WeakMap,gm=new WeakMap,yp=new WeakMap;function qA(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(_s(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&OE.set(n,r)}).catch(()=>{}),yp.set(t,r),t}function FA(r){if(Mm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Mm.set(r,t)}let Vm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Mm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||ME.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function GA(r){Vm=r(Vm)}function YA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(ym(this),t,...n);return ME.set(s,t.sort?t.sort():[t]),_s(s)}:HA().includes(r)?function(...t){return r.apply(ym(this),t),_s(OE.get(this))}:function(...t){return _s(r.apply(ym(this),t))}}function KA(r){return typeof r=="function"?YA(r):(r instanceof IDBTransaction&&FA(r),BA(r,jA())?new Proxy(r,Vm):r)}function _s(r){if(r instanceof IDBRequest)return qA(r);if(gm.has(r))return gm.get(r);const t=KA(r);return t!==r&&(gm.set(r,t),yp.set(t,r)),t}const ym=r=>yp.get(r);function QA(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=_s(f);return s&&f.addEventListener("upgradeneeded",p=>{s(_s(f.result),p.oldVersion,p.newVersion,_s(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const XA=["get","getKey","getAll","getAllKeys","count"],$A=["put","add","delete","clear"],vm=new Map;function k_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(vm.get(t))return vm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=$A.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||XA.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return vm.set(t,u),u}GA(r=>({...r,get:(t,n,s)=>k_(t,n)||r.get(t,n,s),has:(t,n)=>!!k_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZA(r){return r.getComponent()?.type==="VERSION"}const Pm="@firebase/app",L_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new gp("@firebase/app"),JA="@firebase/app-compat",tR="@firebase/analytics-compat",eR="@firebase/analytics",nR="@firebase/app-check-compat",iR="@firebase/app-check",rR="@firebase/auth",sR="@firebase/auth-compat",aR="@firebase/database",oR="@firebase/data-connect",lR="@firebase/database-compat",uR="@firebase/functions",cR="@firebase/functions-compat",hR="@firebase/installations",fR="@firebase/installations-compat",dR="@firebase/messaging",mR="@firebase/messaging-compat",pR="@firebase/performance",gR="@firebase/performance-compat",yR="@firebase/remote-config",vR="@firebase/remote-config-compat",_R="@firebase/storage",ER="@firebase/storage-compat",TR="@firebase/firestore",wR="@firebase/ai",bR="@firebase/firestore-compat",SR="firebase",AR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="[DEFAULT]",RR={[Pm]:"fire-core",[JA]:"fire-core-compat",[eR]:"fire-analytics",[tR]:"fire-analytics-compat",[iR]:"fire-app-check",[nR]:"fire-app-check-compat",[rR]:"fire-auth",[sR]:"fire-auth-compat",[aR]:"fire-rtdb",[oR]:"fire-data-connect",[lR]:"fire-rtdb-compat",[uR]:"fire-fn",[cR]:"fire-fn-compat",[hR]:"fire-iid",[fR]:"fire-iid-compat",[dR]:"fire-fcm",[mR]:"fire-fcm-compat",[pR]:"fire-perf",[gR]:"fire-perf-compat",[yR]:"fire-rc",[vR]:"fire-rc-compat",[_R]:"fire-gcs",[ER]:"fire-gcs-compat",[TR]:"fire-fst",[bR]:"fire-fst-compat",[wR]:"fire-vertex","fire-js":"fire-js",[SR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,IR=new Map,Lm=new Map;function U_(r,t){try{r.container.addComponent(t)}catch(n){Mr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ao(r){const t=r.name;if(Lm.has(t))return Mr.debug(`There were multiple attempts to register component ${t}.`),!1;Lm.set(t,r);for(const n of Eh.values())U_(n,r);for(const n of IR.values())U_(n,r);return!0}function vp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function ai(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new vu("app","Firebase",CR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=AR;function VE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:km,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Es.create("bad-app-name",{appName:String(o)});if(n||(n=CE()),!n)throw Es.create("no-options");const u=Eh.get(o);if(u){if(pa(n,u.options)&&pa(s,u.config))return u;throw Es.create("duplicate-app",{appName:o})}const f=new PA(o);for(const p of Lm.values())f.addComponent(p);const m=new NR(n,s,f);return Eh.set(o,m),m}function PE(r=km){const t=Eh.get(r);if(!t&&r===km&&CE())return VE();if(!t)throw Es.create("no-app",{appName:r});return t}function Ts(r,t,n){let s=RR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Mr.warn(f.join(" "));return}Ao(new ga(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="firebase-heartbeat-database",xR=1,ou="firebase-heartbeat-store";let _m=null;function kE(){return _m||(_m=QA(DR,xR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(r=>{throw Es.create("idb-open",{originalErrorMessage:r.message})})),_m}async function OR(r){try{const n=(await kE()).transaction(ou),s=await n.objectStore(ou).get(LE(r));return await n.done,s}catch(t){if(t instanceof Lr)Mr.warn(t.message);else{const n=Es.create("idb-get",{originalErrorMessage:t?.message});Mr.warn(n.message)}}}async function z_(r,t){try{const s=(await kE()).transaction(ou,"readwrite");await s.objectStore(ou).put(t,LE(r)),await s.done}catch(n){if(n instanceof Lr)Mr.warn(n.message);else{const s=Es.create("idb-set",{originalErrorMessage:n?.message});Mr.warn(s.message)}}}function LE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=1024,VR=30;class PR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=B_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>VR){const o=UR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Mr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=B_(),{heartbeatsToSend:n,unsentEntries:s}=kR(this._heartbeatsCache.heartbeats),o=_h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Mr.warn(t),""}}}function B_(){return new Date().toISOString().substring(0,10)}function kR(r,t=MR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),j_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),j_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class LR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bA()?SA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function j_(r){return _h(JSON.stringify({version:2,heartbeats:r})).length}function UR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r){Ao(new ga("platform-logger",t=>new WA(t),"PRIVATE")),Ao(new ga("heartbeat",t=>new PR(t),"PRIVATE")),Ts(Pm,L_,r),Ts(Pm,L_,"esm2020"),Ts("fire-js","")}zR("");function UE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BR=UE,zE=new vu("auth","Firebase",UE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new gp("@firebase/auth");function jR(r,...t){Th.logLevel<=qt.WARN&&Th.warn(`Auth (${Po}): ${r}`,...t)}function oh(r,...t){Th.logLevel<=qt.ERROR&&Th.error(`Auth (${Po}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(r,...t){throw _p(r,...t)}function Hi(r,...t){return _p(r,...t)}function BE(r,t,n){const s={...BR(),[t]:n};return new vu("auth","Firebase",s).create(t,{appName:r.name})}function Dr(r){return BE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _p(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return zE.create(r,...t)}function Rt(r,t,...n){if(!r)throw _p(t,...n)}function Ir(r){const t="INTERNAL ASSERTION FAILED: "+r;throw oh(t),new Error(t)}function Vr(r,t){r||Ir(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(){return typeof self<"u"&&self.location?.href||""}function HR(){return H_()==="http:"||H_()==="https:"}function H_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HR()||_A()||"connection"in navigator)?navigator.onLine:!0}function FR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Vr(n>t,"Short delay should be less than long delay!"),this.isMobile=gA()||EA()}get(){return qR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(r,t){Vr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KR=new Eu(3e4,6e4);function xs(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Os(r,t,n,s,o={}){return HE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=_u({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:p,...u};return vA()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Vo(r.emulatorConfig.host)&&(g.credentials="include"),jE.fetch()(await qE(r,r.config.apiHost,n,m),g)})}async function HE(r,t,n){r._canInitEmulator=!1;const s={...GR,...t};try{const o=new XR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw BE(r,E,g);Ei(r,E)}}catch(o){if(o instanceof Lr)throw o;Ei(r,"network-request-failed",{message:String(o)})}}async function Tu(r,t,n,s,o={}){const u=await Os(r,t,n,s,o);return"mfaPendingCredential"in u&&Ei(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function qE(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Ep(r.config,o):`${r.config.apiScheme}://${o}`;return YR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function QR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Hi(this.auth,"network-request-failed")),KR.get())})}}function Wc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Hi(r,t,s);return o.customData._tokenResponse=n,o}function q_(r){return r!==void 0&&r.enterprise!==void 0}class $R{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return QR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WR(r,t){return Os(r,"GET","/v2/recaptchaConfig",xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(r,t){return Os(r,"POST","/v1/accounts:delete",t)}async function wh(r,t){return Os(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JR(r,t=!1){const n=dn(r),s=await n.getIdToken(t),o=Tp(s);Rt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:eu(Em(o.auth_time)),issuedAtTime:eu(Em(o.iat)),expirationTime:eu(Em(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Em(r){return Number(r)*1e3}function Tp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=RE(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function F_(r){const t=Tp(r);return Rt(t,"internal-error"),Rt(typeof t.exp<"u","internal-error"),Rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Lr&&tI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function tI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(r){const t=r.auth,n=await r.getIdToken(),s=await lu(r,wh(t,{idToken:n}));Rt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?FE(o.providerUserInfo):[],f=iI(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function nI(r){const t=dn(r);await bh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function iI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function FE(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(r,t){const n=await HE(r,{},async()=>{const s=_u({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await qE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Vo(r.emulatorConfig.host)&&(p.credentials="include"),jE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sI(r,t){return Os(r,"POST","/v2/accounts:revokeToken",xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Rt(t.idToken,"internal-error"),Rt(typeof t.idToken<"u","internal-error"),Rt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):F_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Rt(t.length!==0,"internal-error");const n=F_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await rI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Eo;return s&&(Rt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Rt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Rt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(r,t){Rt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class vi{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new eI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await lu(this,this.stsTokenManager.getToken(this.auth,t));return Rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return JR(this,t)}reload(){return nI(this)}_assign(t){this!==t&&(Rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new vi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(Dr(this.auth));const t=await this.getIdToken();return await lu(this,ZR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:R,isAnonymous:x,providerData:H,stsTokenManager:Z}=n;Rt(T&&Z,t,"internal-error");const k=Eo.fromJSON(this.name,Z);Rt(typeof T=="string",t,"internal-error"),fs(s,t.name),fs(o,t.name),Rt(typeof R=="boolean",t,"internal-error"),Rt(typeof x=="boolean",t,"internal-error"),fs(u,t.name),fs(f,t.name),fs(m,t.name),fs(p,t.name),fs(g,t.name),fs(E,t.name);const U=new vi({uid:T,auth:t,email:o,emailVerified:R,displayName:s,isAnonymous:x,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:k,createdAt:g,lastLoginAt:E});return H&&Array.isArray(H)&&(U.providerData=H.map(X=>({...X}))),p&&(U._redirectEventId=p),U}static async _fromIdTokenResponse(t,n,s=!1){const o=new Eo;o.updateFromServerResponse(n);const u=new vi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await bh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Rt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?FE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Eo;m.updateFromIdToken(s);const p=new vi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;function Cr(r){Vr(r instanceof Function,"Expected a class definition");let t=G_.get(r);return t?(Vr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,G_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}GE.type="NONE";const Y_=GE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(r,t,n){return`firebase:${r}:${t}:${n}`}class To{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await wh(this.auth,{idToken:t}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,t):null}return vi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new To(Cr(Y_),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Cr(Y_);const f=lh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const R=await wh(t,{idToken:E}).catch(()=>{});if(!R)break;T=await vi._fromGetAccountInfoResponse(t,R,E)}else T=vi._fromJSON(t,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new To(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new To(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(XE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(YE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(WE(t))return"Blackberry";if(ZE(t))return"Webos";if(KE(t))return"Safari";if((t.includes("chrome/")||QE(t))&&!t.includes("edge/"))return"Chrome";if($E(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function YE(r=wn()){return/firefox\//i.test(r)}function KE(r=wn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function QE(r=wn()){return/crios\//i.test(r)}function XE(r=wn()){return/iemobile/i.test(r)}function $E(r=wn()){return/android/i.test(r)}function WE(r=wn()){return/blackberry/i.test(r)}function ZE(r=wn()){return/webos/i.test(r)}function wp(r=wn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function aI(r=wn()){return wp(r)&&!!window.navigator?.standalone}function oI(){return TA()&&document.documentMode===10}function JE(r=wn()){return wp(r)||$E(r)||ZE(r)||WE(r)||/windows phone/i.test(r)||XE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r,t=[]){let n;switch(r){case"Browser":n=K_(wn());break;case"Worker":n=`${K_(wn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(r,t={}){return Os(r,"GET","/v2/passwordPolicy",xs(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=6;class hI{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new lI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await To.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await wh(this,{idToken:t}),s=await vi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ai(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await bh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(Dr(this));const n=t?dn(t):null;return n&&Rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await uI(this),n=new hI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new vu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Cr(t)||this._popupRedirectResolver;Rt(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=tT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&jR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function wa(r){return dn(r)}class Q_{constructor(t){this.auth=t,this.observer=null,this.addObserver=NA(n=>this.observer=n)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dI(r){qh=r}function eT(r){return qh.loadJS(r)}function mI(){return qh.recaptchaEnterpriseScript}function pI(){return qh.gapiScript}function gI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class yI{constructor(){this.enterprise=new vI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class vI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const _I="recaptcha-enterprise",nT="NO_RECAPTCHA";class EI{constructor(t){this.type=_I,this.auth=wa(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{WR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new $R(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;q_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(nT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&q_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=mI();p.length!==0&&(p+=m),eT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function X_(r,t,n,s=!1,o=!1){const u=new EI(r);let f;if(o)f=nT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Bm(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await X_(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await X_(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(r,t){const n=vp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(pa(u,t??{}))return o;Ei(o,"already-initialized")}return n.initialize({options:t})}function wI(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Cr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function bI(r,t,n){const s=wa(r);Rt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=iT(t),{host:f,port:m}=SI(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Rt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Rt(pa(g,s.config.emulator)&&pa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Vo(f)?(DE(`${u}//${f}${p}`),xE("Auth",!0)):AI()}function iT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function SI(r){const t=iT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:$_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:$_(f)}}}function $_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function AI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(t){return Ir("not implemented")}_linkToIdToken(t,n){return Ir("not implemented")}_getReauthenticationResolver(t){return Ir("not implemented")}}async function RI(r,t){return Os(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(r,t){return Tu(r,"POST","/v1/accounts:signInWithPassword",xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(r,t){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",xs(r,t))}async function NI(r,t){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends bp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new uu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new uu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(t,n,"signInWithPassword",II);case"emailLink":return CI(t,{email:this._email,oobCode:this._password});default:Ei(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(t,s,"signUpPassword",RI);case"emailLink":return NI(t,{idToken:n,email:this._email,oobCode:this._password});default:Ei(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r,t){return Tu(r,"POST","/v1/accounts:signInWithIdp",xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="http://localhost";class ya extends bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ya(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ya(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return wo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,wo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,wo(t,n)}buildRequest(){const t={requestUri:DI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=_u(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OI(r){const t=Yl(Kl(r)).link,n=t?Yl(Kl(t)).deep_link_id:null,s=Yl(Kl(r)).deep_link_id;return(s?Yl(Kl(s)).link:null)||s||n||t||r}class Sp{constructor(t){const n=Yl(Kl(t)),s=n.apiKey??null,o=n.oobCode??null,u=xI(n.mode??null);Rt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=OI(t);try{return new Sp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(t,n){return uu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Sp.parseLink(n);return Rt(s,"argument-error"),uu._fromEmailAndCode(t,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends rT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends wu{constructor(){super("facebook.com")}static credential(t){return ya._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ds.credential(t.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ya._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ms.credential(n,s)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends wu{constructor(){super("github.com")}static credential(t){return ya._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ps.credentialFromTaggedObject(t)}static credentialFromError(t){return ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ps.credential(t.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends wu{constructor(){super("twitter.com")}static credential(t,n){return ya._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return gs.credentialFromTaggedObject(t)}static credentialFromError(t){return gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return gs.credential(n,s)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(r,t){return Tu(r,"POST","/v1/accounts:signUp",xs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await vi._fromIdTokenResponse(t,s,o),f=W_(s);return new va({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=W_(s);return new va({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function W_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Lr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Sh(t,n,s,o)}}function sT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(r,u,t,s):u})}async function VI(r,t,n=!1){const s=await lu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return va._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(r,t,n=!1){const{auth:s}=r;if(ai(s.app))return Promise.reject(Dr(s));const o="reauthenticate";try{const u=await lu(r,sT(s,o,t,r),n);Rt(u.idToken,s,"internal-error");const f=Tp(u.idToken);Rt(f,s,"internal-error");const{sub:m}=f;return Rt(r.uid===m,s,"user-mismatch"),va._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ei(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aT(r,t,n=!1){if(ai(r.app))return Promise.reject(Dr(r));const s="signIn",o=await sT(r,s,t),u=await va._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function kI(r,t){return aT(wa(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(r){const t=wa(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function LI(r,t,n){if(ai(r.app))return Promise.reject(Dr(r));const s=wa(r),f=await Bm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&oT(r),p}),m=await va._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function UI(r,t,n){return ai(r.app)?Promise.reject(Dr(r)):kI(dn(r),ko.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&oT(r),s})}function zI(r,t,n,s){return dn(r).onIdTokenChanged(t,n,s)}function BI(r,t,n){return dn(r).beforeAuthStateChanged(t,n)}function jI(r,t,n,s){return dn(r).onAuthStateChanged(t,n,s)}function HI(r){return dn(r).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=1e3,FI=10;class uT extends lT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);oI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,FI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},qI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}uT.type="LOCAL";const GI=uT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends lT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}cT.type="SESSION";const hT=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Fh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await YI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ap("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function QI(r){qi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function XI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $I(){return navigator?.serviceWorker?.controller||null}function WI(){return fT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firebaseLocalStorageDb",ZI=1,Rh="firebaseLocalStorage",mT="fbase_key";class bu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(r,t){return r.transaction([Rh],t?"readwrite":"readonly").objectStore(Rh)}function JI(){const r=indexedDB.deleteDatabase(dT);return new bu(r).toPromise()}function jm(){const r=indexedDB.open(dT,ZI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Rh,{keyPath:mT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Rh)?t(s):(s.close(),await JI(),t(await jm()))})})}async function Z_(r,t,n){const s=Gh(r,!0).put({[mT]:t,value:n});return new bu(s).toPromise()}async function tC(r,t){const n=Gh(r,!1).get(t),s=await new bu(n).toPromise();return s===void 0?null:s.value}function J_(r,t){const n=Gh(r,!0).delete(t);return new bu(n).toPromise()}const eC=800,nC=3;class pT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>nC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(WI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XI(),!this.activeServiceWorker)return;this.sender=new KI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$I()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jm();return await Z_(t,Ah,"1"),await J_(t,Ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Z_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>tC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>J_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Gh(o,!1).getAll();return new bu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pT.type="LOCAL";const iC=pT;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(r,t){return t?Cr(t):(Rt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends bp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return wo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return wo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function sC(r){return aT(r.auth,new Rp(r),r.bypassAuthState)}function aC(r){const{auth:t,user:n}=r;return Rt(n,t,"internal-error"),PI(n,new Rp(r),r.bypassAuthState)}async function oC(r){const{auth:t,user:n}=r;return Rt(n,t,"internal-error"),VI(n,new Rp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sC;case"linkViaPopup":case"linkViaRedirect":return oC;case"reauthViaPopup":case"reauthViaRedirect":return aC;default:Ei(this.auth,"internal-error")}}resolve(t){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Eu(2e3,1e4);class vo extends gT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Rt(t,this.auth,"internal-error"),t}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const t=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lC.get())};t()}}vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="pendingRedirect",uh=new Map;class cC extends gT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=uh.get(this.auth._key());if(!t){try{const s=await hC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}uh.set(this.auth._key(),t)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hC(r,t){const n=mC(t),s=dC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function fC(r,t){uh.set(r._key(),t)}function dC(r){return Cr(r._redirectPersistence)}function mC(r){return lh(uC,r.config.apiKey,r.name)}async function pC(r,t,n=!1){if(ai(r.app))return Promise.reject(Dr(r));const s=wa(r),o=rC(s,t),f=await new cC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=600*1e3;class yC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!yT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Hi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gC&&this.cachedEventUids.clear(),this.cachedEventUids.has(t0(t))}saveEventToCache(t){this.cachedEventUids.add(t0(t)),this.lastProcessedEventTime=Date.now()}}function t0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function yT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function vC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(r,t={}){return Os(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TC=/^https?/;async function wC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await _C(r);for(const n of t)try{if(bC(n))return}catch{}Ei(r,"unauthorized-domain")}function bC(r){const t=Um(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!TC.test(n))return!1;if(EC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Eu(3e4,6e4);function e0(){const r=qi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function AC(r){return new Promise((t,n)=>{function s(){e0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{e0(),n(Hi(r,"network-request-failed"))},timeout:SC.get()})}if(qi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(qi().gapi?.load)s();else{const o=gI("iframefcb");return qi()[o]=()=>{gapi.load?s():n(Hi(r,"network-request-failed"))},eT(`${pI()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw ch=null,t})}let ch=null;function RC(r){return ch=ch||AC(r),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new Eu(5e3,15e3),CC="__/auth/iframe",NC="emulator/auth/iframe",DC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OC(r){const t=r.config;Rt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Ep(t,NC):`https://${r.config.authDomain}/${CC}`,s={apiKey:t.apiKey,appName:r.name,v:Po},o=xC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${_u(s).slice(1)}`}async function MC(r){const t=await RC(r),n=qi().gapi;return Rt(n,r,"internal-error"),t.open({where:document.body,url:OC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Hi(r,"network-request-failed"),m=qi().setTimeout(()=>{u(f)},IC.get());function p(){qi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PC=500,kC=600,LC="_blank",UC="http://localhost";class n0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zC(r,t,n,s=PC,o=kC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...VC,width:s.toString(),height:o.toString(),top:u,left:f},g=wn().toLowerCase();n&&(m=QE(g)?LC:n),YE(g)&&(t=t||UC,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[x,H])=>`${R}${x}=${H},`,"");if(aI(g)&&m!=="_self")return BC(t||"",m),new n0(null);const T=window.open(t||"",m,E);Rt(T,r,"popup-blocked");try{T.focus()}catch{}return new n0(T)}function BC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="__/auth/handler",HC="emulator/auth/handler",qC=encodeURIComponent("fac");async function i0(r,t,n,s,o,u){Rt(r.config.authDomain,r,"auth-domain-config-required"),Rt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Po,eventId:o};if(t instanceof rT){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",CA(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof wu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${qC}=${encodeURIComponent(p)}`:"";return`${FC(r)}?${_u(m).slice(1)}${g}`}function FC({config:r}){return r.emulator?Ep(r,HC):`https://${r.authDomain}/${jC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class GC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hT,this._completeRedirectFn=pC,this._overrideRedirectResult=fC}async _openPopup(t,n,s,o){Vr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await i0(t,n,s,Um(),o);return zC(t,u,Ap())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await i0(t,n,s,Um(),o);return QI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Vr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await MC(t),s=new yC(t);return n.register("authEvent",o=>(Rt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Tm,{type:Tm},o=>{const u=o?.[0]?.[Tm];u!==void 0&&n(!!u),Ei(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return JE()||KE()||wp()}}const YC=GC;var r0="@firebase/auth",s0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XC(r){Ao(new ga("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Rt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tT(r)},g=new fI(s,o,u,p);return wI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ao(new ga("auth-internal",t=>{const n=wa(t.getProvider("auth").getImmediate());return(s=>new KC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(r0,s0,QC(r)),Ts(r0,s0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=300,WC=NE("authIdTokenMaxAge")||$C;let a0=null;const ZC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>WC)return;const o=n?.token;a0!==o&&(a0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JC(r=PE()){const t=vp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=TI(r,{popupRedirectResolver:YC,persistence:[iC,GI,hT]}),s=NE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ZC(u.toString());BI(n,f,()=>f(n.currentUser)),zI(n,m=>f(m))}}const o=IE("auth");return o&&bI(n,`http://${o}`),n}function t2(){return document.getElementsByTagName("head")?.[0]??document}dI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Hi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",t2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XC("Browser");var e2="firebase",n2="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(e2,n2,"app");var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,vT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,I){function C(){}C.prototype=I.prototype,V.D=I.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(O,P,L){for(var N=Array(arguments.length-2),me=2;me<arguments.length;me++)N[me-2]=arguments[me];return I.prototype[P].apply(O,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,I,C){C||(C=0);var O=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)O[P]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(P=0;16>P;++P)O[P]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=V.g[0],C=V.g[1],P=V.g[2];var L=V.g[3],N=I+(L^C&(P^L))+O[0]+3614090360&4294967295;I=C+(N<<7&4294967295|N>>>25),N=L+(P^I&(C^P))+O[1]+3905402710&4294967295,L=I+(N<<12&4294967295|N>>>20),N=P+(C^L&(I^C))+O[2]+606105819&4294967295,P=L+(N<<17&4294967295|N>>>15),N=C+(I^P&(L^I))+O[3]+3250441966&4294967295,C=P+(N<<22&4294967295|N>>>10),N=I+(L^C&(P^L))+O[4]+4118548399&4294967295,I=C+(N<<7&4294967295|N>>>25),N=L+(P^I&(C^P))+O[5]+1200080426&4294967295,L=I+(N<<12&4294967295|N>>>20),N=P+(C^L&(I^C))+O[6]+2821735955&4294967295,P=L+(N<<17&4294967295|N>>>15),N=C+(I^P&(L^I))+O[7]+4249261313&4294967295,C=P+(N<<22&4294967295|N>>>10),N=I+(L^C&(P^L))+O[8]+1770035416&4294967295,I=C+(N<<7&4294967295|N>>>25),N=L+(P^I&(C^P))+O[9]+2336552879&4294967295,L=I+(N<<12&4294967295|N>>>20),N=P+(C^L&(I^C))+O[10]+4294925233&4294967295,P=L+(N<<17&4294967295|N>>>15),N=C+(I^P&(L^I))+O[11]+2304563134&4294967295,C=P+(N<<22&4294967295|N>>>10),N=I+(L^C&(P^L))+O[12]+1804603682&4294967295,I=C+(N<<7&4294967295|N>>>25),N=L+(P^I&(C^P))+O[13]+4254626195&4294967295,L=I+(N<<12&4294967295|N>>>20),N=P+(C^L&(I^C))+O[14]+2792965006&4294967295,P=L+(N<<17&4294967295|N>>>15),N=C+(I^P&(L^I))+O[15]+1236535329&4294967295,C=P+(N<<22&4294967295|N>>>10),N=I+(P^L&(C^P))+O[1]+4129170786&4294967295,I=C+(N<<5&4294967295|N>>>27),N=L+(C^P&(I^C))+O[6]+3225465664&4294967295,L=I+(N<<9&4294967295|N>>>23),N=P+(I^C&(L^I))+O[11]+643717713&4294967295,P=L+(N<<14&4294967295|N>>>18),N=C+(L^I&(P^L))+O[0]+3921069994&4294967295,C=P+(N<<20&4294967295|N>>>12),N=I+(P^L&(C^P))+O[5]+3593408605&4294967295,I=C+(N<<5&4294967295|N>>>27),N=L+(C^P&(I^C))+O[10]+38016083&4294967295,L=I+(N<<9&4294967295|N>>>23),N=P+(I^C&(L^I))+O[15]+3634488961&4294967295,P=L+(N<<14&4294967295|N>>>18),N=C+(L^I&(P^L))+O[4]+3889429448&4294967295,C=P+(N<<20&4294967295|N>>>12),N=I+(P^L&(C^P))+O[9]+568446438&4294967295,I=C+(N<<5&4294967295|N>>>27),N=L+(C^P&(I^C))+O[14]+3275163606&4294967295,L=I+(N<<9&4294967295|N>>>23),N=P+(I^C&(L^I))+O[3]+4107603335&4294967295,P=L+(N<<14&4294967295|N>>>18),N=C+(L^I&(P^L))+O[8]+1163531501&4294967295,C=P+(N<<20&4294967295|N>>>12),N=I+(P^L&(C^P))+O[13]+2850285829&4294967295,I=C+(N<<5&4294967295|N>>>27),N=L+(C^P&(I^C))+O[2]+4243563512&4294967295,L=I+(N<<9&4294967295|N>>>23),N=P+(I^C&(L^I))+O[7]+1735328473&4294967295,P=L+(N<<14&4294967295|N>>>18),N=C+(L^I&(P^L))+O[12]+2368359562&4294967295,C=P+(N<<20&4294967295|N>>>12),N=I+(C^P^L)+O[5]+4294588738&4294967295,I=C+(N<<4&4294967295|N>>>28),N=L+(I^C^P)+O[8]+2272392833&4294967295,L=I+(N<<11&4294967295|N>>>21),N=P+(L^I^C)+O[11]+1839030562&4294967295,P=L+(N<<16&4294967295|N>>>16),N=C+(P^L^I)+O[14]+4259657740&4294967295,C=P+(N<<23&4294967295|N>>>9),N=I+(C^P^L)+O[1]+2763975236&4294967295,I=C+(N<<4&4294967295|N>>>28),N=L+(I^C^P)+O[4]+1272893353&4294967295,L=I+(N<<11&4294967295|N>>>21),N=P+(L^I^C)+O[7]+4139469664&4294967295,P=L+(N<<16&4294967295|N>>>16),N=C+(P^L^I)+O[10]+3200236656&4294967295,C=P+(N<<23&4294967295|N>>>9),N=I+(C^P^L)+O[13]+681279174&4294967295,I=C+(N<<4&4294967295|N>>>28),N=L+(I^C^P)+O[0]+3936430074&4294967295,L=I+(N<<11&4294967295|N>>>21),N=P+(L^I^C)+O[3]+3572445317&4294967295,P=L+(N<<16&4294967295|N>>>16),N=C+(P^L^I)+O[6]+76029189&4294967295,C=P+(N<<23&4294967295|N>>>9),N=I+(C^P^L)+O[9]+3654602809&4294967295,I=C+(N<<4&4294967295|N>>>28),N=L+(I^C^P)+O[12]+3873151461&4294967295,L=I+(N<<11&4294967295|N>>>21),N=P+(L^I^C)+O[15]+530742520&4294967295,P=L+(N<<16&4294967295|N>>>16),N=C+(P^L^I)+O[2]+3299628645&4294967295,C=P+(N<<23&4294967295|N>>>9),N=I+(P^(C|~L))+O[0]+4096336452&4294967295,I=C+(N<<6&4294967295|N>>>26),N=L+(C^(I|~P))+O[7]+1126891415&4294967295,L=I+(N<<10&4294967295|N>>>22),N=P+(I^(L|~C))+O[14]+2878612391&4294967295,P=L+(N<<15&4294967295|N>>>17),N=C+(L^(P|~I))+O[5]+4237533241&4294967295,C=P+(N<<21&4294967295|N>>>11),N=I+(P^(C|~L))+O[12]+1700485571&4294967295,I=C+(N<<6&4294967295|N>>>26),N=L+(C^(I|~P))+O[3]+2399980690&4294967295,L=I+(N<<10&4294967295|N>>>22),N=P+(I^(L|~C))+O[10]+4293915773&4294967295,P=L+(N<<15&4294967295|N>>>17),N=C+(L^(P|~I))+O[1]+2240044497&4294967295,C=P+(N<<21&4294967295|N>>>11),N=I+(P^(C|~L))+O[8]+1873313359&4294967295,I=C+(N<<6&4294967295|N>>>26),N=L+(C^(I|~P))+O[15]+4264355552&4294967295,L=I+(N<<10&4294967295|N>>>22),N=P+(I^(L|~C))+O[6]+2734768916&4294967295,P=L+(N<<15&4294967295|N>>>17),N=C+(L^(P|~I))+O[13]+1309151649&4294967295,C=P+(N<<21&4294967295|N>>>11),N=I+(P^(C|~L))+O[4]+4149444226&4294967295,I=C+(N<<6&4294967295|N>>>26),N=L+(C^(I|~P))+O[11]+3174756917&4294967295,L=I+(N<<10&4294967295|N>>>22),N=P+(I^(L|~C))+O[2]+718787259&4294967295,P=L+(N<<15&4294967295|N>>>17),N=C+(L^(P|~I))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+L&4294967295}s.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var C=I-this.blockSize,O=this.B,P=this.h,L=0;L<I;){if(P==0)for(;L<=C;)o(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<I;)if(O[P++]=V.charCodeAt(L++),P==this.blockSize){o(this,O),P=0;break}}else for(;L<I;)if(O[P++]=V[L++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=I},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var C=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=C&255,C/=256;for(this.u(V),V=Array(16),I=C=0;4>I;++I)for(var O=0;32>O;O+=8)V[C++]=this.g[I]>>>O&255;return V};function u(V,I){var C=m;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=I(V)}function f(V,I){this.h=I;for(var C=[],O=!0,P=V.length-1;0<=P;P--){var L=V[P]|0;O&&L==I||(C[P]=L,O=!1)}this.g=C}var m={};function p(V){return-128<=V&&128>V?u(V,function(I){return new f([I|0],0>I?-1:0)}):new f([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return k(g(-V));for(var I=[],C=1,O=0;V>=C;O++)I[O]=V/C|0,C*=4294967296;return new f(I,0)}function E(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return k(E(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(I,8)),O=T,P=0;P<V.length;P+=8){var L=Math.min(8,V.length-P),N=parseInt(V.substring(P,P+L),I);8>L?(L=g(Math.pow(I,L)),O=O.j(L).add(g(N))):(O=O.j(C),O=O.add(g(N)))}return O}var T=p(0),R=p(1),x=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-k(this).m();for(var V=0,I=1,C=0;C<this.g.length;C++){var O=this.i(C);V+=(0<=O?O:4294967296+O)*I,I*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(H(this))return"0";if(Z(this))return"-"+k(this).toString(V);for(var I=g(Math.pow(V,6)),C=this,O="";;){var P=dt(C,I).g;C=U(C,P.j(I));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=P,H(C))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function H(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function Z(V){return V.h==-1}r.l=function(V){return V=U(this,V),Z(V)?-1:H(V)?0:1};function k(V){for(var I=V.g.length,C=[],O=0;O<I;O++)C[O]=~V.g[O];return new f(C,~V.h).add(R)}r.abs=function(){return Z(this)?k(this):this},r.add=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],O=0,P=0;P<=I;P++){var L=O+(this.i(P)&65535)+(V.i(P)&65535),N=(L>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);O=N>>>16,L&=65535,N&=65535,C[P]=N<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function U(V,I){return V.add(k(I))}r.j=function(V){if(H(this)||H(V))return T;if(Z(this))return Z(V)?k(this).j(k(V)):k(k(this).j(V));if(Z(V))return k(this.j(k(V)));if(0>this.l(x)&&0>V.l(x))return g(this.m()*V.m());for(var I=this.g.length+V.g.length,C=[],O=0;O<2*I;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<V.g.length;P++){var L=this.i(O)>>>16,N=this.i(O)&65535,me=V.i(P)>>>16,Wt=V.i(P)&65535;C[2*O+2*P]+=N*Wt,X(C,2*O+2*P),C[2*O+2*P+1]+=L*Wt,X(C,2*O+2*P+1),C[2*O+2*P+1]+=N*me,X(C,2*O+2*P+1),C[2*O+2*P+2]+=L*me,X(C,2*O+2*P+2)}for(O=0;O<I;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=I;O<2*I;O++)C[O]=0;return new f(C,0)};function X(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function nt(V,I){this.g=V,this.h=I}function dt(V,I){if(H(I))throw Error("division by zero");if(H(V))return new nt(T,T);if(Z(V))return I=dt(k(V),I),new nt(k(I.g),k(I.h));if(Z(I))return I=dt(V,k(I)),new nt(k(I.g),I.h);if(30<V.g.length){if(Z(V)||Z(I))throw Error("slowDivide_ only works with positive integers.");for(var C=R,O=I;0>=O.l(V);)C=gt(C),O=gt(O);var P=bt(C,1),L=bt(O,1);for(O=bt(O,2),C=bt(C,2);!H(O);){var N=L.add(O);0>=N.l(V)&&(P=P.add(C),L=N),O=bt(O,1),C=bt(C,1)}return I=U(V,P.j(I)),new nt(P,I)}for(P=T;0<=V.l(I);){for(C=Math.max(1,Math.floor(V.m()/I.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=g(C),N=L.j(I);Z(N)||0<N.l(V);)C-=O,L=g(C),N=L.j(I);H(L)&&(L=R),P=P.add(L),V=U(V,N)}return new nt(P,V)}r.A=function(V){return dt(this,V).h},r.and=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)&V.i(O);return new f(C,this.h&V.h)},r.or=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)|V.i(O);return new f(C,this.h|V.h)},r.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)^V.i(O);return new f(C,this.h^V.h)};function gt(V){for(var I=V.g.length+1,C=[],O=0;O<I;O++)C[O]=V.i(O)<<1|V.i(O-1)>>>31;return new f(C,V.h)}function bt(V,I){var C=I>>5;I%=32;for(var O=V.g.length-C,P=[],L=0;L<O;L++)P[L]=0<I?V.i(L+C)>>>I|V.i(L+C+1)<<32-I:V.i(L+C);return new f(P,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,vT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ws=f}).apply(typeof o0<"u"?o0:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _T,Ql,ET,hh,Hm,TT,wT,bT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break t;v=v[j]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,j={next:function(){if(!S&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function R(c,y,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,R.apply(null,arguments)}function x(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function H(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,j,$){for(var ht=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)ht[Yt-2]=arguments[Yt];return y.prototype[j].apply(S,ht)}}function Z(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function k(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const j=c.length||0,$=S.length||0;c.length=j+$;for(let ht=0;ht<$;ht++)c[j+ht]=S[ht]}else c.push(S)}}class U{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function nt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function dt(c){return dt[" "](c),c}dt[" "]=function(){};var gt=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function bt(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function V(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function I(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let $=0;$<C.length;$++)v=C[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Mt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class me{constructor(){this.h=this.g=null}add(y,v){const S=Wt.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Wt=new U(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,yt=!1,Mt=new me,w=()=>{const c=m.Promise.resolve(void 0);lt=()=>{c.then(A)}};var A=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){L(v)}var y=Wt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}yt=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var et=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c})();function ot(c,y){if(B.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(gt){t:{try{dt(y.nodeName);var j=!0;break t}catch{}j=!1}j||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ut[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ot.aa.h.call(this)}}H(ot,B);var ut={2:"touch",3:"pen",4:"mouse"};ot.prototype.h=function(){ot.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),ct=0;function xt(c,y,v,S,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=j,this.key=++ct,this.da=this.fa=!1}function Ht(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pt(c){this.src=c,this.g={},this.h=0}Pt.prototype.add=function(c,y,v,S,j){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ht=he(c,y,S,j);return-1<ht?(y=c[ht],v||(y.fa=!1)):(y=new xt(y,this.src,$,!!S,j),y.fa=v,c.push(y)),y};function Ut(c,y){var v=y.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,y,void 0),$;($=0<=j)&&Array.prototype.splice.call(S,j,1),$&&(Ht(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function he(c,y,v,S){for(var j=0;j<c.length;++j){var $=c[j];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==S)return j}return-1}var Nt="closure_lm_"+(1e6*Math.random()|0),Ie={};function He(c,y,v,S,j){if(Array.isArray(y)){for(var $=0;$<y.length;$++)He(c,y[$],v,S,j);return null}return v=Ur(v),c&&c[mt]?c.K(y,v,g(S)?!!S.capture:!1,j):ee(c,y,v,!1,S,j)}function ee(c,y,v,S,j,$){if(!y)throw Error("Invalid event type");var ht=g(j)?!!j.capture:!!j,Yt=bn(c);if(Yt||(c[Nt]=Yt=new Pt(c)),v=Yt.add(y,v,S,ht,$),v.proxy)return v;if(S=pn(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)et||(j=ht),j===void 0&&(j=!1),c.addEventListener(y.toString(),S,j);else if(c.attachEvent)c.attachEvent(ui(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pn(){function c(v){return y.call(c.src,c.listener,v)}const y=Fe;return c}function be(c,y,v,S,j){if(Array.isArray(y))for(var $=0;$<y.length;$++)be(c,y[$],v,S,j);else S=g(S)?!!S.capture:!!S,v=Ur(v),c&&c[mt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=he($,v,S,j),-1<v&&(Ht($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=bn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=he(y,v,S,j)),(v=-1<c?y[c]:null)&&qe(v))}function qe(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[mt])Ut(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ui(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=bn(y))?(Ut(v,c),v.h==0&&(v.src=null,y[Nt]=null)):Ht(c)}}}function ui(c){return c in Ie?Ie[c]:Ie[c]="on"+c}function Fe(c,y){if(c.da)c=!0;else{y=new ot(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&qe(c),c=v.call(S,y)}return c}function bn(c){return c=c[Nt],c instanceof Pt?c:null}var wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ur(c){return typeof c=="function"?c:(c[wi]||(c[wi]=function(y){return c.handleEvent(y)}),c[wi])}function ne(){W.call(this),this.i=new Pt(this),this.M=this,this.F=null}H(ne,W),ne.prototype[mt]=!0,ne.prototype.removeEventListener=function(c,y,v,S){be(this,c,y,v,S)};function $t(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new B(y,c);else if(y instanceof B)y.target=y.target||c;else{var j=y;y=new B(S,c),O(y,j)}if(j=!0,v)for(var $=v.length-1;0<=$;$--){var ht=y.g=v[$];j=We(ht,S,!0,y)&&j}if(ht=y.g=c,j=We(ht,S,!0,y)&&j,j=We(ht,S,!1,y)&&j,v)for($=0;$<v.length;$++)ht=y.g=v[$],j=We(ht,S,!1,y)&&j}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)Ht(v[S]);delete c.g[y],c.h--}}this.F=null},ne.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},ne.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function We(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,$=0;$<y.length;++$){var ht=y[$];if(ht&&!ht.da&&ht.capture==v){var Yt=ht.listener,Ge=ht.ha||ht.src;ht.fa&&Ut(c.i,ht),j=Yt.call(Ge,S)!==!1&&j}}return j&&!S.defaultPrevented}function Se(c,y,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Cn(c){c.g=Se(()=>{c.g=null,c.i&&(c.i=!1,Cn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class bi extends W{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gn(c){W.call(this),this.h=c,this.g={}}H(gn,W);var ci=[];function Zi(c){bt(c.g,function(y,v){this.g.hasOwnProperty(v)&&qe(y)},c),c.g={}}gn.prototype.N=function(){gn.aa.N.call(this),Zi(this)},gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=m.JSON.stringify,Ji=m.JSON.parse,tr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function er(){}er.prototype.h=null;function Dn(c){return c.h||(c.h=c.i())}function Ps(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){B.call(this,"d")}H(Qn,B);function zr(){B.call(this,"c")}H(zr,B);var wt={},ve=null;function pe(){return ve=ve||new ne}wt.La="serverreachability";function Pe(c){B.call(this,wt.La,c)}H(Pe,B);function Ln(c){const y=pe();$t(y,new Pe(y))}wt.STAT_EVENT="statevent";function Ce(c,y){B.call(this,wt.STAT_EVENT,c),this.stat=y}H(Ce,B);function zt(c){const y=pe();$t(y,new Ce(y,c))}wt.Ma="timingevent";function _e(c,y){B.call(this,wt.Ma,c),this.size=y}H(_e,B);function Zt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Br(c,y,v,S,j,$){c.info(function(){if(c.g)if($)for(var ht="",Yt=$.split("&"),Ge=0;Ge<Yt.length;Ge++){var Kt=Yt[Ge].split("=");if(1<Kt.length){var Je=Kt[0];Kt=Kt[1];var Ye=Je.split("_");ht=2<=Ye.length&&Ye[1]=="type"?ht+(Je+"="+Kt+"&"):ht+(Je+"=redacted&")}}else ht=null;else ht=$;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+v+`
`+ht})}function fi(c,y,v,S,j,$,ht){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+v+`
`+$+" "+ht})}function nr(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ks(c,v)+(S?" "+S:"")})}function Du(c,y){c.info(function(){return"TIMEOUT: "+y})}Ee.prototype.info=function(){};function ks(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(var ht=1;ht<j.length;ht++)j[ht]=""}}}}return Nn(v)}catch{return y}}var jr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Si;function Ai(){}H(Ai,er),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},Si=new Ai;function Sn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new gn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xe}function xe(){this.i=null,this.g="",this.h=!1}var qo={},Aa={};function di(c,y,v){c.L=1,c.v=js(Un(y)),c.m=v,c.P=!0,rr(c,null)}function rr(c,y){c.F=Date.now(),Ls(c),c.A=Un(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Xo(v.i,"t",S),c.C=0,v=c.j.J,c.h=new xe,c.g=Yu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new bi(R(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(ci[0]=j.toString()),j=ci);for(var $=0;$<j.length;$++){var ht=He(v,j[$],S||y.handleEvent,!1,y.h||y);if(!ht)break;y.g[ht.key]=ht}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ln(),Br(c.i,c.u,c.A,c.l,c.R,c.m)}Sn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Zn(c)==3?y.j():this.Y(c)},Sn.prototype.Y=function(c){try{if(c==this.g)t:{const Ye=Zn(this.g);var y=this.g.Ba();const fr=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||Ye!=4||y==7||(y==8||0>=fr?Ln(3):Ln(2)),Hr(this);var v=this.g.Z();this.X=v;e:if(xu(this)){var S=Uu(this.g);c="";var j=S.length,$=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Ri(this);var ht="";break e}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!($&&y==j-1)});S.length=0,this.h.g+=c,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=v==200,fi(this.i,this.u,this.A,this.l,this.R,Ye,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Yt,Ge=this.g;if((Yt=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Yt)){var Kt=Yt;break e}}Kt=null}if(v=Kt)nr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Us(this,v);else{this.o=!1,this.s=3,zt(12),sn(this),Ri(this);break t}}if(this.P){v=!0;let an;for(;!this.J&&this.C<ht.length;)if(an=Ou(this,ht),an==Aa){Ye==4&&(this.s=4,zt(14),v=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(an==qo){this.s=4,zt(15),nr(this.i,this.l,ht,"[Invalid Chunk]"),v=!1;break}else nr(this.i,this.l,an,null),Us(this,an);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||ht.length!=0||this.h.h||(this.s=1,zt(16),v=!1),this.o=this.o&&v,!v)nr(this.i,this.l,ht,"[Invalid Chunked Response]"),sn(this),Ri(this);else if(0<ht.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),Xs(Je),Je.M=!0,zt(11))}}else nr(this.i,this.l,ht,null),Us(this,ht);Ye==4&&sn(this),this.o&&!this.J&&(Ye==4?qu(this.j,this):(this.o=!1,Ls(this)))}else pf(this.g),v==400&&0<ht.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),sn(this),Ri(this)}}}catch{}finally{}};function xu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ou(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Aa:(v=Number(y.substring(v,S)),isNaN(v)?qo:(S+=1,S+v>y.length?Aa:(y=y.slice(S,S+v),c.C=S+v,y)))}Sn.prototype.cancel=function(){this.J=!0,sn(this)};function Ls(c){c.S=Date.now()+c.I,Mu(c,c.I)}function Mu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Zt(R(c.ba,c),y)}function Hr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Du(this.i,this.A),this.L!=2&&(Ln(),zt(17)),sn(this),this.s=2,Ri(this)):Mu(this,this.S-c)};function Ri(c){c.j.G==0||c.J||qu(c.j,c)}function sn(c){Hr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Zi(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Us(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Fo(v.h,c))){if(!c.K&&Fo(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)La(v),Pa(v);else break t;tl(v),zt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Zt(R(v.Za,v),6e3));if(1>=Ia(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else hr(v,11)}else if((c.K||v.g==c)&&La(v),!X(y))for(j=v.Da.g.parse(y),y=0;y<j.length;y++){let Kt=j[y];if(v.T=Kt[0],Kt=Kt[1],v.G==2)if(Kt[0]=="c"){v.K=Kt[1],v.ia=Kt[2];const Je=Kt[3];Je!=null&&(v.la=Je,v.j.info("VER="+v.la));const Ye=Kt[4];Ye!=null&&(v.Aa=Ye,v.j.info("SVER="+v.Aa));const fr=Kt[5];fr!=null&&typeof fr=="number"&&0<fr&&(S=1.5*fr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const an=c.g;if(an){const Mi=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mi){var $=S.h;$.g||Mi.indexOf("spdy")==-1&&Mi.indexOf("quic")==-1&&Mi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ca($,$.h),$.h=null))}if(S.D){const nl=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(S.ya=nl,oe(S.I,S.D,nl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ht=c;if(S.qa=Gu(S,S.J?S.ia:null,S.W),ht.K){An(S.h,ht);var Yt=ht,Ge=S.L;Ge&&(Yt.I=Ge),Yt.B&&(Hr(Yt),Ls(Yt)),S.g=ht}else ju(S);0<v.i.length&&ka(v)}else Kt[0]!="stop"&&Kt[0]!="close"||hr(v,7);else v.G==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?hr(v,7):Zo(v):Kt[0]!="noop"&&v.l&&v.l.ta(Kt),v.v=0)}}Ln(4)}catch{}}var Vu=class{constructor(c,y){this.g=c,this.map=y}};function sr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ra(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ia(c){return c.h?1:c.g?c.g.size:0}function Fo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ca(c,y){c.g?c.g.add(y):c.h=y}function An(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}sr.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Go(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return Z(c.i)}function hf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function Na(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Yo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Na(c),S=hf(c),j=S.length,$=0;$<j;$++)y.call(void 0,S[$],v&&v[$],c)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ff(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),j=null;if(0<=S){var $=c[v].substring(0,S);j=c[v].substring(S+1)}else $=c[v];y($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ke(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ke){this.h=c.h,Bs(this,c.j),this.o=c.o,this.g=c.g,qr(this,c.s),this.l=c.l;var y=c.i,v=new or;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ar(this,v),this.m=c.m}else c&&(y=String(c).match(zs))?(this.h=!1,Bs(this,y[1]||"",!0),this.o=Xn(y[2]||""),this.g=Xn(y[3]||"",!0),qr(this,y[4]),this.l=Xn(y[5]||"",!0),ar(this,y[6]||"",!0),this.m=Xn(y[7]||"")):(this.h=!1,this.i=new or(null,this.h))}ke.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Hs(y,Ko,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Hs(y,Ko,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Hs(v,v.charAt(0)=="/"?df:Qo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Hs(v,Da)),c.join("")};function Un(c){return new ke(c)}function Bs(c,y,v){c.j=v?Xn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function qr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ar(c,y,v){y instanceof or?(c.i=y,ku(c.i,c.h)):(v||(y=Hs(y,mf)),c.i=new or(y,c.h))}function oe(c,y,v){c.i.set(y,v)}function js(c){return oe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Xn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Hs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Pu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,Qo=/[#\?:]/g,df=/[#\?]/g,mf=/[#\?@]/g,Da=/#/g;function or(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function $n(c){c.g||(c.g=new Map,c.h=0,c.i&&ff(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=or.prototype,r.add=function(c,y){$n(this),this.i=null,c=Ii(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function lr(c,y){$n(c),y=Ii(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ur(c,y){return $n(c),y=Ii(c,y),c.g.has(y)}r.forEach=function(c,y){$n(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(y,j,S,this)},this)},this)},r.na=function(){$n(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const j=c[S];for(let $=0;$<j.length;$++)v.push(y[S])}return v},r.V=function(c){$n(this);let y=[];if(typeof c=="string")ur(this,c)&&(y=y.concat(this.g.get(Ii(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return $n(this),this.i=null,c=Ii(this,c),ur(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Xo(c,y,v){lr(c,y),0<v.length&&(c.i=null,c.g.set(Ii(c,y),Z(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const $=encodeURIComponent(String(S)),ht=this.V(S);for(S=0;S<ht.length;S++){var j=$;ht[S]!==""&&(j+="="+encodeURIComponent(String(ht[S]))),c.push(j)}}return this.i=c.join("&")};function Ii(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ku(c,y){y&&!c.j&&($n(c),c.i=null,c.g.forEach(function(v,S){var j=S.toLowerCase();S!=j&&(lr(this,S),Xo(this,j,v))},c)),c.j=y}function qs(c,y){const v=new Ee;if(m.Image){const S=new Image;S.onload=x(Wn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=x(Wn,v,"TestLoadImage: error",!1,y,S),S.onabort=x(Wn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=x(Wn,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function mi(c,y){const v=new Ee,S=new AbortController,j=setTimeout(()=>{S.abort(),Wn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(j),$.ok?Wn(v,"TestPingServer: ok",!0,y):Wn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Wn(v,"TestPingServer: error",!1,y)})}function Wn(c,y,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function Fs(){this.g=new tr}function Ci(c,y,v){const S=v||"";try{Yo(c,function(j,$){let ht=j;g(j)&&(ht=Nn(j)),y.push(S+$+"="+encodeURIComponent(ht))})}catch(j){throw y.push(S+"type="+encodeURIComponent("_badmap")),j}}function Fr(c){this.l=c.Ub||null,this.j=c.eb||!1}H(Fr,er),Fr.prototype.g=function(){return new cr(this.l,this.j)},Fr.prototype.i=(function(c){return function(){return c}})({});function cr(c,y){ne.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(cr,ne),r=cr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Di(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$o(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function $o(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ni(this):Di(this),this.readyState==3&&$o(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Ni(this))},r.Qa=function(c){this.g&&(this.response=c,Ni(this))},r.ga=function(){this.g&&Ni(this)};function Ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Di(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Di(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wo(c){let y="";return bt(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ze(c,y,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Wo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):oe(c,y,v))}function ie(c){ne.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(ie,ne);var xa=/^https?$/i,Gs=["POST","PUT"];r=ie.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Si.g(),this.v=this.o?Dn(this.o):Dn(Si),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Lu(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Gs,y,void 0))||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ht]of v)this.g.setRequestHeader($,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Lu(this,$)}};function Lu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Oa(c),xi(c)}function Oa(c){c.A||(c.A=!0,$t(c,"complete"),$t(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$t(this,"complete"),$t(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),ie.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},r.bb=function(){Ma(this)};function Ma(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Zn(c)!=4||c.Z()!=2)){if(c.u&&Zn(c)==4)Se(c.Ea,0,c);else if($t(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const ht=c.Z();t:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var S;if(S=ht===0){var j=String(c.D).match(zs)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!xa.test(j?j.toLowerCase():"")}v=S}if(v)$t(c,"complete"),$t(c,"success");else{c.m=6;try{var $=2<Zn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Oa(c)}}finally{xi(c)}}}}function xi(c,y){if(c.g){Ys(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||$t(c,"ready");try{v.onreadystatechange=S}catch{}}}function Ys(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ji(y)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pf(c){const y={};c=(c.g&&2<=Zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(X(c[S]))continue;var v=P(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[j]||[];y[j]=$,$.push(v)}V(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ks(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Va(c){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ks("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ks("baseRetryDelayMs",5e3,c),this.cb=Ks("retryDelaySeedMs",1e4,c),this.Wa=Ks("forwardChannelMaxRetries",2,c),this.wa=Ks("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new sr(c&&c.concurrentRequestLimit),this.Da=new Fs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Va.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,S){zt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Gu(this,null,this.W),ka(this)};function Zo(c){if(zu(c),c.G==3){var y=c.U++,v=Un(c.I);if(oe(v,"SID",c.K),oe(v,"RID",y),oe(v,"TYPE","terminate"),Qs(c,v),y=new Sn(c,c.j,y),y.L=2,y.v=js(Un(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Yu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ls(y)}Fu(c)}function Pa(c){c.g&&(Xs(c),c.g.cancel(),c.g=null)}function zu(c){Pa(c),c.u&&(m.clearTimeout(c.u),c.u=null),La(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ka(c){if(!Ra(c.h)&&!c.s){c.s=!0;var y=c.Ga;lt||w(),yt||(lt(),yt=!0),Mt.add(y,c),c.B=0}}function gf(c,y){return Ia(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Zt(R(c.Ga,c,y),el(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Sn(this,this.j,c);let $=this.o;if(this.S&&($?($=I($),O($,this.S)):$=this.S),this.m!==null||this.O||(j.H=$,$=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=Bu(this,j,y),v=Un(this.I),oe(v,"RID",c),oe(v,"CVER",22),this.D&&oe(v,"X-HTTP-Session-Id",this.D),Qs(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(Wo($)))+"&"+y:this.m&&Ze(v,this.m,$)),Ca(this.h,j),this.Ua&&oe(v,"TYPE","init"),this.P?(oe(v,"$req",y),oe(v,"SID","null"),j.T=!0,di(j,v,null)):di(j,v,y),this.G=2}}else this.G==3&&(c?Jo(this,c):this.i.length==0||Ra(this.h)||Jo(this))};function Jo(c,y){var v;y?v=y.l:v=c.U++;const S=Un(c.I);oe(S,"SID",c.K),oe(S,"RID",v),oe(S,"AID",c.T),Qs(c,S),c.m&&c.o&&Ze(S,c.m,c.o),v=new Sn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Bu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ca(c.h,v),di(v,S,y)}function Qs(c,y){c.H&&bt(c.H,function(v,S){oe(y,S,v)}),c.l&&Yo({},function(v,S){oe(y,S,v)})}function Bu(c,y,v){v=Math.min(c.i.length,v);var S=c.l?R(c.l.Na,c.l,c):null;t:{var j=c.i;let $=-1;for(;;){const ht=["count="+v];$==-1?0<v?($=j[0].g,ht.push("ofs="+$)):$=0:ht.push("ofs="+$);let Yt=!0;for(let Ge=0;Ge<v;Ge++){let Kt=j[Ge].g;const Je=j[Ge].map;if(Kt-=$,0>Kt)$=Math.max(0,j[Ge].g-100),Yt=!1;else try{Ci(Je,ht,"req"+Kt+"_")}catch{S&&S(Je)}}if(Yt){S=ht.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,S}function ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;lt||w(),yt||(lt(),yt=!0),Mt.add(y,c),c.v=0}}function tl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Zt(R(c.Fa,c),el(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Zt(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),Pa(this),Hu(this))};function Xs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Hu(c){c.g=new Sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Un(c.qa);oe(y,"RID","rpc"),oe(y,"SID",c.K),oe(y,"AID",c.T),oe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&oe(y,"TO",c.ja),oe(y,"TYPE","xmlhttp"),Qs(c,y),c.m&&c.o&&Ze(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=js(Un(y)),v.m=null,v.P=!0,rr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Pa(this),tl(this),zt(19))};function La(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function qu(c,y){var v=null;if(c.g==y){La(c),Xs(c),c.g=null;var S=2}else if(Fo(c.h,y))v=y.D,An(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;S=pe(),$t(S,new _e(S,v)),ka(c)}else ju(c);else if(j=y.s,j==3||j==0&&0<y.X||!(S==1&&gf(c,y)||S==2&&tl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),j){case 1:hr(c,5);break;case 4:hr(c,10);break;case 3:hr(c,6);break;default:hr(c,2)}}}function el(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function hr(c,y){if(c.j.info("Error code "+y),y==2){var v=R(c.fb,c),S=c.Xa;const j=!S;S=new ke(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Bs(S,"https"),js(S),j?qs(S.toString(),v):mi(S.toString(),v)}else zt(2);c.G=0,c.l&&c.l.sa(y),Fu(c),zu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Fu(c){if(c.G=0,c.ka=[],c.l){const y=Go(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Gu(c,y,v){var S=v instanceof ke?Un(v):new ke(v);if(S.g!="")y&&(S.g=y+"."+S.g),qr(S,S.s);else{var j=m.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var $=new ke(null);S&&Bs($,S),y&&($.g=y),j&&qr($,j),v&&($.l=v),S=$}return v=c.D,y=c.ya,v&&y&&oe(S,v,y),oe(S,"VER",c.la),Qs(c,S),S}function Yu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ie(new Fr({eb:v})):new ie(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}r=Ku.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ua(){}Ua.prototype.g=function(c,y){return new Rn(c,y)};function Rn(c,y){ne.call(this),this.g=new Va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Oi(this)}H(Rn,ne),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Zo(this.g)},Rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Nn(c),c=v);y.i.push(new Vu(y.Ya++,c)),y.G==3&&ka(y)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,Rn.aa.N.call(this)};function Qu(c){Qn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}H(Qu,Qn);function Xu(){zr.call(this),this.status=1}H(Xu,zr);function Oi(c){this.g=c}H(Oi,Ku),Oi.prototype.ua=function(){$t(this.g,"a")},Oi.prototype.ta=function(c){$t(this.g,new Qu(c))},Oi.prototype.sa=function(c){$t(this.g,new Xu)},Oi.prototype.ra=function(){$t(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,bT=function(){return new Ua},wT=function(){return pe()},TT=wt,Hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,hh=jr,ir.COMPLETE="complete",ET=ir,Ps.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Ql=Ps,ie.prototype.listenOnce=ie.prototype.L,ie.prototype.getLastError=ie.prototype.Ka,ie.prototype.getLastErrorCode=ie.prototype.Ba,ie.prototype.getStatus=ie.prototype.Z,ie.prototype.getResponseJson=ie.prototype.Oa,ie.prototype.getResponseText=ie.prototype.oa,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Ha,_T=ie}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const l0="@firebase/firestore",u0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new gp("@firebase/firestore");function mo(){return _a.logLevel}function pt(r,...t){if(_a.logLevel<=qt.DEBUG){const n=t.map(Ip);_a.debug(`Firestore (${Lo}): ${r}`,...n)}}function Pr(r,...t){if(_a.logLevel<=qt.ERROR){const n=t.map(Ip);_a.error(`Firestore (${Lo}): ${r}`,...n)}}function Ro(r,...t){if(_a.logLevel<=qt.WARN){const n=t.map(Ip);_a.warn(`Firestore (${Lo}): ${r}`,...n)}}function Ip(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,ST(r,s,n)}function ST(r,t,n){let s=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Pr(s),new Error(s)}function re(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||ST(t,o,s)}function Ot(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Lr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class i2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(En.UNAUTHENTICATED)))}shutdown(){}}class r2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class s2{constructor(t){this.t=t,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){re(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(re(typeof s.accessToken=="string",31837,{l:s}),new AT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string",2055,{h:t}),new En(t)}}class a2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new a2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class c0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){re(this.o===void 0,3512);const s=u=>{u.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new c0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new c0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=u2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ft(r,t){return r<t?-1:r>t?1:0}function qm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return wm(o)===wm(u)?Ft(o,u):wm(o)?1:-1}return Ft(r.length,t.length)}const c2=55296,h2=57343;function wm(r){const t=r.charCodeAt(0);return t>=c2&&t<=h2}function Io(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="__name__";class Bi{constructor(t,n,s){n===void 0?n=0:n>t.length&&It(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&It(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Bi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ft(t.length,n.length)}static compareSegments(t,n){const s=Bi.isNumericId(t),o=Bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Bi.extractNumericId(t).compare(Bi.extractNumericId(n)):qm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ws.fromString(t.substring(4,t.length-2))}}class ge extends Bi{construct(t,n,s){return new ge(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new _t(at.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ge(n)}static emptyPath(){return new ge([])}}const f2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Bi{construct(t,n,s){return new fn(t,n,s)}static isValidIdentifier(t){return f2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h0}static keyField(){return new fn([h0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new _t(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new _t(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _t(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new _t(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(ge.fromString(t))}static fromName(t){return new Tt(ge.fromString(t).popFirst(5))}static empty(){return new Tt(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ge.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new ge(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(r,t,n){if(!n)throw new _t(at.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function d2(r,t,n,s){if(t===!0&&s===!0)throw new _t(at.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function f0(r){if(!Tt.isDocumentKey(r))throw new _t(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function d0(r){if(Tt.isDocumentKey(r))throw new _t(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function IT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Np(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":It(12329,{type:typeof r})}function Qi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new _t(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Np(r);throw new _t(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(r,t){const n={typeString:r};return t&&(n.value=t),n}function Su(r,t){if(!IT(r))throw new _t(at.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new _t(at.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=-62135596800,p0=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(t){return ye.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*p0);return new ye(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new _t(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<m0)throw new _t(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p0}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Su(t,ye._jsonSchema))return new ye(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-m0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:Be("string",ye._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new ye(0,0))}static max(){return new Dt(new ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function m2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Dt.fromTimestamp(s===1e9?new ye(n+1,0):new ye(n,s));return new Ss(o,Tt.empty(),t)}function p2(r){return new Ss(r.readTime,r.key,cu)}class Ss{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ss(Dt.min(),Tt.empty(),cu)}static max(){return new Ss(Dt.max(),Tt.empty(),cu)}}function g2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Tt.comparator(r.documentKey,t.documentKey),n!==0?n:Ft(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(r){if(r.code!==at.FAILED_PRECONDITION||r.message!==y2)throw r;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&It(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new st(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof st?n:st.resolve(n)}catch(n){return st.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):st.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):st.reject(n)}static resolve(t){return new st(((n,s)=>{n(t)}))}static reject(t){return new st(((n,s)=>{s(t)}))}static waitFor(t){return new st(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=st.resolve(!1);for(const s of t)n=n.next((o=>o?st.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new st(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new st(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function _2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=-1;function Kh(r){return r==null}function Ih(r){return r===0&&1/r==-1/0}function E2(r){return typeof r=="number"&&Number.isInteger(r)&&!Ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="";function T2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=g0(t)),t=w2(r.get(n),t);return g0(t)}function w2(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case CT:n+="";break;default:n+=u}}return n}function g0(r){return r+CT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ms(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function NT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,n){this.comparator=t,this.root=n||hn.EMPTY}insert(t,n){return new Re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jc(this.root,t,this.comparator,!0)}}class Jc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class hn{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??hn.RED,this.left=o??hn.EMPTY,this.right=u??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new hn(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw It(43730,{key:this.key,value:this.value});if(this.right.isRed())throw It(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw It(27949);return t+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw It(57766)}get value(){throw It(16141)}get color(){throw It(16727)}get left(){throw It(29726)}get right(){throw It(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new hn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new v0(this.data.getIterator())}getIteratorFrom(t){return new v0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof $e)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new $e(this.comparator);return n.data=t,n}}class v0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.fields=t,t.sort(fn.comparator)}static empty(){return new Kn([])}unionWith(t){let n=new $e(fn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Io(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new DT("Invalid base64 string: "+u):u}})(t);return new mn(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new mn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const b2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(r){if(re(!!r,39018),typeof r=="string"){let t=0;const n=b2.exec(r);if(re(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ve(r.seconds),nanos:Ve(r.nanos)}}function Ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Rs(r){return typeof r=="string"?mn.fromBase64String(r):mn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="server_timestamp",OT="__type__",MT="__previous_value__",VT="__local_write_time__";function xp(r){return(r?.mapValue?.fields||{})[OT]?.stringValue===xT}function Qh(r){const t=r.mapValue.fields[MT];return xp(t)?Qh(t):t}function hu(r){const t=As(r.mapValue.fields[VT].timestampValue);return new ye(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t,n,s,o,u,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Ch="(default)";class fu{constructor(t,n){this.projectId=t,this.database=n||Ch}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(t){return t instanceof fu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="__type__",A2="__max__",th={mapValue:{}},kT="__vector__",Nh="value";function Is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xp(r)?4:I2(r)?9007199254740991:R2(r)?10:11:It(28295,{value:r})}function Xi(r,t){if(r===t)return!0;const n=Is(r);if(n!==Is(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return hu(r).isEqual(hu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=As(o.timestampValue),m=As(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Rs(o.bytesValue).isEqual(Rs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ve(o.geoPointValue.latitude)===Ve(u.geoPointValue.latitude)&&Ve(o.geoPointValue.longitude)===Ve(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ve(o.integerValue)===Ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ve(o.doubleValue),m=Ve(u.doubleValue);return f===m?Ih(f)===Ih(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return Io(r.arrayValue.values||[],t.arrayValue.values||[],Xi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(y0(f)!==y0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Xi(f[p],m[p])))return!1;return!0})(r,t);default:return It(52216,{left:r})}}function du(r,t){return(r.values||[]).find((n=>Xi(n,t)))!==void 0}function Co(r,t){if(r===t)return 0;const n=Is(r),s=Is(t);if(n!==s)return Ft(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Ve(u.integerValue||u.doubleValue),p=Ve(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return _0(r.timestampValue,t.timestampValue);case 4:return _0(hu(r),hu(t));case 5:return qm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Rs(u),p=Rs(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ft(m[g],p[g]);if(E!==0)return E}return Ft(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Ft(Ve(u.latitude),Ve(f.latitude));return m!==0?m:Ft(Ve(u.longitude),Ve(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return E0(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Nh]?.arrayValue,E=p[Nh]?.arrayValue,T=Ft(g?.values?.length||0,E?.values?.length||0);return T!==0?T:E0(g,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===th.mapValue&&f===th.mapValue)return 0;if(u===th.mapValue)return 1;if(f===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const R=qm(p[T],E[T]);if(R!==0)return R;const x=Co(m[p[T]],g[E[T]]);if(x!==0)return x}return Ft(p.length,E.length)})(r.mapValue,t.mapValue);default:throw It(23264,{he:n})}}function _0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ft(r,t);const n=As(r),s=As(t),o=Ft(n.seconds,s.seconds);return o!==0?o:Ft(n.nanos,s.nanos)}function E0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Co(n[o],s[o]);if(u)return u}return Ft(n.length,s.length)}function No(r){return Fm(r)}function Fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=As(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Rs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Tt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Fm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Fm(n.fields[f])}`;return o+"}"})(r.mapValue):It(61005,{value:r})}function fh(r){switch(Is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qh(r);return t?16+fh(t):16;case 5:return 2*r.stringValue.length;case 6:return Rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+fh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ms(s.fields,((u,f)=>{o+=u.length+fh(f)})),o})(r.mapValue);default:throw It(13486,{value:r})}}function Gm(r){return!!r&&"integerValue"in r}function Op(r){return!!r&&"arrayValue"in r}function T0(r){return!!r&&"nullValue"in r}function w0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function R2(r){return(r?.mapValue?.fields||{})[PT]?.stringValue===kT}function nu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ms(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=nu(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nu(r.arrayValue.values[n]);return t}return{...r}}function I2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===A2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=nu(n)}setAll(t){let n=fn.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=nu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Xi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Ms(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new kn(nu(this.value))}}function LT(r){const t=[];return Ms(r.fields,((n,s)=>{const o=new fn([n]);if(dh(s)){const u=LT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Tn(t,0,Dt.min(),Dt.min(),Dt.min(),kn.empty(),0)}static newFoundDocument(t,n,s,o){return new Tn(t,1,n,Dt.min(),s,o,0)}static newNoDocument(t,n){return new Tn(t,2,n,Dt.min(),Dt.min(),kn.empty(),0)}static newUnknownDocument(t,n){return new Tn(t,3,n,Dt.min(),Dt.min(),kn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,n){this.position=t,this.inclusive=n}}function b0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=Tt.comparator(Tt.fromName(f.referenceValue),n.key):s=Co(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function S0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Xi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n="asc"){this.field=t,this.dir=n}}function C2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{}class Xe extends UT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new D2(t,n,s):n==="array-contains"?new M2(t,s):n==="in"?new V2(t,s):n==="not-in"?new P2(t,s):n==="array-contains-any"?new k2(t,s):new Xe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new x2(t,s):new O2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return It(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends UT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new $i(t,n)}matches(t){return zT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zT(r){return r.op==="and"}function BT(r){return N2(r)&&zT(r)}function N2(r){for(const t of r.filters)if(t instanceof $i)return!1;return!0}function Ym(r){if(r instanceof Xe)return r.field.canonicalString()+r.op.toString()+No(r.value);if(BT(r))return r.filters.map((t=>Ym(t))).join(",");{const t=r.filters.map((n=>Ym(n))).join(",");return`${r.op}(${t})`}}function jT(r,t){return r instanceof Xe?(function(s,o){return o instanceof Xe&&s.op===o.op&&s.field.isEqual(o.field)&&Xi(s.value,o.value)})(r,t):r instanceof $i?(function(s,o){return o instanceof $i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&jT(f,o.filters[m])),!0):!1})(r,t):void It(19439)}function HT(r){return r instanceof Xe?(function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`})(r):r instanceof $i?(function(n){return n.op.toString()+" {"+n.getFilters().map(HT).join(" ,")+"}"})(r):"Filter"}class D2 extends Xe{constructor(t,n,s){super(t,n,s),this.key=Tt.fromName(s.referenceValue)}matches(t){const n=Tt.comparator(t.key,this.key);return this.matchesComparison(n)}}class x2 extends Xe{constructor(t,n){super(t,"in",n),this.keys=qT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class O2 extends Xe{constructor(t,n){super(t,"not-in",n),this.keys=qT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function qT(r,t){return(t.arrayValue?.values||[]).map((n=>Tt.fromName(n.referenceValue)))}class M2 extends Xe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Op(n)&&du(n.arrayValue,this.value)}}class V2 extends Xe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class P2 extends Xe{constructor(t,n){super(t,"not-in",n)}matches(t){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class k2 extends Xe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>du(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function A0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new L2(r,t,n,s,o,u,f)}function Mp(r){const t=Ot(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Ym(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Kh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>No(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>No(s))).join(",")),t.Te=n}return t.Te}function Vp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!C2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!jT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!S0(r.startAt,t.startAt)&&S0(r.endAt,t.endAt)}function Km(r){return Tt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function U2(r,t,n,s,o,u,f,m){return new Xh(r,t,n,s,o,u,f,m)}function Pp(r){return new Xh(r)}function R0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function z2(r){return r.collectionGroup!==null}function iu(r){const t=Ot(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new $e(fn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new xh(u,s))})),n.has(fn.keyField().canonicalString())||t.Ie.push(new xh(fn.keyField(),s))}return t.Ie}function Fi(r){const t=Ot(r);return t.Ee||(t.Ee=B2(t,iu(r))),t.Ee}function B2(r,t){if(r.limitType==="F")return A0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new xh(o.field,u)}));const n=r.endAt?new Dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dh(r.startAt.position,r.startAt.inclusive):null;return A0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Qm(r,t,n){return new Xh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function $h(r,t){return Vp(Fi(r),Fi(t))&&r.limitType===t.limitType}function FT(r){return`${Mp(Fi(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>HT(o))).join(", ")}]`),Kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>No(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>No(o))).join(",")),`Target(${s})`})(Fi(r))}; limitType=${r.limitType})`}function Wh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Tt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=b0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,iu(s),o)||s.endAt&&!(function(f,m,p){const g=b0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,iu(s),o))})(r,t)}function j2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function GT(r){return(t,n)=>{let s=!1;for(const o of iu(r)){const u=H2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function H2(r,t,n){const s=r.field.isKeyField()?Tt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Co(p,g):It(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return It(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ms(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return NT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Re(Tt.comparator);function kr(){return q2}const YT=new Re(Tt.comparator);function Xl(...r){let t=YT;for(const n of r)t=t.insert(n.key,n);return t}function KT(r){let t=YT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function fa(){return ru()}function QT(){return ru()}function ru(){return new ba((r=>r.toString()),((r,t)=>r.isEqual(t)))}const F2=new Re(Tt.comparator),G2=new $e(Tt.comparator);function Gt(...r){let t=G2;for(const n of r)t=t.add(n);return t}const Y2=new $e(Ft);function K2(){return Y2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(t)?"-0":t}}function XT(r){return{integerValue:""+r}}function Q2(r,t){return E2(t)?XT(t):kp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function X2(r,t,n){return r instanceof Oh?(function(o,u){const f={fields:{[OT]:{stringValue:xT},[VT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&xp(u)&&(u=Qh(u)),u&&(f.fields[MT]=u),{mapValue:f}})(n,t):r instanceof mu?WT(r,t):r instanceof pu?ZT(r,t):(function(o,u){const f=$T(o,u),m=I0(f)+I0(o.Ae);return Gm(f)&&Gm(o.Ae)?XT(m):kp(o.serializer,m)})(r,t)}function $2(r,t,n){return r instanceof mu?WT(r,t):r instanceof pu?ZT(r,t):n}function $T(r,t){return r instanceof Mh?(function(s){return Gm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Oh extends Zh{}class mu extends Zh{constructor(t){super(),this.elements=t}}function WT(r,t){const n=JT(t);for(const s of r.elements)n.some((o=>Xi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class pu extends Zh{constructor(t){super(),this.elements=t}}function ZT(r,t){let n=JT(t);for(const s of r.elements)n=n.filter((o=>!Xi(o,s)));return{arrayValue:{values:n}}}class Mh extends Zh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function I0(r){return Ve(r.integerValue||r.doubleValue)}function JT(r){return Op(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function W2(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof mu&&o instanceof mu||s instanceof pu&&o instanceof pu?Io(s.elements,o.elements,Xi):s instanceof Mh&&o instanceof Mh?Xi(s.Ae,o.Ae):s instanceof Oh&&o instanceof Oh})(r.transform,t.transform)}class Z2{constructor(t,n){this.version=t,this.transformResults=n}}class _i{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new _i}static exists(t){return new _i(void 0,t)}static updateTime(t){return new _i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Jh{}function tw(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Lp(r.key,_i.none()):new Au(r.key,r.data,_i.none());{const n=r.data,s=kn.empty();let o=new $e(fn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Vs(r.key,s,new Kn(o.toArray()),_i.none())}}function J2(r,t,n){r instanceof Au?(function(o,u,f){const m=o.value.clone(),p=N0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Vs?(function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=N0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ew(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function su(r,t,n,s){return r instanceof Au?(function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=u.value.clone(),E=D0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,t,n,s):r instanceof Vs?(function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=D0(u.fieldTransforms,p,f),E=f.data;return E.setAll(ew(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function tN(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=$T(s.transform,o||null);u!=null&&(n===null&&(n=kn.empty()),n.set(s.field,u))}return n||null}function C0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,((u,f)=>W2(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Au extends Jh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vs extends Jh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ew(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function N0(r,t,n){const s=new Map;re(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,$2(f,m,n[o]))}return s}function D0(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,X2(u,f,t))}return s}class Lp extends Jh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eN extends Jh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&J2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=su(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=su(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=QT();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=tw(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Dt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Gt())}isEqual(t){return this.batchId===t.batchId&&Io(this.mutations,t.mutations,((n,s)=>C0(n,s)))&&Io(this.baseMutations,t.baseMutations,((n,s)=>C0(n,s)))}}class Up{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){re(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return F2})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Up(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,Xt;function sN(r){switch(r){case at.OK:return It(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return It(15467,{code:r})}}function nw(r){if(r===void 0)return Pr("GRPC error has no .code"),at.UNKNOWN;switch(r){case ze.OK:return at.OK;case ze.CANCELLED:return at.CANCELLED;case ze.UNKNOWN:return at.UNKNOWN;case ze.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case ze.INTERNAL:return at.INTERNAL;case ze.UNAVAILABLE:return at.UNAVAILABLE;case ze.UNAUTHENTICATED:return at.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case ze.NOT_FOUND:return at.NOT_FOUND;case ze.ALREADY_EXISTS:return at.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return at.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case ze.ABORTED:return at.ABORTED;case ze.OUT_OF_RANGE:return at.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return at.UNIMPLEMENTED;case ze.DATA_LOSS:return at.DATA_LOSS;default:return It(39323,{code:r})}}(Xt=ze||(ze={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new ws([4294967295,4294967295],0);function x0(r){const t=aN().encode(r),n=new vT;return n.update(t),new Uint8Array(n.digest())}function O0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ws([n,s],0),new ws([o,u],0)]}class zp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ws.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(ws.fromNumber(s)));return o.compare(oN)===1&&(o=new ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=x0(t),[s,o]=O0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new zp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=x0(t),[s,o]=O0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Ru.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new tf(Dt.min(),o,new Re(Ft),kr(),Gt())}}class Ru{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ru(s,n,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class iw{constructor(t,n){this.targetId=t,this.Ce=n}}class rw{constructor(t,n,s=mn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class M0{constructor(){this.ve=0,this.Fe=V0(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Gt(),n=Gt(),s=Gt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:It(38017,{changeType:u})}})),new Ru(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=V0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lN{constructor(t){this.Ge=t,this.ze=new Map,this.je=kr(),this.Je=eh(),this.He=eh(),this.Ye=new Re(Ft)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:It(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Km(u))if(s===0){const f=new Tt(u.path);this.et(n,f,Tn.newNoDocument(f,Dt.min()))}else re(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Rs(s).toUint8Array()}catch(p){if(p instanceof DT)return Ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new zp(f,o,u)}catch(p){return Ro(p instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Km(m.target)){const p=new Tt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Tn.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Gt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new tf(t,n,this.Ye,this.je,s);return this.je=kr(),this.Je=eh(),this.He=eh(),this.Ye=new Re(Ft),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new M0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new $e(Ft),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new $e(Ft),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||pt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new M0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function eh(){return new Re(Tt.comparator)}function V0(){return new Re(Tt.comparator)}const uN={asc:"ASCENDING",desc:"DESCENDING"},cN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hN={and:"AND",or:"OR"};class fN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Xm(r,t){return r.useProto3Json||Kh(t)?t:{value:t}}function Vh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sw(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function dN(r,t){return Vh(r,t.toTimestamp())}function Gi(r){return re(!!r,49232),Dt.fromTimestamp((function(n){const s=As(n);return new ye(s.seconds,s.nanos)})(r))}function Bp(r,t){return $m(r,t).canonicalString()}function $m(r,t){const n=(function(o){return new ge(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function aw(r){const t=ge.fromString(r);return re(hw(t),10190,{key:t.toString()}),t}function Wm(r,t){return Bp(r.databaseId,t.path)}function bm(r,t){const n=aw(t);if(n.get(1)!==r.databaseId.projectId)throw new _t(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new _t(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Tt(lw(n))}function ow(r,t){return Bp(r.databaseId,t)}function mN(r){const t=aw(r);return t.length===4?ge.emptyPath():lw(t)}function Zm(r){return new ge(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lw(r){return re(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function P0(r,t,n){return{name:Wm(r,t),fields:n.value.mapValue.fields}}function pN(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:It(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(re(E===void 0||typeof E=="string",58123),mn.fromBase64String(E||"")):(re(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),mn.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?at.UNKNOWN:nw(g.code);return new _t(E,g.message||"")})(f);n=new rw(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=bm(r,s.document.name),u=Gi(s.document.updateTime),f=s.document.createTime?Gi(s.document.createTime):Dt.min(),m=new kn({mapValue:{fields:s.document.fields}}),p=Tn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ph(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=bm(r,s.document),u=s.readTime?Gi(s.readTime):Dt.min(),f=Tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ph([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=bm(r,s.document),u=s.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in t))return It(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new rN(o,u),m=s.targetId;n=new iw(m,f)}}return n}function gN(r,t){let n;if(t instanceof Au)n={update:P0(r,t.key,t.value)};else if(t instanceof Lp)n={delete:Wm(r,t.key)};else if(t instanceof Vs)n={update:P0(r,t.key,t.data),updateMask:AN(t.fieldMask)};else{if(!(t instanceof eN))return It(16599,{Vt:t.type});n={verify:Wm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw It(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:dN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:It(27497)})(r,t.precondition)),n}function yN(r,t){return r&&r.length>0?(re(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Gi(o.updateTime):Gi(u);return f.isEqual(Dt.min())&&(f=Gi(u)),new Z2(f,o.transformResults||[])})(n,t)))):[]}function vN(r,t){return{documents:[ow(r,t.path)]}}function _N(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ow(r,o);const u=(function(g){if(g.length!==0)return cw($i.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(R){return{field:go(R.field),direction:wN(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Xm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function EN(r){let t=mN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){re(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const R=uw(T);return R instanceof $i&&BT(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((R=>(function(H){return new xh(yo(H.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let R;return R=typeof T=="object"?T.value:T,Kh(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(T){const R=!!T.before,x=T.values||[];return new Dh(x,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const R=!T.before,x=T.values||[];return new Dh(x,R)})(n.endAt)),U2(t,o,f,u,m,"F",p,g)}function TN(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function uw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=yo(n.unaryFilter.field);return Xe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(n.unaryFilter.field);return Xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(n.unaryFilter.field);return Xe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=yo(n.unaryFilter.field);return Xe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return It(61313);default:return It(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Xe.create(yo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return It(58110);default:return It(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return $i.create(n.compositeFilter.filters.map((s=>uw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return It(1026)}})(n.compositeFilter.op))})(r):It(30097,{filter:r})}function wN(r){return uN[r]}function bN(r){return cN[r]}function SN(r){return hN[r]}function go(r){return{fieldPath:r.canonicalString()}}function yo(r){return fn.fromServerFormat(r.fieldPath)}function cw(r){return r instanceof Xe?(function(n){if(n.op==="=="){if(w0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(T0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(T0(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:bN(n.op),value:n.value}}})(r):r instanceof $i?(function(n){const s=n.getFilters().map((o=>cw(o)));return s.length===1?s[0]:{compositeFilter:{op:SN(n.op),filters:s}}})(r):It(54877,{filter:r})}function AN(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function hw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,n,s,o,u=Dt.min(),f=Dt.min(),m=mn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ys(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t){this.yt=t}}function IN(r){const t=EN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.Cn=new NN}addToCollectionParentIndex(t,n){return this.Cn.add(n),st.resolve()}getCollectionParents(t,n){return st.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return st.resolve()}deleteFieldIndex(t,n){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,n){return st.resolve()}getDocumentsMatchingTarget(t,n){return st.resolve(null)}getIndexType(t,n){return st.resolve(0)}getFieldIndexes(t,n){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,n){return st.resolve(Ss.min())}getMinOffsetFromCollectionGroup(t,n){return st.resolve(Ss.min())}updateCollectionGroup(t,n,s){return st.resolve()}updateIndexEntries(t,n){return st.resolve()}}class NN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new $e(ge.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new $e(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fw=41943040;class Pn{static withCacheSize(t){return new Pn(t,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(fw,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="LruGarbageCollector",DN=1048576;function U0([r,t],[n,s]){const o=Ft(r,n);return o===0?Ft(t,s):o}class xN{constructor(t){this.Ir=t,this.buffer=new $e(U0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();U0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ON{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){pt(L0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?pt(L0,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Vr(3e5)}))}}class MN{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return st.resolve(Yh.ce);const s=new xN(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(k0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),mo()<=qt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function VN(r,t){return new MN(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.changes=new ba((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?st.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&su(s.mutation,o,Kn.empty(),ye.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Gt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Gt()){const o=fa();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Xl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=fa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Gt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=kr();const f=ru(),m=(function(){return ru()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Vs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),su(E.mutation,g,E.mutation.getFieldMask(),ye.now())):f.set(g.key,Kn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new kN(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=ru();let o=new Re(((f,m)=>f-m)),u=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Kn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Gt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=QT();E.forEach((R=>{if(!u.has(R)){const x=tw(n.get(R),s.get(R));x!==null&&T.set(R,x),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,T))}return st.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return Tt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):z2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):st.resolve(fa());let m=cu,p=u;return f.next((g=>st.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?st.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Gt()))).next((E=>({batchId:m,changes:KT(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Tt(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Xl();return this.indexManager.getCollectionParents(t,u).next((m=>st.forEach(m,(p=>{const g=(function(T,R){return new Xh(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Tn.newInvalidDocument(E)))}));let m=Xl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&su(E.mutation,g,Kn.empty(),ye.now()),Wh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return st.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Gi(o.createTime)}})(n)),st.resolve()}getNamedQuery(t,n){return st.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:IN(o.bundledQuery),readTime:Gi(o.readTime)}})(n)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.overlays=new Re(Tt.comparator),this.qr=new Map}getOverlay(t,n){return st.resolve(this.overlays.get(n))}getOverlays(t,n){const s=fa();return st.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),st.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),st.resolve()}getOverlaysForCollection(t,n,s){const o=fa(),u=n.length+1,f=new Tt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return st.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Re(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=fa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=fa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return st.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new iN(n,s));let u=this.qr.get(n);u===void 0&&(u=Gt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this.Qr=new $e(rn.$r),this.Ur=new $e(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new rn(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new rn(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new Tt(new ge([])),s=new rn(n,t),o=new rn(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Tt(new ge([])),s=new rn(n,t),o=new rn(n,t+1);let u=Gt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new rn(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class rn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Tt.comparator(t.key,n.key)||Ft(t.Yr,n.Yr)}static Kr(t,n){return Ft(t.Yr,n.Yr)||Tt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $e(rn.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new nN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new rn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return st.resolve(f)}lookupMutationBatch(t,n){return st.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return st.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?Dp:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new rn(n,0),o=new rn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),st.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new $e(Ft);return n.forEach((o=>{const u=new rn(o,0),f=new rn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),st.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Tt.isDocumentKey(u)||(u=u.child(""));const f=new rn(new Tt(u),0);let m=new $e(Ft);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),st.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return st.forEach(n.mutations,(o=>{const u=new rn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new rn(n,0),o=this.Zr.firstAfterOrEqual(s);return st.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.ri=t,this.docs=(function(){return new Re(Tt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return st.resolve(s?s.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(t,n){let s=kr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Tn.newInvalidDocument(o))})),st.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=kr();const f=n.path,m=new Tt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||g2(p2(E),s)<=0||(o.has(E.key)||Wh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(t,n,s,o){It(9500)}ii(t,n){return st.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new qN(this)}getSize(t){return st.resolve(this.size)}}class qN extends PN{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),st.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t){this.persistence=t,this.si=new ba((n=>Mp(n)),Vp),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.oi=0,this._i=new jp,this.targetCount=0,this.ai=Do.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),st.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Do(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,st.resolve()}updateTargetData(t,n){return this.Pr(n),st.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),st.waitFor(u).next((()=>o))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return st.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),st.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),st.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),st.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return st.resolve(s)}containsKey(t,n){return st.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,n){this.ui={},this.overlays={},this.ci=new Yh(0),this.li=!1,this.li=!0,this.hi=new BN,this.referenceDelegate=t(this),this.Pi=new FN(this),this.indexManager=new CN,this.remoteDocumentCache=(function(o){return new HN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new RN(n),this.Ii=new UN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new zN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new jN(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){pt("MemoryPersistence","Starting transaction:",t);const o=new GN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return st.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class GN extends v2{constructor(t){super(),this.currentSequenceNumber=t}}class Hp{constructor(t){this.persistence=t,this.Ri=new jp,this.Vi=null}static mi(t){return new Hp(t)}get fi(){if(this.Vi)return this.Vi;throw It(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),st.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),st.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),st.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(s=>{const o=Tt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Dt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return st.or([()=>st.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Ph{constructor(t,n){this.persistence=t,this.pi=new ba((s=>T2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=VN(this,n)}static mi(t,n){return new Ph(t,n)}Ei(){}di(t){return st.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return st.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?st.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,Dt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),st.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),st.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),st.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=fh(t.data.value)),n}br(t,n,s){return st.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return st.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Gt(),o=Gt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wA()?8:_2(wn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new YN;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(mo()<=qt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(mo()<=qt.DEBUG&&pt("QueryEngine","Query:",po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(mo()<=qt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fi(n))):st.resolve())}ys(t,n){if(R0(n))return st.resolve(null);let s=Fi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Qm(n,null,"F"),s=Fi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Gt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(t,Qm(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return R0(n)||o.isEqual(Dt.min())?st.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?st.resolve(null):(mo()<=qt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.vs(t,f,n,m2(o,cu)).next((m=>m)))}))}Ds(t,n){let s=new $e(GT(t));return n.forEach(((o,u)=>{Wh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return mo()<=qt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",po(n)),this.ps.getDocumentsMatchingQuery(t,n,Ss.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="LocalStore",QN=3e8;class XN{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new Re(Ft),this.xs=new ba((u=>Mp(u)),Vp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function $N(r,t,n,s){return new XN(r,t,n,s)}async function mw(r,t){const n=Ot(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Gt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function WN(r,t){const n=Ot(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,R=T.keys();let x=st.resolve();return R.forEach((H=>{x=x.next((()=>E.getEntry(p,H))).next((Z=>{const k=g.docVersions.get(H);re(k!==null,48541),Z.version.compareTo(k)<0&&(T.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Gt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function pw(r){const t=Ot(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function ZN(r,t){const n=Ot(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const R=o.get(T);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let x=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?x=x.withResumeToken(mn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(T,x),(function(Z,k,U){return Z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=QN?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(R,x,E)&&m.push(n.Pi.updateTargetData(u,x))}));let p=kr(),g=Gt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(JN(u,f,t.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Dt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return st.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function JN(r,t,n){let s=Gt(),o=Gt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=kr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Dt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):pt(Fp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function tD(r,t){const n=Ot(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Dp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function eD(r,t){const n=Ot(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,st.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ys(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Jm(r,t,n){const s=Ot(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!zo(f))throw f;pt(Fp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function z0(r,t,n){const s=Ot(r);let o=Dt.min(),u=Gt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=Ot(p),R=T.xs.get(E);return R!==void 0?st.resolve(T.Ms.get(R)):T.Pi.getTargetData(g,E)})(s,f,Fi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Dt.min(),n?u:Gt()))).next((m=>(nD(s,j2(t),m),{documents:m,Qs:u})))))}function nD(r,t,n){let s=r.Os.get(t)||Dt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class B0{constructor(){this.activeTargetIds=K2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iD{constructor(){this.Mo=new B0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new B0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="ConnectivityMonitor";class H0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(j0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){pt(j0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function tp(){return nh===null?nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="RestConnection",sD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=tp(),m=this.zo(t,n.toUriEncodedString());pt(Sm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Vo(g);return this.Jo(t,m,p,s,E).then((T=>(pt(Sm,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw Ro(Sm,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=sD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class lD extends aD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=tp();return new Promise(((m,p)=>{const g=new _T;g.setWithCredentials(!0),g.listenOnce(ET.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case hh.NO_ERROR:const T=g.getResponseJson();pt(_n,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case hh.TIMEOUT:pt(_n,`RPC '${t}' ${f} timed out`),p(new _t(at.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const R=g.getStatus();if(pt(_n,`RPC '${t}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const H=x?.error;if(H&&H.status&&H.message){const Z=(function(U){const X=U.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(X)>=0?X:at.UNKNOWN})(H.status);p(new _t(Z,H.message))}else p(new _t(at.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new _t(at.UNAVAILABLE,"Connection failed."));break;default:It(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pt(_n,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);pt(_n,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=tp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=bT(),m=wT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");pt(_n,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let R=!1,x=!1;const H=new oD({Yo:k=>{x?pt(_n,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(R||(pt(_n,`Opening RPC '${t}' stream ${o} transport.`),T.open(),R=!0),pt(_n,`RPC '${t}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),Z=(k,U,X)=>{k.listen(U,(nt=>{try{X(nt)}catch(dt){setTimeout((()=>{throw dt}),0)}}))};return Z(T,Ql.EventType.OPEN,(()=>{x||(pt(_n,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),Z(T,Ql.EventType.CLOSE,(()=>{x||(x=!0,pt(_n,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(T))})),Z(T,Ql.EventType.ERROR,(k=>{x||(x=!0,Ro(_n,`RPC '${t}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),H.a_(new _t(at.UNAVAILABLE,"The operation could not be completed")))})),Z(T,Ql.EventType.MESSAGE,(k=>{if(!x){const U=k.data[0];re(!!U,16349);const X=U,nt=X?.error||X[0]?.error;if(nt){pt(_n,`RPC '${t}' stream ${o} received error:`,nt);const dt=nt.status;let gt=(function(I){const C=ze[I];if(C!==void 0)return nw(C)})(dt),bt=nt.message;gt===void 0&&(gt=at.INTERNAL,bt="Unknown error status: "+dt+" with message "+nt.message),x=!0,H.a_(new _t(gt,bt)),T.close()}else pt(_n,`RPC '${t}' stream ${o} received:`,U),H.u_(U)}})),Z(m,TT.STAT_EVENT,(k=>{k.stat===Hm.PROXY?pt(_n,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===Hm.NOPROXY&&pt(_n,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(r){return new fN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="PersistentStream";class yw{constructor(t,n,s,o,u,f,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===at.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new _t(at.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt(q0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(pt(q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uD extends yw{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=pN(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Dt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Dt.min():f.readTime?Gi(f.readTime):Dt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Zm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Km(p)?{documents:vN(u,p)}:{query:_N(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=sw(u,f.resumeToken);const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Dt.min())>0){m.readTime=Vh(u,f.snapshotVersion.toTimestamp());const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=TN(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Zm(this.serializer),n.removeTarget=t,this.q_(n)}}class cD extends yw{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return re(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,re(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){re(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=yN(t.writeResults,t.commitTime),s=Gi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Zm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>gN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{}class fD extends hD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _t(at.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,$m(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _t(at.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,$m(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _t(at.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pr(n),this.aa=!1):pt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class mD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Sa(this)&&(pt(Ea,"Restarting streams for network reachability change."),await(async function(p){const g=Ot(p);g.Ea.add(4),await Iu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await nf(g)})(this))}))})),this.Ra=new dD(s,o)}}async function nf(r){if(Sa(r))for(const t of r.da)await t(!0)}async function Iu(r){for(const t of r.da)await t(!1)}function vw(r,t){const n=Ot(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Qp(n)?Kp(n):Bo(n).O_()&&Yp(n,t))}function Gp(r,t){const n=Ot(r),s=Bo(n);n.Ia.delete(t),s.O_()&&_w(n,t),n.Ia.size===0&&(s.O_()?s.L_():Sa(n)&&n.Ra.set("Unknown"))}function Yp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Bo(r).Y_(t)}function _w(r,t){r.Va.Ue(t),Bo(r).Z_(t)}function Kp(r){r.Va=new lN({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Bo(r).start(),r.Ra.ua()}function Qp(r){return Sa(r)&&!Bo(r).x_()&&r.Ia.size>0}function Sa(r){return Ot(r).Ea.size===0}function Ew(r){r.Va=void 0}async function pD(r){r.Ra.set("Online")}async function gD(r){r.Ia.forEach(((t,n)=>{Yp(r,t)}))}async function yD(r,t){Ew(r),Qp(r)?(r.Ra.ha(t),Kp(r)):r.Ra.set("Unknown")}async function vD(r,t,n){if(r.Ra.set("Online"),t instanceof rw&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){pt(Ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await kh(r,s)}else if(t instanceof ph?r.Va.Ze(t):t instanceof iw?r.Va.st(t):r.Va.tt(t),!n.isEqual(Dt.min()))try{const s=await pw(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(mn.EMPTY_BYTE_STRING,E.snapshotVersion)),_w(u,p);const T=new ys(E.target,p,g,E.sequenceNumber);Yp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){pt(Ea,"Failed to raise snapshot:",s),await kh(r,s)}}async function kh(r,t,n){if(!zo(t))throw t;r.Ea.add(1),await Iu(r),r.Ra.set("Offline"),n||(n=()=>pw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{pt(Ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await nf(r)}))}function Tw(r,t){return t().catch((n=>kh(r,n,t)))}async function rf(r){const t=Ot(r),n=Cs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dp;for(;_D(t);)try{const o=await tD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,ED(t,o)}catch(o){await kh(t,o)}ww(t)&&bw(t)}function _D(r){return Sa(r)&&r.Ta.length<10}function ED(r,t){r.Ta.push(t);const n=Cs(r);n.O_()&&n.X_&&n.ea(t.mutations)}function ww(r){return Sa(r)&&!Cs(r).x_()&&r.Ta.length>0}function bw(r){Cs(r).start()}async function TD(r){Cs(r).ra()}async function wD(r){const t=Cs(r);for(const n of r.Ta)t.ea(n.mutations)}async function bD(r,t,n){const s=r.Ta.shift(),o=Up.from(s,t,n);await Tw(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await rf(r)}async function SD(r,t){t&&Cs(r).X_&&await(async function(s,o){if((function(f){return sN(f)&&f!==at.ABORTED})(o.code)){const u=s.Ta.shift();Cs(s).B_(),await Tw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await rf(s)}})(r,t),ww(r)&&bw(r)}async function F0(r,t){const n=Ot(r);n.asyncQueue.verifyOperationInProgress(),pt(Ea,"RemoteStore received new credentials");const s=Sa(n);n.Ea.add(3),await Iu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await nf(n)}async function AD(r,t){const n=Ot(r);t?(n.Ea.delete(2),await nf(n)):t||(n.Ea.add(2),await Iu(n),n.Ra.set("Unknown"))}function Bo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ot(n);return u.sa(),new uD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:pD.bind(null,r),t_:gD.bind(null,r),r_:yD.bind(null,r),H_:vD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Qp(r)?Kp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Ew(r))}))),r.ma}function Cs(r){return r.fa||(r.fa=(function(n,s,o){const u=Ot(n);return u.sa(),new cD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:TD.bind(null,r),r_:SD.bind(null,r),ta:wD.bind(null,r),na:bD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await rf(r)):(await r.fa.stop(),r.Ta.length>0&&(pt(Ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Xp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(r,t){if(Pr("AsyncQueue",`${t}: ${r}`),zo(r))return new _t(at.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(t){return new bo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Tt.comparator(n.key,s.key):(n,s)=>Tt.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof bo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new bo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.ga=new Re(Tt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):It(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class xo{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new xo(t,n,bo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class ID{constructor(){this.queries=Y0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ot(n),u=o.queries;o.queries=Y0(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new _t(at.ABORTED,"Firestore shutting down"))}}function Y0(){return new ba((r=>FT(r)),$h)}async function Sw(r,t){const n=Ot(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new RD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=$p(f,`Initialization of query '${po(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Wp(n)}async function Aw(r,t){const n=Ot(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function CD(r,t){const n=Ot(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Wp(n)}function ND(r,t,n){const s=Ot(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Wp(r){r.Ca.forEach((t=>{t.next()}))}var ep,K0;(K0=ep||(ep={})).Ma="default",K0.Cache="cache";class Rw{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new xo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t){this.key=t}}class Cw{constructor(t){this.key=t}}class DD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gt(),this.mutatedKeys=Gt(),this.eu=GT(t),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new G0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const R=o.get(E),x=Wh(this.query,T)?T:null,H=!!R&&this.mutatedKeys.has(R.key),Z=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;R&&x?R.data.isEqual(x.data)?H!==Z&&(s.track({type:3,doc:x}),k=!0):this.su(R,x)||(s.track({type:2,doc:x}),k=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(m=!0)):!R&&x?(s.track({type:0,doc:x}),k=!0):R&&!x&&(s.track({type:1,doc:R}),k=!0,(p||g)&&(m=!0)),k&&(x?(f=f.add(x),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,T)=>(function(x,H){const Z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It(20277,{Rt:k})}};return Z(x)-Z(H)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new xo(this.query,t.tu,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new G0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Gt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new Cw(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new Iw(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Gt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zp="SyncEngine";class xD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class OD{constructor(t){this.key=t,this.hu=!1}}class MD{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ba((m=>FT(m)),$h),this.Iu=new Map,this.Eu=new Set,this.du=new Re(Tt.comparator),this.Au=new Map,this.Ru=new jp,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VD(r,t,n=!0){const s=Vw(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Nw(s,t,n,!0),o}async function PD(r,t){const n=Vw(r);await Nw(n,t,!0,!1)}async function Nw(r,t,n,s){const o=await eD(r.localStore,Fi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await kD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&vw(r.remoteStore,o),m}async function kD(r,t,n,s,o){r.pu=(T,R,x)=>(async function(Z,k,U,X){let nt=k.view.ru(U);nt.Cs&&(nt=await z0(Z.localStore,k.query,!1).then((({documents:V})=>k.view.ru(V,nt))));const dt=X&&X.targetChanges.get(k.targetId),gt=X&&X.targetMismatches.get(k.targetId)!=null,bt=k.view.applyChanges(nt,Z.isPrimaryClient,dt,gt);return X0(Z,k.targetId,bt.au),bt.snapshot})(r,T,R,x);const u=await z0(r.localStore,t,!0),f=new DD(t,u.Qs),m=f.ru(u.documents),p=Ru.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);X0(r,n,g.au);const E=new xD(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function LD(r,t,n){const s=Ot(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!$h(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Gp(s.remoteStore,o.targetId),np(s,o.targetId)})).catch(Uo)):(np(s,o.targetId),await Jm(s.localStore,o.targetId,!0))}async function UD(r,t){const n=Ot(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gp(n.remoteStore,s.targetId))}async function zD(r,t,n){const s=YD(r);try{const o=await(function(f,m){const p=Ot(f),g=ye.now(),E=m.reduce(((x,H)=>x.add(H.key)),Gt());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let H=kr(),Z=Gt();return p.Ns.getEntries(x,E).next((k=>{H=k,H.forEach(((U,X)=>{X.isValidDocument()||(Z=Z.add(U))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,H))).next((k=>{T=k;const U=[];for(const X of m){const nt=tN(X,T.get(X.key).overlayedDocument);nt!=null&&U.push(new Vs(X.key,nt,LT(nt.value.mapValue),_i.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,U,m)})).next((k=>{R=k;const U=k.applyToLocalDocumentSet(T,Z);return p.documentOverlayCache.saveOverlays(x,k.batchId,U)}))})).then((()=>({batchId:R.batchId,changes:KT(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new Re(Ft)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await Cu(s,o.changes),await rf(s.remoteStore)}catch(o){const u=$p(o,"Failed to persist write");n.reject(u)}}async function Dw(r,t){const n=Ot(r);try{const s=await ZN(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(re(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?re(f.hu,14607):o.removedDocuments.size>0&&(re(f.hu,42227),f.hu=!1))})),await Cu(n,s,t)}catch(s){await Uo(s)}}function Q0(r,t,n){const s=Ot(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ot(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const R of T.Sa)R.va(m)&&(g=!0)})),g&&Wp(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function BD(r,t,n){const s=Ot(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new Re(Tt.comparator);f=f.insert(u,Tn.newNoDocument(u,Dt.min()));const m=Gt().add(u),p=new tf(Dt.min(),new Map,new Re(Ft),f,m);await Dw(s,p),s.du=s.du.remove(u),s.Au.delete(t),Jp(s)}else await Jm(s.localStore,t,!1).then((()=>np(s,t,n))).catch(Uo)}async function jD(r,t){const n=Ot(r),s=t.batch.batchId;try{const o=await WN(n.localStore,t);Ow(n,s,null),xw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cu(n,o)}catch(o){await Uo(o)}}async function HD(r,t,n){const s=Ot(r);try{const o=await(function(f,m){const p=Ot(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(re(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);Ow(s,t,n),xw(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Cu(s,o)}catch(o){await Uo(o)}}function xw(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function Ow(r,t,n){const s=Ot(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function np(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||Mw(r,s)}))}function Mw(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Gp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Jp(r))}function X0(r,t,n){for(const s of n)s instanceof Iw?(r.Ru.addReference(s.key,t),qD(r,s)):s instanceof Cw?(pt(Zp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||Mw(r,s.key)):It(19791,{wu:s})}function qD(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(pt(Zp,"New document in limbo: "+n),r.Eu.add(s),Jp(r))}function Jp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new Tt(ge.fromString(t)),s=r.fu.next();r.Au.set(s,new OD(n)),r.du=r.du.insert(n,s),vw(r.remoteStore,new ys(Fi(Pp(n.path)),s,"TargetPurposeLimboResolution",Yh.ce))}}async function Cu(r,t,n){const s=Ot(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=qp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=Ot(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>st.forEach(g,(R=>st.forEach(R.Es,(x=>E.persistence.referenceDelegate.addReference(T,R.targetId,x))).next((()=>st.forEach(R.ds,(x=>E.persistence.referenceDelegate.removeReference(T,R.targetId,x)))))))))}catch(T){if(!zo(T))throw T;pt(Fp,"Failed to update sequence numbers: "+T)}for(const T of g){const R=T.targetId;if(!T.fromCache){const x=E.Ms.get(R),H=x.snapshotVersion,Z=x.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(R,Z)}}})(s.localStore,u))}async function FD(r,t){const n=Ot(r);if(!n.currentUser.isEqual(t)){pt(Zp,"User change. New user:",t.toKey());const s=await mw(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new _t(at.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Cu(n,s.Ls)}}function GD(r,t){const n=Ot(r),s=n.Au.get(t);if(s&&s.hu)return Gt().add(s.key);{let o=Gt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Vw(r){const t=Ot(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Dw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=GD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BD.bind(null,t),t.Pu.H_=CD.bind(null,t.eventManager),t.Pu.yu=ND.bind(null,t.eventManager),t}function YD(r){const t=Ot(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HD.bind(null,t),t}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ef(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return $N(this.persistence,new KN,t.initialUser,this.serializer)}Cu(t){return new dw(Hp.mi,this.serializer)}Du(t){return new iD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class KD extends Lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){re(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ON(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new dw((s=>Ph.mi(s,n)),this.serializer)}}class ip{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Q0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FD.bind(null,this.syncEngine),await AD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ID})()}createDatastore(t){const n=ef(t.databaseInfo.databaseId),s=(function(u){return new lD(u)})(t.databaseInfo);return(function(u,f,m,p){return new fD(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new mD(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>Q0(this.syncEngine,n,0)),(function(){return H0.v()?new H0:new rD})())}createSyncEngine(t,n){return(function(o,u,f,m,p,g,E){const T=new MD(o,u,f,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ot(n);pt(Ea,"RemoteStore shutting down."),s.Ea.add(5),await Iu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Pr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class QD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{pt(Ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(pt(Ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=$p(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Rm(r,t){r.asyncQueue.verifyOperationInProgress(),pt(Ns,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await mw(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function $0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await XD(r);pt(Ns,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>F0(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>F0(t.remoteStore,o))),r._onlineComponents=t}async function XD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pt(Ns,"Using user provided OfflineComponentProvider");try{await Rm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===at.FAILED_PRECONDITION||o.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await Rm(r,new Lh)}}else pt(Ns,"Using default OfflineComponentProvider"),await Rm(r,new KD(void 0));return r._offlineComponents}async function kw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pt(Ns,"Using user provided OnlineComponentProvider"),await $0(r,r._uninitializedComponentsProvider._online)):(pt(Ns,"Using default OnlineComponentProvider"),await $0(r,new ip))),r._onlineComponents}function $D(r){return kw(r).then((t=>t.syncEngine))}async function Lw(r){const t=await kw(r),n=t.eventManager;return n.onListen=VD.bind(null,t.syncEngine),n.onUnlisten=LD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=PD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=UD.bind(null,t.syncEngine),n}function WD(r,t,n={}){const s=new xr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new Pw({next:R=>{E.Nu(),f.enqueueAndForget((()=>Aw(u,T)));const x=R.docs.has(m);!x&&R.fromCache?g.reject(new _t(at.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&R.fromCache&&p&&p.source==="server"?g.reject(new _t(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new Rw(Pp(m.path),E,{includeMetadataChanges:!0,qa:!0});return Sw(u,T)})(await Lw(r),r.asyncQueue,t,n,s))),s.promise}function ZD(r,t,n={}){const s=new xr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new Pw({next:R=>{E.Nu(),f.enqueueAndForget((()=>Aw(u,T))),R.fromCache&&p.source==="server"?g.reject(new _t(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new Rw(m,E,{includeMetadataChanges:!0,qa:!0});return Sw(u,T)})(await Lw(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="firestore.googleapis.com",Z0=!0;class J0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new _t(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zw,this.ssl=Z0}else this.host=t.host,this.ssl=t.ssl??Z0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=fw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<DN)throw new _t(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}d2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uw(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _t(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _t(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _t(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new i2;switch(s.type){case"firstParty":return new o2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _t(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=W0.get(n);s&&(pt("ComponentProvider","Removing Datastore"),W0.delete(n),s.terminate())})(this),Promise.resolve()}}function JD(r,t,n,s={}){r=Qi(r,sf);const o=Vo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(DE(`https://${m}`),xE("Firestore",!0)),u.host!==zw&&u.host!==m&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!pa(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=En.MOCK_USER;else{g=dA(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new _t(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new En(T)}r._authCredentials=new r2(new AT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new af(this.firestore,t,this._query)}}class je{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Su(n,je._jsonSchema))return new je(t,s||null,new Tt(ge.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Be("string",je._jsonSchemaVersion),referencePath:Be("string")};class bs extends af{constructor(t,n,s){super(t,n,Pp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new Tt(t))}withConverter(t){return new bs(this.firestore,t,this._path)}}function Im(r,t,...n){if(r=dn(r),RT("collection","path",t),r instanceof sf){const s=ge.fromString(t,...n);return d0(s),new bs(r,null,s)}{if(!(r instanceof je||r instanceof bs))throw new _t(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ge.fromString(t,...n));return d0(s),new bs(r.firestore,null,s)}}function ji(r,t,...n){if(r=dn(r),arguments.length===1&&(t=Cp.newId()),RT("doc","path",t),r instanceof sf){const s=ge.fromString(t,...n);return f0(s),new je(r,null,new Tt(s))}{if(!(r instanceof je||r instanceof bs))throw new _t(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ge.fromString(t,...n));return f0(s),new je(r.firestore,r instanceof bs?r.converter:null,new Tt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="AsyncQueue";class eE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gw(this,"async_queue_retry"),this._c=()=>{const s=Am();s&&pt(tE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!zo(t))throw t;pt(tE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Pr("INTERNAL UNHANDLED ERROR: ",nE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Xp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&It(47125,{Pc:nE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function nE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class jo extends sf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new eE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new eE(t),this._firestoreClient=void 0,await t}}}function tx(r,t){const n=typeof r=="object"?r:PE(),s=typeof r=="string"?r:Ch,o=vp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=hA("firestore");u&&JD(o,...u)}return o}function tg(r){if(r._terminated)throw new _t(at.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ex(r),r._firestoreClient}function ex(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new S2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Uw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new QD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new oi(mn.fromBase64String(t))}catch(n){throw new _t(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new oi(mn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Su(t,oi._jsonSchema))return oi.fromBase64String(t.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:Be("string",oi._jsonSchemaVersion),bytes:Be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new _t(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new _t(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new _t(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(t){if(Su(t,Yi._jsonSchema))return new Yi(t.latitude,t.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Be("string",Yi._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Su(t,Ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ki(t.vectorValues);throw new _t(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:Be("string",Ki._jsonSchemaVersion),vectorValues:Be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=/^__.*__$/;class ix{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Vs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Au(t,this.data,n,this.fieldTransforms)}}class Bw{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Vs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function jw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It(40011,{Ac:r})}}class ng{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ng({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Uh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(jw(this.Ac)&&nx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class rx{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ef(t)}Cc(t,n,s,o=!1){return new ng({Ac:t,methodName:n,Dc:s,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hw(r){const t=r._freezeSettings(),n=ef(r._databaseId);return new rx(r._databaseId,!!t.ignoreUndefinedProperties,n)}function sx(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);ig("Data must be an object, but it was:",f,s);const m=qw(s,f);let p,g;if(u.merge)p=new Kn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const R=rp(t,T,n);if(!f.contains(R))throw new _t(at.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Gw(E,R)||E.push(R)}p=new Kn(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new ix(new kn(m),p,g)}class lf extends eg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof lf}}function ax(r,t,n,s){const o=r.Cc(1,t,n);ig("Data must be an object, but it was:",o,s);const u=[],f=kn.empty();Ms(s,((p,g)=>{const E=rg(t,p,n);g=dn(g);const T=o.yc(E);if(g instanceof lf)u.push(E);else{const R=uf(g,T);R!=null&&(u.push(E),f.set(E,R))}}));const m=new Kn(u);return new Bw(f,m,o.fieldTransforms)}function ox(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[rp(t,s,n)],p=[o];if(u.length%2!=0)throw new _t(at.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(rp(t,u[R])),p.push(u[R+1]);const g=[],E=kn.empty();for(let R=m.length-1;R>=0;--R)if(!Gw(g,m[R])){const x=m[R];let H=p[R];H=dn(H);const Z=f.yc(x);if(H instanceof lf)g.push(x);else{const k=uf(H,Z);k!=null&&(g.push(x),E.set(x,k))}}const T=new Kn(g);return new Bw(E,T,f.fieldTransforms)}function uf(r,t){if(Fw(r=dn(r)))return ig("Unsupported field value:",t,r),qw(r,t);if(r instanceof eg)return(function(s,o){if(!jw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=uf(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=dn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Q2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ye.fromDate(s);return{timestampValue:Vh(o.serializer,u)}}if(s instanceof ye){const u=new ye(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(s instanceof Yi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oi)return{bytesValue:sw(o.serializer,s._byteString)};if(s instanceof je){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ki)return(function(f,m){return{mapValue:{fields:{[PT]:{stringValue:kT},[Nh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return kp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Np(s)}`)})(r,t)}function qw(r,t){const n={};return NT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(r,((s,o)=>{const u=uf(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Fw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ye||r instanceof Yi||r instanceof oi||r instanceof je||r instanceof eg||r instanceof Ki)}function ig(r,t,n){if(!Fw(n)||!IT(n)){const s=Np(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function rp(r,t,n){if((t=dn(t))instanceof of)return t._internalPath;if(typeof t=="string")return rg(r,t);throw Uh("Field path arguments must be of type string or ",r,!1,void 0,n)}const lx=new RegExp("[~\\*/\\[\\]]");function rg(r,t,n){if(t.search(lx)>=0)throw Uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new of(...t.split("."))._internalPath}catch{throw Uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Uh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new _t(at.INVALID_ARGUMENT,m+r+p)}function Gw(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ux(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Kw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ux extends Yw{data(){return super.data()}}function Kw(r,t){return typeof t=="string"?rg(r,t):t instanceof of?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new _t(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hx{convertValue(t,n="none"){switch(Is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Rs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw It(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ms(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Nh].arrayValue?.values?.map((s=>Ve(s.doubleValue)));return new Ki(n)}convertGeoPoint(t){return new Yi(Ve(t.latitude),Ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Qh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hu(t));default:return null}}convertTimestamp(t){const n=As(t);return new ye(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ge.fromString(t);re(hw(s),9688,{name:t});const o=new fu(s.get(1),s.get(3)),u=new Tt(s.popFirst(5));return o.isEqual(n)||Pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Wl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class da extends Yw{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Kw("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Be("string",da._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class gh extends da{data(t={}){return super.data(t)}}class So{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new gh(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:dx(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=So._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function dx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(r){r=Qi(r,je);const t=Qi(r.firestore,jo);return WD(tg(t),r._key).then((n=>px(t,r,n)))}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:Be("string",So._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class Qw extends hx{constructor(t){super(),this.firestore=t}convertBytes(t){return new oi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,n)}}function Cm(r){r=Qi(r,af);const t=Qi(r.firestore,jo),n=tg(t),s=new Qw(t);return cx(r._query),ZD(n,r._query).then((o=>new So(t,s,r,o)))}function Xw(r,t,n){r=Qi(r,je);const s=Qi(r.firestore,jo),o=fx(r.converter,t);return sg(s,[sx(Hw(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,_i.none())])}function cf(r,t,n,...s){r=Qi(r,je);const o=Qi(r.firestore,jo),u=Hw(o);let f;return f=typeof(t=dn(t))=="string"||t instanceof of?ox(u,"updateDoc",r._key,t,n,s):ax(u,"updateDoc",r._key,t),sg(o,[f.toMutation(r._key,_i.exists(!0))])}function mx(r){return sg(Qi(r.firestore,jo),[new Lp(r._key,_i.none())])}function sg(r,t){return(function(s,o){const u=new xr;return s.asyncQueue.enqueueAndForget((async()=>zD(await $D(s),o,u))),u.promise})(tg(r),t)}function px(r,t,n){const s=n.docs.get(t._key),o=new Qw(r);return new da(r,o,t._key,s,new Wl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){Lo=o})(Po),Ao(new ga("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new jo(new s2(s.getProvider("auth-internal")),new l2(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _t(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ts(l0,u0,t),Ts(l0,u0,"esm2020")})();const gx={apiKey:"AIzaSyAAIRr0AEwT348bux8hWKFPm_bJiXc8Zns",authDomain:"secretsanta-c32f4.firebaseapp.com",projectId:"secretsanta-c32f4",storageBucket:"secretsanta-c32f4.firebasestorage.app",messagingSenderId:"1023415231199",appId:"1:1023415231199:web:7c675aabc8bb90f2a97f6a"},$w=VE(gx),zh=JC($w),Yn=tx($w);function Ho(){const[r,t]=G.useState(null),[n,s]=G.useState(!0);return G.useEffect(()=>{const o=jI(zh,u=>{t(u),s(!1)});return()=>o()},[]),{user:r,loading:n}}function yx(){const[r,t]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),[f,m]=G.useState(!1),p=async g=>{g.preventDefault();try{f?await LI(zh,r,n):await UI(zh,r,n)}catch(E){u(E.message)}};return it.jsx("div",{className:"flex h-screen items-center justify-center relative",children:it.jsxs("form",{onSubmit:p,className:"bg-white p-6 rounded-xl shadow-md w-80",children:[it.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Secret Santa 🎅"}),o&&it.jsx("p",{className:"text-red-500 mb-2 text-sm",children:o}),it.jsx("input",{type:"email",placeholder:"Email",className:"w-full mb-2 p-2 border rounded",value:r,onChange:g=>t(g.target.value)}),it.jsx("input",{type:"password",placeholder:"Hasło",className:"w-full mb-4 p-2 border rounded",value:n,onChange:g=>s(g.target.value)}),it.jsx("button",{className:"w-full bg-blue-500 text-white py-2 cursor-pointer rounded mb-2 hover:bg-blue-600",children:f?"Zarejestruj":"Zaloguj"}),it.jsx("p",{onClick:()=>m(!f),className:"text-center text-blue-500 cursor-pointer text-sm",children:f?"Masz już konto? Zaloguj się":"Nie masz konta? Zarejestruj się"})]})})}function vx(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}const _x=r=>{switch(r){case"success":return wx;case"info":return Sx;case"warning":return bx;case"error":return Ax;default:return null}},Ex=Array(12).fill(0),Tx=({visible:r,className:t})=>ft.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":r},ft.createElement("div",{className:"sonner-spinner"},Ex.map((n,s)=>ft.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),wx=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ft.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bx=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ft.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Sx=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ft.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ax=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ft.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Rx=ft.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ft.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ft.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ix=()=>{const[r,t]=ft.useState(document.hidden);return ft.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),r};let sp=1;class Cx{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...o}=t,u=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:sp++,f=this.toasts.find(p=>p.id===u),m=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),f?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...t,id:u,title:s}),{...p,...t,id:u,dismissible:m,title:s}):p):this.addToast({title:s,...o,dismissible:m,id:u}),u},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let u=s!==void 0,f;const m=o.then(async g=>{if(f=["resolve",g],ft.isValidElement(g))u=!1,this.create({id:s,type:"default",message:g});else if(Dx(g)&&!g.ok){u=!1;const T=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,R=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,H=typeof T=="object"&&!ft.isValidElement(T)?T:{message:T};this.create({id:s,type:"error",description:R,...H})}else if(g instanceof Error){u=!1;const T=typeof n.error=="function"?await n.error(g):n.error,R=typeof n.description=="function"?await n.description(g):n.description,H=typeof T=="object"&&!ft.isValidElement(T)?T:{message:T};this.create({id:s,type:"error",description:R,...H})}else if(n.success!==void 0){u=!1;const T=typeof n.success=="function"?await n.success(g):n.success,R=typeof n.description=="function"?await n.description(g):n.description,H=typeof T=="object"&&!ft.isValidElement(T)?T:{message:T};this.create({id:s,type:"success",description:R,...H})}}).catch(async g=>{if(f=["reject",g],n.error!==void 0){u=!1;const E=typeof n.error=="function"?await n.error(g):n.error,T=typeof n.description=="function"?await n.description(g):n.description,x=typeof E=="object"&&!ft.isValidElement(E)?E:{message:E};this.create({id:s,type:"error",description:T,...x})}}).finally(()=>{u&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),p=()=>new Promise((g,E)=>m.then(()=>f[0]==="reject"?E(f[1]):g(f[1])).catch(E));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(t,n)=>{const s=n?.id||sp++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Vn=new Cx,Nx=(r,t)=>{const n=t?.id||sp++;return Vn.addToast({title:r,...t,id:n}),n},Dx=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",xx=Nx,Ox=()=>Vn.toasts,Mx=()=>Vn.getActiveToasts(),vs=Object.assign(xx,{success:Vn.success,info:Vn.info,warning:Vn.warning,error:Vn.error,custom:Vn.custom,message:Vn.message,promise:Vn.promise,dismiss:Vn.dismiss,loading:Vn.loading},{getHistory:Ox,getToasts:Mx});vx("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ih(r){return r.label!==void 0}const Vx=3,Px="24px",kx="16px",iE=4e3,Lx=356,Ux=14,zx=45,Bx=200;function zi(...r){return r.filter(Boolean).join(" ")}function jx(r){const[t,n]=r.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const Hx=r=>{var t,n,s,o,u,f,m,p,g;const{invert:E,toast:T,unstyled:R,interacting:x,setHeights:H,visibleToasts:Z,heights:k,index:U,toasts:X,expanded:nt,removeToast:dt,defaultRichColors:gt,closeButton:bt,style:V,cancelButtonStyle:I,actionButtonStyle:C,className:O="",descriptionClassName:P="",duration:L,position:N,gap:me,expandByDefault:Wt,classNames:Y,icons:lt,closeButtonAriaLabel:yt="Close toast"}=r,[Mt,w]=ft.useState(null),[A,W]=ft.useState(null),[B,et]=ft.useState(!1),[ot,ut]=ft.useState(!1),[mt,ct]=ft.useState(!1),[xt,Ht]=ft.useState(!1),[Pt,Ut]=ft.useState(!1),[he,Nt]=ft.useState(0),[Ie,He]=ft.useState(0),ee=ft.useRef(T.duration||L||iE),pn=ft.useRef(null),be=ft.useRef(null),qe=U===0,ui=U+1<=Z,Fe=T.type,bn=T.dismissible!==!1,wi=T.className||"",Ur=T.descriptionClassName||"",ne=ft.useMemo(()=>k.findIndex(wt=>wt.toastId===T.id)||0,[k,T.id]),$t=ft.useMemo(()=>{var wt;return(wt=T.closeButton)!=null?wt:bt},[T.closeButton,bt]),We=ft.useMemo(()=>T.duration||L||iE,[T.duration,L]),Se=ft.useRef(0),Cn=ft.useRef(0),bi=ft.useRef(0),gn=ft.useRef(null),[ci,Zi]=N.split("-"),Nn=ft.useMemo(()=>k.reduce((wt,ve,pe)=>pe>=ne?wt:wt+ve.height,0),[k,ne]),Ji=Ix(),tr=T.invert||E,er=Fe==="loading";Cn.current=ft.useMemo(()=>ne*me+Nn,[ne,Nn]),ft.useEffect(()=>{ee.current=We},[We]),ft.useEffect(()=>{et(!0)},[]),ft.useEffect(()=>{const wt=be.current;if(wt){const ve=wt.getBoundingClientRect().height;return He(ve),H(pe=>[{toastId:T.id,height:ve,position:T.position},...pe]),()=>H(pe=>pe.filter(Pe=>Pe.toastId!==T.id))}},[H,T.id]),ft.useLayoutEffect(()=>{if(!B)return;const wt=be.current,ve=wt.style.height;wt.style.height="auto";const pe=wt.getBoundingClientRect().height;wt.style.height=ve,He(pe),H(Pe=>Pe.find(Ce=>Ce.toastId===T.id)?Pe.map(Ce=>Ce.toastId===T.id?{...Ce,height:pe}:Ce):[{toastId:T.id,height:pe,position:T.position},...Pe])},[B,T.title,T.description,H,T.id,T.jsx,T.action,T.cancel]);const Dn=ft.useCallback(()=>{ut(!0),Nt(Cn.current),H(wt=>wt.filter(ve=>ve.toastId!==T.id)),setTimeout(()=>{dt(T)},Bx)},[T,dt,H,Cn]);ft.useEffect(()=>{if(T.promise&&Fe==="loading"||T.duration===1/0||T.type==="loading")return;let wt;return nt||x||Ji?(()=>{if(bi.current<Se.current){const Pe=new Date().getTime()-Se.current;ee.current=ee.current-Pe}bi.current=new Date().getTime()})():(()=>{ee.current!==1/0&&(Se.current=new Date().getTime(),wt=setTimeout(()=>{T.onAutoClose==null||T.onAutoClose.call(T,T),Dn()},ee.current))})(),()=>clearTimeout(wt)},[nt,x,T,Fe,Ji,Dn]),ft.useEffect(()=>{T.delete&&(Dn(),T.onDismiss==null||T.onDismiss.call(T,T))},[Dn,T.delete]);function Ps(){var wt;if(lt?.loading){var ve;return ft.createElement("div",{className:zi(Y?.loader,T==null||(ve=T.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":Fe==="loading"},lt.loading)}return ft.createElement(Tx,{className:zi(Y?.loader,T==null||(wt=T.classNames)==null?void 0:wt.loader),visible:Fe==="loading"})}const hi=T.icon||lt?.[Fe]||_x(Fe);var Qn,zr;return ft.createElement("li",{tabIndex:0,ref:be,className:zi(O,wi,Y?.toast,T==null||(t=T.classNames)==null?void 0:t.toast,Y?.default,Y?.[Fe],T==null||(n=T.classNames)==null?void 0:n[Fe]),"data-sonner-toast":"","data-rich-colors":(Qn=T.richColors)!=null?Qn:gt,"data-styled":!(T.jsx||T.unstyled||R),"data-mounted":B,"data-promise":!!T.promise,"data-swiped":Pt,"data-removed":ot,"data-visible":ui,"data-y-position":ci,"data-x-position":Zi,"data-index":U,"data-front":qe,"data-swiping":mt,"data-dismissible":bn,"data-type":Fe,"data-invert":tr,"data-swipe-out":xt,"data-swipe-direction":A,"data-expanded":!!(nt||Wt&&B),"data-testid":T.testId,style:{"--index":U,"--toasts-before":U,"--z-index":X.length-U,"--offset":`${ot?he:Cn.current}px`,"--initial-height":Wt?"auto":`${Ie}px`,...V,...T.style},onDragEnd:()=>{ct(!1),w(null),gn.current=null},onPointerDown:wt=>{wt.button!==2&&(er||!bn||(pn.current=new Date,Nt(Cn.current),wt.target.setPointerCapture(wt.pointerId),wt.target.tagName!=="BUTTON"&&(ct(!0),gn.current={x:wt.clientX,y:wt.clientY})))},onPointerUp:()=>{var wt,ve,pe;if(xt||!bn)return;gn.current=null;const Pe=Number(((wt=be.current)==null?void 0:wt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ln=Number(((ve=be.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ce=new Date().getTime()-((pe=pn.current)==null?void 0:pe.getTime()),zt=Mt==="x"?Pe:Ln,_e=Math.abs(zt)/Ce;if(Math.abs(zt)>=zx||_e>.11){Nt(Cn.current),T.onDismiss==null||T.onDismiss.call(T,T),W(Mt==="x"?Pe>0?"right":"left":Ln>0?"down":"up"),Dn(),Ht(!0);return}else{var Zt,Ee;(Zt=be.current)==null||Zt.style.setProperty("--swipe-amount-x","0px"),(Ee=be.current)==null||Ee.style.setProperty("--swipe-amount-y","0px")}Ut(!1),ct(!1),w(null)},onPointerMove:wt=>{var ve,pe,Pe;if(!gn.current||!bn||((ve=window.getSelection())==null?void 0:ve.toString().length)>0)return;const Ce=wt.clientY-gn.current.y,zt=wt.clientX-gn.current.x;var _e;const Zt=(_e=r.swipeDirections)!=null?_e:jx(N);!Mt&&(Math.abs(zt)>1||Math.abs(Ce)>1)&&w(Math.abs(zt)>Math.abs(Ce)?"x":"y");let Ee={x:0,y:0};const Br=fi=>1/(1.5+Math.abs(fi)/20);if(Mt==="y"){if(Zt.includes("top")||Zt.includes("bottom"))if(Zt.includes("top")&&Ce<0||Zt.includes("bottom")&&Ce>0)Ee.y=Ce;else{const fi=Ce*Br(Ce);Ee.y=Math.abs(fi)<Math.abs(Ce)?fi:Ce}}else if(Mt==="x"&&(Zt.includes("left")||Zt.includes("right")))if(Zt.includes("left")&&zt<0||Zt.includes("right")&&zt>0)Ee.x=zt;else{const fi=zt*Br(zt);Ee.x=Math.abs(fi)<Math.abs(zt)?fi:zt}(Math.abs(Ee.x)>0||Math.abs(Ee.y)>0)&&Ut(!0),(pe=be.current)==null||pe.style.setProperty("--swipe-amount-x",`${Ee.x}px`),(Pe=be.current)==null||Pe.style.setProperty("--swipe-amount-y",`${Ee.y}px`)}},$t&&!T.jsx&&Fe!=="loading"?ft.createElement("button",{"aria-label":yt,"data-disabled":er,"data-close-button":!0,onClick:er||!bn?()=>{}:()=>{Dn(),T.onDismiss==null||T.onDismiss.call(T,T)},className:zi(Y?.closeButton,T==null||(s=T.classNames)==null?void 0:s.closeButton)},(zr=lt?.close)!=null?zr:Rx):null,(Fe||T.icon||T.promise)&&T.icon!==null&&(lt?.[Fe]!==null||T.icon)?ft.createElement("div",{"data-icon":"",className:zi(Y?.icon,T==null||(o=T.classNames)==null?void 0:o.icon)},T.promise||T.type==="loading"&&!T.icon?T.icon||Ps():null,T.type!=="loading"?hi:null):null,ft.createElement("div",{"data-content":"",className:zi(Y?.content,T==null||(u=T.classNames)==null?void 0:u.content)},ft.createElement("div",{"data-title":"",className:zi(Y?.title,T==null||(f=T.classNames)==null?void 0:f.title)},T.jsx?T.jsx:typeof T.title=="function"?T.title():T.title),T.description?ft.createElement("div",{"data-description":"",className:zi(P,Ur,Y?.description,T==null||(m=T.classNames)==null?void 0:m.description)},typeof T.description=="function"?T.description():T.description):null),ft.isValidElement(T.cancel)?T.cancel:T.cancel&&ih(T.cancel)?ft.createElement("button",{"data-button":!0,"data-cancel":!0,style:T.cancelButtonStyle||I,onClick:wt=>{ih(T.cancel)&&bn&&(T.cancel.onClick==null||T.cancel.onClick.call(T.cancel,wt),Dn())},className:zi(Y?.cancelButton,T==null||(p=T.classNames)==null?void 0:p.cancelButton)},T.cancel.label):null,ft.isValidElement(T.action)?T.action:T.action&&ih(T.action)?ft.createElement("button",{"data-button":!0,"data-action":!0,style:T.actionButtonStyle||C,onClick:wt=>{ih(T.action)&&(T.action.onClick==null||T.action.onClick.call(T.action,wt),!wt.defaultPrevented&&Dn())},className:zi(Y?.actionButton,T==null||(g=T.classNames)==null?void 0:g.actionButton)},T.action.label):null)};function rE(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function qx(r,t){const n={};return[r,t].forEach((s,o)=>{const u=o===1,f=u?"--mobile-offset":"--offset",m=u?kx:Px;function p(g){["top","right","bottom","left"].forEach(E=>{n[`${f}-${E}`]=typeof g=="number"?`${g}px`:g})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(g=>{s[g]===void 0?n[`${f}-${g}`]=m:n[`${f}-${g}`]=typeof s[g]=="number"?`${s[g]}px`:s[g]}):p(m)}),n}const Fx=ft.forwardRef(function(t,n){const{id:s,invert:o,position:u="bottom-right",hotkey:f=["altKey","KeyT"],expand:m,closeButton:p,className:g,offset:E,mobileOffset:T,theme:R="light",richColors:x,duration:H,style:Z,visibleToasts:k=Vx,toastOptions:U,dir:X=rE(),gap:nt=Ux,icons:dt,containerAriaLabel:gt="Notifications"}=t,[bt,V]=ft.useState([]),I=ft.useMemo(()=>s?bt.filter(B=>B.toasterId===s):bt.filter(B=>!B.toasterId),[bt,s]),C=ft.useMemo(()=>Array.from(new Set([u].concat(I.filter(B=>B.position).map(B=>B.position)))),[I,u]),[O,P]=ft.useState([]),[L,N]=ft.useState(!1),[me,Wt]=ft.useState(!1),[Y,lt]=ft.useState(R!=="system"?R:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),yt=ft.useRef(null),Mt=f.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=ft.useRef(null),A=ft.useRef(!1),W=ft.useCallback(B=>{V(et=>{var ot;return(ot=et.find(ut=>ut.id===B.id))!=null&&ot.delete||Vn.dismiss(B.id),et.filter(({id:ut})=>ut!==B.id)})},[]);return ft.useEffect(()=>Vn.subscribe(B=>{if(B.dismiss){requestAnimationFrame(()=>{V(et=>et.map(ot=>ot.id===B.id?{...ot,delete:!0}:ot))});return}setTimeout(()=>{nA.flushSync(()=>{V(et=>{const ot=et.findIndex(ut=>ut.id===B.id);return ot!==-1?[...et.slice(0,ot),{...et[ot],...B},...et.slice(ot+1)]:[B,...et]})})})}),[bt]),ft.useEffect(()=>{if(R!=="system"){lt(R);return}if(R==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?lt("dark"):lt("light")),typeof window>"u")return;const B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:et})=>{lt(et?"dark":"light")})}catch{B.addListener(({matches:ot})=>{try{lt(ot?"dark":"light")}catch(ut){console.error(ut)}})}},[R]),ft.useEffect(()=>{bt.length<=1&&N(!1)},[bt]),ft.useEffect(()=>{const B=et=>{var ot;if(f.every(ct=>et[ct]||et.code===ct)){var mt;N(!0),(mt=yt.current)==null||mt.focus()}et.code==="Escape"&&(document.activeElement===yt.current||(ot=yt.current)!=null&&ot.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[f]),ft.useEffect(()=>{if(yt.current)return()=>{w.current&&(w.current.focus({preventScroll:!0}),w.current=null,A.current=!1)}},[yt.current]),ft.createElement("section",{ref:n,"aria-label":`${gt} ${Mt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((B,et)=>{var ot;const[ut,mt]=B.split("-");return I.length?ft.createElement("ol",{key:B,dir:X==="auto"?rE():X,tabIndex:-1,ref:yt,className:g,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":ut,"data-x-position":mt,style:{"--front-toast-height":`${((ot=O[0])==null?void 0:ot.height)||0}px`,"--width":`${Lx}px`,"--gap":`${nt}px`,...Z,...qx(E,T)},onBlur:ct=>{A.current&&!ct.currentTarget.contains(ct.relatedTarget)&&(A.current=!1,w.current&&(w.current.focus({preventScroll:!0}),w.current=null))},onFocus:ct=>{ct.target instanceof HTMLElement&&ct.target.dataset.dismissible==="false"||A.current||(A.current=!0,w.current=ct.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{me||N(!1)},onDragEnd:()=>N(!1),onPointerDown:ct=>{ct.target instanceof HTMLElement&&ct.target.dataset.dismissible==="false"||Wt(!0)},onPointerUp:()=>Wt(!1)},I.filter(ct=>!ct.position&&et===0||ct.position===B).map((ct,xt)=>{var Ht,Pt;return ft.createElement(Hx,{key:ct.id,icons:dt,index:xt,toast:ct,defaultRichColors:x,duration:(Ht=U?.duration)!=null?Ht:H,className:U?.className,descriptionClassName:U?.descriptionClassName,invert:o,visibleToasts:k,closeButton:(Pt=U?.closeButton)!=null?Pt:p,interacting:me,position:B,style:U?.style,unstyled:U?.unstyled,classNames:U?.classNames,cancelButtonStyle:U?.cancelButtonStyle,actionButtonStyle:U?.actionButtonStyle,closeButtonAriaLabel:U?.closeButtonAriaLabel,removeToast:W,toasts:I.filter(Ut=>Ut.position==ct.position),heights:O.filter(Ut=>Ut.position==ct.position),setHeights:P,expandByDefault:m,gap:nt,expanded:L,swipeDirections:t.swipeDirections})})):null}))});var Nu={};(function r(t,n,s,o){var u=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!t.OffscreenCanvas)return!1;var w=new OffscreenCanvas(1,1),A=w.getContext("2d");A.fillRect(0,0,1,1);var W=w.transferToImageBitmap();try{A.createPattern(W,"no-repeat")}catch{return!1}return!0})();function p(){}function g(w){var A=n.exports.Promise,W=A!==void 0?A:t.Promise;return typeof W=="function"?new W(w):(w(p,p),null)}var E=(function(w,A){return{transform:function(W){if(w)return W;if(A.has(W))return A.get(W);var B=new OffscreenCanvas(W.width,W.height),et=B.getContext("2d");return et.drawImage(W,0,0),A.set(W,B),B},clear:function(){A.clear()}}})(m,new Map),T=(function(){var w=Math.floor(16.666666666666668),A,W,B={},et=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(A=function(ot){var ut=Math.random();return B[ut]=requestAnimationFrame(function mt(ct){et===ct||et+w-1<ct?(et=ct,delete B[ut],ot()):B[ut]=requestAnimationFrame(mt)}),ut},W=function(ot){B[ot]&&cancelAnimationFrame(B[ot])}):(A=function(ot){return setTimeout(ot,w)},W=function(ot){return clearTimeout(ot)}),{frame:A,cancel:W}})(),R=(function(){var w,A,W={};function B(et){function ot(ut,mt){et.postMessage({options:ut||{},callback:mt})}et.init=function(mt){var ct=mt.transferControlToOffscreen();et.postMessage({canvas:ct},[ct])},et.fire=function(mt,ct,xt){if(A)return ot(mt,null),A;var Ht=Math.random().toString(36).slice(2);return A=g(function(Pt){function Ut(he){he.data.callback===Ht&&(delete W[Ht],et.removeEventListener("message",Ut),A=null,E.clear(),xt(),Pt())}et.addEventListener("message",Ut),ot(mt,Ht),W[Ht]=Ut.bind(null,{data:{callback:Ht}})}),A},et.reset=function(){et.postMessage({reset:!0});for(var mt in W)W[mt](),delete W[mt]}}return function(){if(w)return w;if(!s&&u){var et=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{w=new Worker(URL.createObjectURL(new Blob([et])))}catch(ot){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ot),null}B(w)}return w}})(),x={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function H(w,A){return A?A(w):w}function Z(w){return w!=null}function k(w,A,W){return H(w&&Z(w[A])?w[A]:x[A],W)}function U(w){return w<0?0:Math.floor(w)}function X(w,A){return Math.floor(Math.random()*(A-w))+w}function nt(w){return parseInt(w,16)}function dt(w){return w.map(gt)}function gt(w){var A=String(w).replace(/[^0-9a-f]/gi,"");return A.length<6&&(A=A[0]+A[0]+A[1]+A[1]+A[2]+A[2]),{r:nt(A.substring(0,2)),g:nt(A.substring(2,4)),b:nt(A.substring(4,6))}}function bt(w){var A=k(w,"origin",Object);return A.x=k(A,"x",Number),A.y=k(A,"y",Number),A}function V(w){w.width=document.documentElement.clientWidth,w.height=document.documentElement.clientHeight}function I(w){var A=w.getBoundingClientRect();w.width=A.width,w.height=A.height}function C(w){var A=document.createElement("canvas");return A.style.position="fixed",A.style.top="0px",A.style.left="0px",A.style.pointerEvents="none",A.style.zIndex=w,A}function O(w,A,W,B,et,ot,ut,mt,ct){w.save(),w.translate(A,W),w.rotate(ot),w.scale(B,et),w.arc(0,0,1,ut,mt,ct),w.restore()}function P(w){var A=w.angle*(Math.PI/180),W=w.spread*(Math.PI/180);return{x:w.x,y:w.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:w.startVelocity*.5+Math.random()*w.startVelocity,angle2D:-A+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:w.color,shape:w.shape,tick:0,totalTicks:w.ticks,decay:w.decay,drift:w.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:w.gravity*3,ovalScalar:.6,scalar:w.scalar,flat:w.flat}}function L(w,A){A.x+=Math.cos(A.angle2D)*A.velocity+A.drift,A.y+=Math.sin(A.angle2D)*A.velocity+A.gravity,A.velocity*=A.decay,A.flat?(A.wobble=0,A.wobbleX=A.x+10*A.scalar,A.wobbleY=A.y+10*A.scalar,A.tiltSin=0,A.tiltCos=0,A.random=1):(A.wobble+=A.wobbleSpeed,A.wobbleX=A.x+10*A.scalar*Math.cos(A.wobble),A.wobbleY=A.y+10*A.scalar*Math.sin(A.wobble),A.tiltAngle+=.1,A.tiltSin=Math.sin(A.tiltAngle),A.tiltCos=Math.cos(A.tiltAngle),A.random=Math.random()+2);var W=A.tick++/A.totalTicks,B=A.x+A.random*A.tiltCos,et=A.y+A.random*A.tiltSin,ot=A.wobbleX+A.random*A.tiltCos,ut=A.wobbleY+A.random*A.tiltSin;if(w.fillStyle="rgba("+A.color.r+", "+A.color.g+", "+A.color.b+", "+(1-W)+")",w.beginPath(),f&&A.shape.type==="path"&&typeof A.shape.path=="string"&&Array.isArray(A.shape.matrix))w.fill(lt(A.shape.path,A.shape.matrix,A.x,A.y,Math.abs(ot-B)*.1,Math.abs(ut-et)*.1,Math.PI/10*A.wobble));else if(A.shape.type==="bitmap"){var mt=Math.PI/10*A.wobble,ct=Math.abs(ot-B)*.1,xt=Math.abs(ut-et)*.1,Ht=A.shape.bitmap.width*A.scalar,Pt=A.shape.bitmap.height*A.scalar,Ut=new DOMMatrix([Math.cos(mt)*ct,Math.sin(mt)*ct,-Math.sin(mt)*xt,Math.cos(mt)*xt,A.x,A.y]);Ut.multiplySelf(new DOMMatrix(A.shape.matrix));var he=w.createPattern(E.transform(A.shape.bitmap),"no-repeat");he.setTransform(Ut),w.globalAlpha=1-W,w.fillStyle=he,w.fillRect(A.x-Ht/2,A.y-Pt/2,Ht,Pt),w.globalAlpha=1}else if(A.shape==="circle")w.ellipse?w.ellipse(A.x,A.y,Math.abs(ot-B)*A.ovalScalar,Math.abs(ut-et)*A.ovalScalar,Math.PI/10*A.wobble,0,2*Math.PI):O(w,A.x,A.y,Math.abs(ot-B)*A.ovalScalar,Math.abs(ut-et)*A.ovalScalar,Math.PI/10*A.wobble,0,2*Math.PI);else if(A.shape==="star")for(var Nt=Math.PI/2*3,Ie=4*A.scalar,He=8*A.scalar,ee=A.x,pn=A.y,be=5,qe=Math.PI/be;be--;)ee=A.x+Math.cos(Nt)*He,pn=A.y+Math.sin(Nt)*He,w.lineTo(ee,pn),Nt+=qe,ee=A.x+Math.cos(Nt)*Ie,pn=A.y+Math.sin(Nt)*Ie,w.lineTo(ee,pn),Nt+=qe;else w.moveTo(Math.floor(A.x),Math.floor(A.y)),w.lineTo(Math.floor(A.wobbleX),Math.floor(et)),w.lineTo(Math.floor(ot),Math.floor(ut)),w.lineTo(Math.floor(B),Math.floor(A.wobbleY));return w.closePath(),w.fill(),A.tick<A.totalTicks}function N(w,A,W,B,et){var ot=A.slice(),ut=w.getContext("2d"),mt,ct,xt=g(function(Ht){function Pt(){mt=ct=null,ut.clearRect(0,0,B.width,B.height),E.clear(),et(),Ht()}function Ut(){s&&!(B.width===o.width&&B.height===o.height)&&(B.width=w.width=o.width,B.height=w.height=o.height),!B.width&&!B.height&&(W(w),B.width=w.width,B.height=w.height),ut.clearRect(0,0,B.width,B.height),ot=ot.filter(function(he){return L(ut,he)}),ot.length?mt=T.frame(Ut):Pt()}mt=T.frame(Ut),ct=Pt});return{addFettis:function(Ht){return ot=ot.concat(Ht),xt},canvas:w,promise:xt,reset:function(){mt&&T.cancel(mt),ct&&ct()}}}function me(w,A){var W=!w,B=!!k(A||{},"resize"),et=!1,ot=k(A,"disableForReducedMotion",Boolean),ut=u&&!!k(A||{},"useWorker"),mt=ut?R():null,ct=W?V:I,xt=w&&mt?!!w.__confetti_initialized:!1,Ht=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Pt;function Ut(Nt,Ie,He){for(var ee=k(Nt,"particleCount",U),pn=k(Nt,"angle",Number),be=k(Nt,"spread",Number),qe=k(Nt,"startVelocity",Number),ui=k(Nt,"decay",Number),Fe=k(Nt,"gravity",Number),bn=k(Nt,"drift",Number),wi=k(Nt,"colors",dt),Ur=k(Nt,"ticks",Number),ne=k(Nt,"shapes"),$t=k(Nt,"scalar"),We=!!k(Nt,"flat"),Se=bt(Nt),Cn=ee,bi=[],gn=w.width*Se.x,ci=w.height*Se.y;Cn--;)bi.push(P({x:gn,y:ci,angle:pn,spread:be,startVelocity:qe,color:wi[Cn%wi.length],shape:ne[X(0,ne.length)],ticks:Ur,decay:ui,gravity:Fe,drift:bn,scalar:$t,flat:We}));return Pt?Pt.addFettis(bi):(Pt=N(w,bi,ct,Ie,He),Pt.promise)}function he(Nt){var Ie=ot||k(Nt,"disableForReducedMotion",Boolean),He=k(Nt,"zIndex",Number);if(Ie&&Ht)return g(function(qe){qe()});W&&Pt?w=Pt.canvas:W&&!w&&(w=C(He),document.body.appendChild(w)),B&&!xt&&ct(w);var ee={width:w.width,height:w.height};mt&&!xt&&mt.init(w),xt=!0,mt&&(w.__confetti_initialized=!0);function pn(){if(mt){var qe={getBoundingClientRect:function(){if(!W)return w.getBoundingClientRect()}};ct(qe),mt.postMessage({resize:{width:qe.width,height:qe.height}});return}ee.width=ee.height=null}function be(){Pt=null,B&&(et=!1,t.removeEventListener("resize",pn)),W&&w&&(document.body.contains(w)&&document.body.removeChild(w),w=null,xt=!1)}return B&&!et&&(et=!0,t.addEventListener("resize",pn,!1)),mt?mt.fire(Nt,ee,be):Ut(Nt,ee,be)}return he.reset=function(){mt&&mt.reset(),Pt&&Pt.reset()},he}var Wt;function Y(){return Wt||(Wt=me(null,{useWorker:!0,resize:!0})),Wt}function lt(w,A,W,B,et,ot,ut){var mt=new Path2D(w),ct=new Path2D;ct.addPath(mt,new DOMMatrix(A));var xt=new Path2D;return xt.addPath(ct,new DOMMatrix([Math.cos(ut)*et,Math.sin(ut)*et,-Math.sin(ut)*ot,Math.cos(ut)*ot,W,B])),xt}function yt(w){if(!f)throw new Error("path confetti are not supported in this browser");var A,W;typeof w=="string"?A=w:(A=w.path,W=w.matrix);var B=new Path2D(A),et=document.createElement("canvas"),ot=et.getContext("2d");if(!W){for(var ut=1e3,mt=ut,ct=ut,xt=0,Ht=0,Pt,Ut,he=0;he<ut;he+=2)for(var Nt=0;Nt<ut;Nt+=2)ot.isPointInPath(B,he,Nt,"nonzero")&&(mt=Math.min(mt,he),ct=Math.min(ct,Nt),xt=Math.max(xt,he),Ht=Math.max(Ht,Nt));Pt=xt-mt,Ut=Ht-ct;var Ie=10,He=Math.min(Ie/Pt,Ie/Ut);W=[He,0,0,He,-Math.round(Pt/2+mt)*He,-Math.round(Ut/2+ct)*He]}return{type:"path",path:A,matrix:W}}function Mt(w){var A,W=1,B="#000000",et='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof w=="string"?A=w:(A=w.text,W="scalar"in w?w.scalar:W,et="fontFamily"in w?w.fontFamily:et,B="color"in w?w.color:B);var ot=10*W,ut=""+ot+"px "+et,mt=new OffscreenCanvas(ot,ot),ct=mt.getContext("2d");ct.font=ut;var xt=ct.measureText(A),Ht=Math.ceil(xt.actualBoundingBoxRight+xt.actualBoundingBoxLeft),Pt=Math.ceil(xt.actualBoundingBoxAscent+xt.actualBoundingBoxDescent),Ut=2,he=xt.actualBoundingBoxLeft+Ut,Nt=xt.actualBoundingBoxAscent+Ut;Ht+=Ut+Ut,Pt+=Ut+Ut,mt=new OffscreenCanvas(Ht,Pt),ct=mt.getContext("2d"),ct.font=ut,ct.fillStyle=B,ct.fillText(A,he,Nt);var Ie=1/W;return{type:"bitmap",bitmap:mt.transferToImageBitmap(),matrix:[Ie,0,0,Ie,-Ht*Ie/2,-Pt*Ie/2]}}n.exports=function(){return Y().apply(this,arguments)},n.exports.reset=function(){Y().reset()},n.exports.create=me,n.exports.shapeFromPath=yt,n.exports.shapeFromText=Mt})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Nu,!1);const Gx=Nu.exports;Nu.exports.create;const Yx=()=>{const{user:r,loading:t}=Ho(),[n,s]=G.useState(null),[o,u]=G.useState(!0),[f,m]=G.useState(!1),[p,g]=G.useState(null),E=async()=>{if(!r)return;const x=ji(Yn,"pairs",r.uid),H=await _o(x);if(!H.exists()){g(!1),u(!1);return}g(!0);const{recipientId:Z,revealed:k}=H.data();if(!Z){u(!1);return}if(!k){s(null),u(!1);return}const U=ji(Yn,"users",Z),X=await _o(U);if(X.exists()){const nt=X.data();s({firstName:nt.firstName||"",lastName:nt.lastName||"",wishlist:nt.wishlist||[]})}u(!1)},T=()=>{const H=Date.now()+2e3,Z={startVelocity:25,spread:360,ticks:60,zIndex:9999},k=setInterval(()=>{const U=H-Date.now();if(U<=0)return clearInterval(k);const X=80*(U/2e3);Gx({...Z,particleCount:X,origin:{x:Math.random(),y:Math.random()-.2}})},200)},R=async()=>{if(!r)return;const x=ji(Yn,"users",r.uid);if(!(await _o(x)).data()?.wishlist?.length)return m(!1),vs.info("Przed wylosowaniem uzupełnij swoją listę życzeń.");m(!0);const k=ji(Yn,"pairs",r.uid),U=await _o(k);if(!U.exists())return m(!1),alert("Nie masz jeszcze przypisanej osoby. Admin musi najpierw przeprowadzić losowanie.");const{revealed:X}=U.data();if(X)return m(!1),alert("Twoja wylosowana osoba jest już odkryta 🎁");await cf(k,{revealed:!0}),await E(),m(!1),vs.success("Wylosowałeś/aś swoją osobę 🎅"),T()};return G.useEffect(()=>{t||E()},[r,t]),o||t?it.jsx("p",{children:"Ładowanie wylosowanej osoby..."}):f?it.jsx("div",{className:"bg-yellow-100 p-4 rounded shadow",children:it.jsx("p",{children:"Losowanie w toku..."})}):p===!1?it.jsxs("div",{className:"bg-yellow-100 p-4 rounded shadow text-center",children:[it.jsx("p",{className:"text-gray-700",children:"Losowanie jeszcze się nie odbyło. 🎁"}),it.jsx("p",{className:"text-gray-700",children:"Uzupełnij profil i przygotuj swoją listę życzeń"})]}):n?it.jsxs("div",{className:"bg-blue-500 text-white shadow rounded p-4 mb-6",children:[it.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Twoja wylosowana osoba"}),it.jsx("p",{className:"mb-3",children:it.jsxs("span",{className:"font-bold",children:[n.firstName," ",n.lastName]})}),it.jsx("h3",{className:"mb-1",children:"Wymarzony prezent to:"}),n.wishlist.length>0?it.jsx("ul",{className:"list-disc pl-5",children:n.wishlist.map(x=>it.jsx("li",{children:it.jsxs("div",{children:[x.name," ",it.jsx("a",{href:x.link,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-500 hover:underline ml-2 text-sm",children:"[LINK]"})]})},x.name))}):it.jsx("p",{className:"text-gray-200",children:"Brak dodanych życzeń"})]}):it.jsxs("div",{className:"bg-yellow-100 p-4 rounded shadow text-center",children:[it.jsx("p",{children:"Nie znasz jeszcze osoby której robisz prezent!"}),it.jsx("button",{onClick:R,className:"bg-red-600 text-white px-4 py-2 cursor-pointer rounded hover:bg-red-700 mt-3",children:"Wylosuj osobę 🎲"})]})},Kx=()=>{const{user:r,loading:t}=Ho(),[n,s]=G.useState(null),[o,u]=G.useState(""),[f,m]=G.useState(""),[p,g]=G.useState(!0),E=async()=>{if(!r)return;const R=ji(Yn,"users",r.uid),x=await _o(R);if(x.exists()){const H=x.data();s(H),u(H.firstName||""),m(H.lastName||"")}else await Xw(R,{firstName:"",lastName:"",wishlist:[]});g(!1)};G.useEffect(()=>{t||E()},[r,t]);const T=async()=>{if(!r)return;const R=ji(Yn,"users",r.uid);try{await cf(R,{firstName:o,lastName:f}),vs.success("Profil zapisany pomyślnie"),E()}catch(x){vs.error("Wystąpił problem z zapisaniem profilu: "+x.message)}};return p||t?it.jsx("p",{children:"Ładowanie profilu..."}):it.jsxs("div",{className:"bg-white shadow rounded p-4",children:[it.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Profil"}),it.jsx("input",{type:"text",placeholder:"Imię",className:"w-full border rounded p-2 mb-2",value:o,onChange:R=>u(R.target.value)}),it.jsx("input",{type:"text",placeholder:"Nazwisko",className:"w-full border rounded p-2 mb-2",value:f,onChange:R=>m(R.target.value)}),it.jsxs("button",{onClick:T,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 cursor-pointer rounded",children:[n?.firstName&&n?.lastName?"Edytuj":"Zapisz"," profil"]})]})},Ww=()=>it.jsx("div",{className:"text-center h-full flex justify-center items-center",children:it.jsxs("div",{role:"status",children:[it.jsxs("svg",{"aria-hidden":"true",className:"inline w-24 h-24 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[it.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),it.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),it.jsx("span",{className:"sr-only",children:"Loading..."})]})}),Qx=()=>{const{user:r,loading:t}=Ho(),[n,s]=G.useState([]),[o,u]=G.useState(""),[f,m]=G.useState(""),[p,g]=G.useState(null),[E,T]=G.useState(!0),R=async()=>{if(!r)return;const U=ji(Yn,"users",r.uid),X=await _o(U);if(X.exists()){const nt=X.data();s(nt.wishlist||[])}T(!1)},x=async U=>{if(!r)return;const X=ji(Yn,"users",r.uid);await cf(X,{wishlist:U})},H=async()=>{if(!(!r||!o.trim()))if(p!==null){const U=[...n];U[p]={name:o.trim(),link:f.trim()||void 0},s(U),g(null),u(""),m(""),await x(U)}else{const U=[...n,{name:o.trim(),link:f.trim()||void 0}];s(U),u(""),m(""),await x(U)}},Z=U=>{const X=n[U];u(X.name),m(X.link||""),g(U)},k=async U=>{if(!r)return;const X=n.filter(nt=>nt.name!==U);s(X),await x(X)};return G.useEffect(()=>{t||R()},[r,t]),E?it.jsx("p",{children:"Ładowanie listy życzeń..."}):it.jsxs("div",{className:"bg-white shadow rounded p-4",children:[it.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Moja lista życzeń"}),it.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[it.jsx("input",{type:"text",placeholder:"Dodaj prezent...",className:"flex-1 border rounded p-2",value:o,onChange:U=>u(U.target.value)}),it.jsx("input",{type:"url",placeholder:"(opcjonalny link do prezentu)",className:"flex-1 border rounded p-2",value:f,onChange:U=>m(U.target.value)}),it.jsx("button",{onClick:H,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 cursor-pointer rounded text-lg",children:p!==null?"Zapisz zmiany":"Dodaj prezent 🎁"})]}),it.jsx("div",{children:n.length>0?it.jsxs(it.Fragment,{children:[it.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Drogi Mikołaju, w tym roku życzę sobie:"}),it.jsx("ul",{className:"list-disc mt-4 space-y-2",children:n.map((U,X)=>it.jsxs("li",{className:"flex justify-between items-center gap-2",children:[it.jsxs("div",{children:[it.jsxs("span",{children:["✔ ",U.name]}),U.link&&it.jsx("a",{href:U.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline ml-2 text-sm",children:"[LINK]"})]}),it.jsxs("div",{className:"flex gap-2",children:[it.jsx("button",{onClick:()=>Z(X),className:"text-blue-600 hover:underline text-sm cursor-pointer",children:"Edytuj"}),it.jsx("button",{onClick:()=>k(U.name),className:"text-red-500 hover:underline text-sm cursor-pointer",children:"Usuń"})]})]},X))})]}):it.jsx("p",{className:"text-gray-500 italic mt-1",children:"Nie dodałeś jeszcze żadnych życzeń 🎅"})})]})},Xx=r=>r==="hz7YELYs2kPzrP5XC27InGS0lih1";function $x(){const{user:r}=Ho(),t=hp();return it.jsxs("div",{className:"max-w-md mx-auto p-6 flex flex-col gap-6 relative z-10",children:[it.jsx("h1",{className:"text-5xl text-center text-white",children:"Panel użytkownika"}),it.jsx(Kx,{}),it.jsx(Qx,{}),it.jsx(Yx,{}),Xx(r?.uid)&&it.jsx("button",{onClick:()=>t("/admin"),className:"bg-blue-800 text-white px-4 py-2 cursor-pointer rounded hover:bg-blue-700",children:"Panel Admina"}),it.jsx("button",{onClick:()=>HI(zh),className:"bg-red-500 text-white px-4 py-2 mb-3 cursor-pointer rounded hover:bg-red-600",children:"Wyloguj"})]})}function Wx(){const{user:r}=Ho(),[t,n]=G.useState([]),[s,o]=G.useState({}),[u,f]=G.useState(!0),[m,p]=G.useState(!1),[g,E]=G.useState(!1),T=async()=>{const U=await Cm(Im(Yn,"users")),X=[];U.forEach(nt=>{const dt=nt.data();X.push({id:nt.id,firstName:dt.firstName||"",lastName:dt.lastName||"",wishlist:dt.wishlist||[],excludedIds:dt.excludedIds||[]})}),n(X)},R=async()=>{const U=await Cm(Im(Yn,"pairs")),X={};U.forEach(nt=>{const dt=nt.data();X[nt.id]={recipientId:dt.recipientId,revealed:!!dt.revealed}}),o(X)},x=async(U,X)=>{n(nt=>nt.map(dt=>dt.id===U?{...dt,excludedIds:X}:dt)),await cf(ji(Yn,"users",U),{excludedIds:X})},H=U=>{const X=[...U],nt={};for(const dt of U){const gt=X.filter(I=>{const C=I.lastName.toLowerCase().includes(dt.lastName.toLowerCase())||dt.lastName.toLowerCase().includes(I.lastName.toLowerCase()),O=dt.excludedIds?.includes(I.id);return I.id!==dt.id&&!C&&!O});if(gt.length===0)throw new Error(`Nie udało się wylosować dla ${dt.firstName} ${dt.lastName}`);const bt=Math.floor(Math.random()*gt.length),V=gt[bt];nt[dt.id]=V.id,X.splice(X.findIndex(I=>I.id===V.id),1)}return nt},Z=async()=>{if(t.length<2)return alert("Potrzebujesz co najmniej 2 uczestników, aby rozpocząć losowanie.");p(!0);try{const U=H(t);for(const[X,nt]of Object.entries(U))await Xw(ji(Yn,"pairs",X),{recipientId:nt,revealed:!1});vs.success("Losowanie zakończone pomyślnie! 🎅 Wszystkie pary zapisane."),await R()}catch(U){console.error(U),vs.error("Błąd podczas losowania. Spróbuj ponownie.")}finally{p(!1)}},k=async()=>{if(confirm("Czy na pewno chcesz zresetować losowanie? Wszystkie przypisania zostaną usunięte!")){E(!0);try{const X=(await Cm(Im(Yn,"pairs"))).docs.map(nt=>mx(nt.ref));await Promise.all(X),vs.success("Losowanie zostało zresetowane 🎄"),o({})}catch(U){console.error(U),vs.error("Błąd podczas resetowania losowania.")}finally{E(!1)}}};return G.useEffect(()=>{r&&(async()=>(await T(),await R(),f(!1)))()},[r]),u?it.jsx(Ww,{}):it.jsxs("div",{className:"max-w-5xl mx-auto p-6 relative z-10",children:[it.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"🎅 Admin – Losowanie Tajemniczego Mikołaja"}),it.jsx("div",{className:"overflow-x-auto bg-white shadow rounded-lg mb-6 border",children:it.jsxs("table",{className:"min-w-full text-sm text-left border-collapse",children:[it.jsx("thead",{children:it.jsxs("tr",{className:"bg-gray-100 border-b",children:[it.jsx("th",{className:"px-4 py-2 font-semibold",children:"Imię i nazwisko"}),it.jsx("th",{className:"px-4 py-2 font-semibold text-center",children:"Lista życzeń 🎁"}),it.jsx("th",{className:"px-4 py-2 font-semibold text-center",children:"Odkrył osobę 👀"}),it.jsx("th",{className:"px-4 py-2 font-semibold",children:"Nie może wylosować"})]})}),it.jsx("tbody",{children:t.map(U=>{const X=U.wishlist&&U.wishlist.length>0,nt=s[U.id]?.revealed;return it.jsxs("tr",{className:"[&:not(:last-child)]:border-b hover:bg-gray-50",children:[it.jsxs("td",{className:"px-4 py-2",children:[it.jsxs("span",{className:"font-medium",children:[U.firstName," ",U.lastName]}),it.jsx("span",{className:"text-gray-400 text-xs block",children:U.id})]}),it.jsx("td",{className:"px-4 py-2 text-center",children:X?it.jsx("span",{className:"text-green-600",children:"✔️"}):it.jsx("span",{className:"text-gray-400",children:"❌"})}),it.jsx("td",{className:"px-4 py-2 text-center",children:nt?it.jsx("span",{className:"text-green-600 font-semibold",children:"✅ TAK"}):it.jsx("span",{className:"text-gray-400",children:"—"})}),it.jsx("td",{className:"px-4 py-2",children:it.jsx("select",{multiple:!0,value:U.excludedIds||[],onChange:dt=>{const gt=Array.from(dt.target.selectedOptions).map(bt=>bt.value);x(U.id,gt)},className:"border rounded w-full p-2 text-sm h-24",children:t.filter(dt=>dt.id!==U.id).map(dt=>it.jsxs("option",{value:dt.id,children:[dt.firstName," ",dt.lastName]},dt.id))})})]},U.id)})})]})}),it.jsxs("div",{className:"flex gap-3 justify-center",children:[it.jsx("button",{disabled:m,onClick:Z,className:`bg-blue-500 text-white px-5 py-2 rounded hover:bg-blue-600 cursor-pointer ${m?"opacity-50 cursor-not-allowed":""}`,children:m?"Losowanie...":"Wylosuj wszystkich 🎲"}),it.jsx("button",{disabled:g,onClick:k,className:`bg-red-500 text-white px-5 py-2 rounded hover:bg-red-600 cursor-pointer ${g?"opacity-50 cursor-not-allowed":""}`,children:g?"Resetuję...":"Resetuj losowanie ♻️"})]})]})}var Nm,sE;function Zx(){if(sE)return Nm;sE=1;var r=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(u,f){if(u===f)return!0;if(u&&f&&typeof u=="object"&&typeof f=="object"){if(u.constructor!==f.constructor)return!1;var m,p,g;if(Array.isArray(u)){if(m=u.length,m!=f.length)return!1;for(p=m;p--!==0;)if(!o(u[p],f[p]))return!1;return!0}var E;if(t&&u instanceof Map&&f instanceof Map){if(u.size!==f.size)return!1;for(E=u.entries();!(p=E.next()).done;)if(!f.has(p.value[0]))return!1;for(E=u.entries();!(p=E.next()).done;)if(!o(p.value[1],f.get(p.value[0])))return!1;return!0}if(n&&u instanceof Set&&f instanceof Set){if(u.size!==f.size)return!1;for(E=u.entries();!(p=E.next()).done;)if(!f.has(p.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(u)&&ArrayBuffer.isView(f)){if(m=u.length,m!=f.length)return!1;for(p=m;p--!==0;)if(u[p]!==f[p])return!1;return!0}if(u.constructor===RegExp)return u.source===f.source&&u.flags===f.flags;if(u.valueOf!==Object.prototype.valueOf&&typeof u.valueOf=="function"&&typeof f.valueOf=="function")return u.valueOf()===f.valueOf();if(u.toString!==Object.prototype.toString&&typeof u.toString=="function"&&typeof f.toString=="function")return u.toString()===f.toString();if(g=Object.keys(u),m=g.length,m!==Object.keys(f).length)return!1;for(p=m;p--!==0;)if(!Object.prototype.hasOwnProperty.call(f,g[p]))return!1;if(r&&u instanceof Element)return!1;for(p=m;p--!==0;)if(!((g[p]==="_owner"||g[p]==="__v"||g[p]==="__o")&&u.$$typeof)&&!o(u[g[p]],f[g[p]]))return!1;return!0}return u!==u&&f!==f}return Nm=function(f,m){try{return o(f,m)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},Nm}var Jx=Zx();const yh=ap(Jx);function cn(r,t){return!Number.isInteger(r)||!Number.isInteger(t)?Math.random()*(t-r)+r:Math.floor(Math.random()*(t-r+1)+r)}function Dm(r,t,n){return(1-n)*r+n*t}function tO(r){const t=Math.floor(Math.random()*r.length);return r[t]}function aE(r){return r?{height:r.offsetHeight,width:r.offsetWidth}:{height:0,width:0}}const eO=Math.PI*2,Rr={color:"#dee4fd",radius:[.5,3],speed:[1,3],wind:[-.5,2],changeFrequency:200,rotationSpeed:[-1,1],opacity:[1,1]};class ma{static createSnowflakes(t,n,s){if(!t)return[];const o=[];for(let u=0;u<n;u++)o.push(new ma(t,s));return o}constructor(t,n={}){this.updateConfig(n);const{radius:s,wind:o,speed:u,rotationSpeed:f,opacity:m}=this.config;this.params={x:cn(0,t.offsetWidth),y:cn(-t.offsetHeight,0),rotation:cn(0,360),radius:cn(...s),speed:cn(...u),wind:cn(...o),rotationSpeed:cn(...f),nextSpeed:cn(...u),nextWind:cn(...o),nextRotationSpeed:cn(...f),opacity:cn(...m),hasNextOpacity:!1},this.framesSinceLastUpdate=0}selectImage(){this.config.images&&this.config.images.length>0?this.image=tO(this.config.images):this.image=void 0}updateConfig(t){const n=this.config;this.config={...Rr,...t},this.config.changeFrequency=cn(this.config.changeFrequency,this.config.changeFrequency*1.5),this.params&&!yh(this.config.radius,n?.radius)&&(this.params.radius=cn(...this.config.radius)),yh(this.config.images,n?.images)||this.selectImage(),n?.opacity&&!yh(this.config.opacity,n?.opacity)&&(this.params.hasNextOpacity=!0)}updateTargetParams(){this.params.nextSpeed=cn(...this.config.speed),this.params.nextWind=cn(...this.config.wind),this.image&&(this.params.nextRotationSpeed=cn(...this.config.rotationSpeed))}update(t,n,s=1){const{x:o,y:u,rotation:f,rotationSpeed:m,nextRotationSpeed:p,wind:g,speed:E,nextWind:T,nextSpeed:R,radius:x}=this.params;this.params.x=(o+g*s)%(t+x*2),this.params.x>t+x&&(this.params.x=-x),this.params.y=(u+E*s)%(n+x*2),this.params.y>n+x&&(this.params.hasNextOpacity&&(this.params.opacity=cn(...this.config.opacity),this.params.hasNextOpacity=!1),this.params.y=-x),this.image&&(this.params.rotation=(f+m)%360),this.params.speed=Dm(E,R,.01),this.params.wind=Dm(g,T,.01),this.params.rotationSpeed=Dm(m,p,.01),this.framesSinceLastUpdate++>this.config.changeFrequency&&(this.updateTargetParams(),this.framesSinceLastUpdate=0)}getImageOffscreenCanvas(t,n){var s,o;if(t instanceof HTMLImageElement&&t.loading)return t;let u=ma.offscreenCanvases.get(t);if(u||(u={},ma.offscreenCanvases.set(t,u)),!(n in u)){const f=document.createElement("canvas");f.width=n,f.height=n,(s=f.getContext("2d"))===null||s===void 0||s.drawImage(t,0,0,n,n),u[n]=f}return(o=u[n])!==null&&o!==void 0?o:t}drawCircle(t){t.moveTo(this.params.x,this.params.y),t.arc(this.params.x,this.params.y,this.params.radius,0,eO)}drawImage(t){const{x:n,y:s,rotation:o,radius:u}=this.params,f=o*Math.PI/180,m=Math.cos(f),p=Math.sin(f);this.params.opacity!==1&&(t.save(),t.globalAlpha=this.params.opacity),t.setTransform(m,p,-p,m,n,s);const g=this.getImageOffscreenCanvas(this.image,u);t.drawImage(g,-(u/2),-(u/2),u,u),this.params.opacity!==1&&t.restore()}}ma.offscreenCanvases=new WeakMap;const nO={pointerEvents:"none",backgroundColor:"transparent",position:"absolute",top:0,left:0,width:"100%",height:"100%"},iO=1e3/60;var oE=function(r,t,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(r):s?s.value:t.get(r)},rh=function(r,t,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!o:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(r,n):o?o.value=n:t.set(r,n),n},Zl,Jl;class rO{get ctx(){return oE(this,Zl,"f")}get canvas(){return oE(this,Jl,"f")}set canvas(t){rh(this,Jl,t,"f"),rh(this,Zl,t.getContext("2d"),"f")}constructor(t,n){this.lastUpdate=Date.now(),this.snowflakes=[],Zl.set(this,void 0),Jl.set(this,void 0),rh(this,Jl,t,"f"),rh(this,Zl,t.getContext("2d"),"f"),this.config={snowflakeCount:150,...Rr,...n},this.snowflakes=[],this.snowflakes=ma.createSnowflakes(t,n.snowflakeCount||150,n),this.play()}updateConfig(t){this.config={...this.config,...t};const n=this.config.snowflakeCount-this.snowflakes.length;n>0&&(this.snowflakes=[...this.snowflakes,...ma.createSnowflakes(this.canvas,n,t)]),n<0&&(this.snowflakes=this.snowflakes.slice(0,this.config.snowflakeCount));for(const s of this.snowflakes)s.updateConfig(this.config)}render(t=1){const{ctx:n,canvas:s,snowflakes:o}=this;if(!n||!s)return;const{offsetWidth:u,offsetHeight:f}=s;for(const m of o)m.update(u,f,t);if(n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,u,f),this.config.images&&this.config.images.length>0){for(const m of o)m.drawImage(n);return}n.beginPath();for(const m of o)m.drawCircle(n);n.fillStyle=this.config.color,n.fill()}loop(){const t=Date.now(),n=Date.now()-this.lastUpdate;this.lastUpdate=t;const s=n/iO;this.render(s),this.animationFrame=requestAnimationFrame(()=>this.loop())}play(){this.loop()}pause(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0)}}Zl=new WeakMap,Jl=new WeakMap;const sO=r=>{const[t,n]=G.useState(aE(r.current)),s=G.useCallback(()=>{r.current&&n(aE(r.current))},[r]);return G.useEffect(()=>{const{ResizeObserver:o}=window;if(r.current)if(s(),typeof o=="function"){const u=new o(s);return u.observe(r.current),()=>u.disconnect()}else return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[r,s]),t},aO=r=>G.useMemo(()=>({...nO,...r||{}}),[r]);function oO(r,t){const n=G.useRef(t);return yh(t,n.current)||(n.current=t),G.useEffect(r,n.current)}function lO(r){const[t,n]=G.useState(r);return oO(()=>n(r),[r]),t}const uO=({color:r=Rr.color,changeFrequency:t=Rr.changeFrequency,radius:n=Rr.radius,speed:s=Rr.speed,wind:o=Rr.wind,rotationSpeed:u=Rr.rotationSpeed,opacity:f=Rr.opacity,snowflakeCount:m=150,images:p,style:g}={})=>{const E=aO(g),T=G.useRef(null),R=sO(T),x=lO({color:r,changeFrequency:t,radius:n,speed:s,wind:o,rotationSpeed:u,images:p,snowflakeCount:m,opacity:f}),H=G.useRef(x),Z=G.useRef();return G.useEffect(()=>(!Z.current&&T.current&&(Z.current=new rO(T.current,H.current)),()=>{var k;(k=Z.current)===null||k===void 0||k.pause(),Z.current=void 0}),[]),G.useEffect(()=>{Z.current&&Z.current.updateConfig(x)},[x]),ft.createElement("canvas",{ref:T,height:R.height,width:R.width,style:E,"data-testid":"SnowfallCanvas"})};function cO(){const{user:r,loading:t}=Ho();return t?it.jsx(Ww,{}):it.jsx("div",{className:"md:min-h-lvh bg-[url(/bg.jpg)] bg-no-repeat bg-cover",children:it.jsxs("div",{className:"md:min-h-lvh bg-blue-500/50",children:[it.jsx(uO,{color:"white",snowflakeCount:1e3,style:{position:"fixed",width:"100vw",height:"100vh",zIndex:0}}),it.jsx(wS,{children:r?it.jsxs(it.Fragment,{children:[it.jsx(Gl,{path:"/",element:it.jsx($x,{})}),it.jsx(Gl,{path:"/admin",element:it.jsx(Wx,{})}),it.jsx(Gl,{path:"*",element:it.jsx(ES,{to:"/"})})]}):it.jsx(Gl,{path:"*",element:it.jsx(yx,{})})}),it.jsx(Fx,{position:"bottom-center",richColors:!0})]})})}x1.createRoot(document.getElementById("root")).render(it.jsx(G.StrictMode,{children:it.jsx(GS,{children:it.jsx(cO,{})})}))});export default hO();
